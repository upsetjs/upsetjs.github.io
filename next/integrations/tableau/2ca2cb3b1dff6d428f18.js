(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{87:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));function r(e,t,n,r){var a,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{o(r.next(e))}catch(e){i(e)}}function l(e){try{o(r.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))}},89:function(e,t,n){"use strict";function r(e){return e instanceof Set?e.size:e.length}function a(e,t){var n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),a=n.size,i={setA:a,setB:a,union:a,intersection:a};return function(s){if(s===e)return i;var l=0;s.forEach((function(e){(t&&n.has(t(e))||!t&&n.has(e))&&l++}));var o=r(s);return{setA:a,setB:o,intersection:l,union:a+o-l}}}function i(e,t){var n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),r=Array.isArray(e)?e:Array.from(e),a={setA:r,setB:r,union:r,intersection:r};return function(i){if(i===e)return a;var s=[],l=r.slice();return i.forEach((function(e){t&&n.has(t(e))||!t&&n.has(e)?s.push(e):l.push(e)})),{setA:r,setB:Array.isArray(i)?i:Array.from(i),intersection:s,union:l}}}function s(e){return Array.isArray(e.elems)}function l(e){return"function"==typeof e.overlap}function o(e){return null!=e.set}function c(e,t,n){if(l(e))return e.overlap;if(o(e)&&e.set.overlap)return e.set.overlap;var r=a(s(e)?e.elems:e.set.elems,n);return function(n){return n.overlap&&s(e)&&Array.isArray(e.elems)?n.overlap(e.elems):n.overlap&&o(e)?n.overlap(e.set):r(n.elems)[t]}}function u(e,t,n){if(l(e))return function(){return null};if("intersection"===t){var r=function(e,t){var n=e instanceof Set?Array.from(e):e,r=t?new Set(n.map(t)):e instanceof Set?e:new Set(e);return function(a){if(a===e)return n;var i=[];return a.forEach((function(e){(t&&r.has(t(e))||!t&&r.has(e))&&i.push(e)})),i}}(s(e)?e.elems:e.set.elems,n);return function(e){return r(e.elems)}}var a=i(s(e)?e.elems:e.set.elems,n);return function(e){return a(e.elems)[t]}}function f(e){return null!=e&&"number"==typeof e.cardinality&&"string"==typeof e.name&&Array.isArray(e.elems)}function d(e){return f(e)&&"set"===e.type}function m(e){var t=e;return f(e)&&["composite","union","intersection"].includes(t.type)&&t.sets instanceof Set&&"number"==typeof t.degree}function y(e){return d(e)||m(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function v(e,t){return e.name.localeCompare(t.name)}function g(e,t){return t.cardinality-e.cardinality}function b(e,t){return e.degree-t.degree}function x(e){return function(t,n){return e.reduce((function(e,r){return 0===e?r(t,n):e}),0)}}function S(e){return function(t,n){var r=function(e){return e<0?Number.POSITIVE_INFINITY:e};return r(e.findIndex((function(e){return t.sets.has(e)})))-r(e.findIndex((function(e){return n.sets.has(e)})))}}function E(e,t,n){for(var r=void 0===n?{}:n,a=r.min,i=void 0===a?0:a,s=r.max,l=void 0===s?1/0:s,o=Math.pow(2,e.length),c=0,u=1,f=0;f<o;f++){f>=u&&(c++,u<<=1);for(var d=[],m=0;m<c;m++)f&1<<m&&d.push(e[m]);d.length>=i&&d.length<=l&&t(d)}}function w(e,t,n){for(var r=void 0===n?{}:n,a=r.min,i=void 0===a?0:a,s=r.max,l=void 0===s?1/0:s,o=BigInt(0),c=BigInt(1),u=BigInt(2)<<BigInt(e.length),f=0,d=c,m=e.map((function(e,t){return c<<BigInt(t)})),y=o;y<u;y+=c){y>=d&&(f++,d<<=c);for(var h=[],p=0;p<f;p++)(y&m[p])!==o&&h.push(e[p]);h.length>=i&&h.length<=l&&t(h)}}function N(e,t,n){var r=void 0===n?{}:n,a=r.min,i=void 0===a?0:a,s=r.max,l=void 0===s?1/0:s,o=function(e){return e>=i&&e<=l};o(0)&&t([]),function n(r,a){if(!(r.length>=l))for(var i=a;i<e.length;i++)r.push(e[i]),o(r.length)&&t(r.slice()),n(r,i+1),r.pop()}([],0)}n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return H})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return O}));var k={intersection:" ∩ ",union:" ∪ ",composite:","};function A(e,t,n,r){var a=new Map(e.map((function(e){return[e,r?new Set(e.elems.map(r)):new Set(e.elems)]}))),i=r?null:a,s=r?a:null;return function(e){if(0===e.length){if(Array.isArray(n))return n;if(s&&r){var a=Array.from(s.values());return t.filter((function(e){var t=r(e);return a.every((function(e){return!e.has(t)}))}))}var l=Array.from(i.values());return t.filter((function(e){return l.every((function(t){return!t.has(e)}))}))}if(1===e.length)return e[0].elems;var o=e.reduce((function(e,t){return!e||e.length>t.elems.length?t.elems:e}),null);return s&&r?o.filter((function(t){var n=r(t);return e.every((function(e){return s.get(e).has(n)}))})):o.filter((function(t){return e.every((function(e){return i.get(e).has(t)}))}))}}function z(e,t,n,r){return function(a){if(0===a.length){if(Array.isArray(n))return n;if(r){var i=new Set;return e.forEach((function(e){e.elems.forEach((function(e){return i.add(r(e))}))})),t.filter((function(e){return!i.has(r(e))}))}var s=new Set;return e.forEach((function(e){e.elems.forEach((function(e){return s.add(e)}))})),t.filter((function(e){return!s.has(e)}))}if(1===a.length)return a[0].elems;var l=a.reduce((function(e,t){return!e||e.length<t.elems.length?t.elems:e}),null),o=l.slice(),c=r?new Set(o.map(r)):new Set(o);return a.forEach((function(e){e.elems!==l&&e.elems.forEach((function(e){if(r){var t=r(e);c.has(t)||(o.push(e),c.add(t))}else c.has(e)||(o.push(e),c.add(e))}))})),o}}function M(e,t){var n=void 0===t?{type:"intersection"}:t,r=n.type,a=n.min,i=void 0===a?0:a,s=n.max,l=void 0===s?1/0:s,o=n.empty,c=void 0!==o&&o,u=n.elems,f=void 0===u?[]:u,d=n.notPartOfAnySet,m=n.toElemKey,h=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["type","min","max","empty","elems","notPartOfAnySet","toElemKey"]),p=k[r],M=[],C=("intersection"===r?A:z)(e,f,d,m);return function(e,t){void 0===t&&(t={});var n=function(n){return{forEach:function(r){return n(e,r,t)}}};return Math.pow(2,e.length)<Number.MAX_SAFE_INTEGER?n(E):void 0!==window.BigInt?n(w):n(N)}(e,{min:i,max:l}).forEach((function(e){if(0===e.length&&"number"==typeof d&&d>0)M.push({type:"composite",elems:[],sets:new Set,name:"()",cardinality:d,overlap:function(e){return e===this||y(e)&&e.name===this.name&&e.cardinality===this.cardinality?this.cardinality:0},degree:0});else{var t=C(e);(c||0!==t.length)&&M.push({type:0===e.length?"composite":r,elems:t,sets:new Set(e),name:1===e.length?e[0].name:"("+e.map((function(e){return e.name})).join(p)+")",cardinality:t.length,degree:e.length})}})),function(e,t,n){void 0===n&&(n={});var r=t;if(n.order){var a=Array.isArray(n.order)?n.order:[n.order],i={cardinality:g,name:v,degree:b,group:S(e)},s=x(a.map((function(e){return i[e]})));r=r.sort(s)}return null!=n.limit?r.slice(0,n.limit):r}(e,M,h)}function C(e){return Object.assign({type:"set",cardinality:e.elems.length},e)}function O(e){return e.name+":"+e.type+"#"+e.cardinality}var L=function(e,t,n){var r=e.length+n,a=t/Math.max(1,r),i=t-a*e.length,s=new Map(e.map((function(e,t){return[e,t]}))),l=a/(1+n),o=function(e){var t=s.get(e);if(null!=t)return i+a*t};return o.bandwidth=function(){return l},o};function T(e,t,n){void 0===n&&(n=1);for(var r=0;r<e.length-n;r+=n){var a=e[r],i=e[r+1];if(a<i){if(a+t[r]/2>i-t[r+1]/2)return!0}else{var s=a-t[r]/2;if(i+t[r+1]/2>s)return!0}}return!1}function I(e,t,n,r,a){var i=e[e.length-1];if(!i.label)for(var s=e.length-2;s>0;--s)if(e[s].label){i=e[s];break}if(i.value<t){var l=n(i.value),o=n(t);if(l<o){l+r(i.value)/2<o-r(t)/2&&e.push({value:t,label:a(t)})}else{var c=l-r(i.value)/2;o+r(t)/2<c&&e.push({value:t,label:a(t)})}}return e}function q(e,t,n){return void 0===t&&(t=String),void 0===n&&(n=1),e.map((function(e,r){return{value:e,label:1===n||r%n==0?t(e):void 0}}))}function B(e,t,n,r,a){var i=e.map((function(e){return t(e)})),s=e.map((function(e){return n(e)}));return T(i,s)&&T(i,s,2)?null:I(q(e,a),r,t,n,a)}function j(e){return e.toLocaleString()}function P(e,t){void 0===t&&(t=1);for(var n=[],r=0;r<=e;r+=t)n.push(r);return n}function W(e,t,n,r){if(t<=0)return[];for(var a,i=p(function(e,t){void 0===t&&(t=11);var n=Math.max(0,Math.floor(Math.log10(e)-.5)),r=Math.pow(10,n),a=[1,2,5],i=a.map((function(e){return e*r}));n>0&&i.unshift(a[a.length-1]*Math.pow(10,n-1)),i.push(a[0]*Math.pow(10,n+1));var s=Math.ceil(e/t);return i.filter((function(t){return t>=s&&t<=e}))}(e,t));!(a=i()).done;){var s=B(P(e,a.value),n,r,e,j);if(s)return s}return q([0,e],j)}var H=function(e,t,n){var r=t[1]-t[0],a=e,i=function(e){var n=e/a;return t[0]+n*r};return i.ticks=function(t){if(void 0===t&&(t=10),"vertical"===n.orientation){var r=Math.ceil(1.4*n.fontSizeHint);return W(e,t+1,i,(function(){return r}))}var a=n.fontSizeHint/1.4;return W(e,t+1,i,(function(e){return Math.ceil(j(e).length*a)}))},i.tickFormat=function(){return j},i};function R(e){var t=["","k","M","G"],n=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),t.length-1));return""+(Math.round(e/Math.pow(10,3*n-1))/10).toLocaleString()+t[n]}function K(e,t){for(var n=[],r=Math.pow(10,t),a=1;a<=e;a*=r)n.push(a);return n}function F(e,t){for(var n=[],r=1,a=0;r<=e;r*=10,a++){n.push({value:r,label:1===t||a%t==0?R(r):void 0});for(var i=r+r;i<10*r&&i<e;i+=r*t)n.push({value:i})}return n}function U(e,t,n,r){if(t<=0)return[];for(var a=0,i=[1,2,5];a<i.length;a++){var s=i[a];if(B(K(e,s),n,r,e,R))return I(F(e,s),e,n,r,R)}return q([0,e],R)}var _=function(e,t,n){var r=t[1]-t[0],a=e<1?1:Math.log10(e),i=function(e){var n=e<=1?0:Math.log10(e)/a;return t[0]+n*r};return i.ticks=function(t){if(void 0===t&&(t=10),"vertical"===n.orientation){var r=Math.ceil(1.4*n.fontSizeHint);return U(e,t+1,i,(function(){return r}))}var a=n.fontSizeHint/1.4;return U(e,t+1,i,(function(e){return Math.ceil(R(e).length*a)}))},i.tickFormat=function(){return R},i}},92:function(e,t,n){"use strict";n.d(t,"b",(function(){return E}));var r=n(0),a=n.n(r),i=n(89),s={},l=[],o={setLabel:"16px",axisTick:"10px",chartLabel:"16px",barLabel:"10px",legend:"10px"},c=[.18,.12,.7],u=[.6,.4],f={type:"intersection"},d={selectionColor:"#ffa500",color:"#000000",textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"#0000000d"},m={selectionColor:"#ffa500",color:"#cccccc",textColor:"#ffffff",hoverHintColor:"#d9d9d9",notMemberColor:"#666666",alternatingBackgroundColor:"#ffffff33"};function y(e){var t,n=function(e){return"dark"===e?m:d}(e.theme);return Object.assign({theme:"light",padding:20,barPadding:.3,dotPadding:.7,combinations:f,selection:null,combinationName:null==e.combinations||(t=e.combinations,Array.isArray(t))||"union"!==e.combinations.type?"Intersection Size":"Union Size",barLabelOffset:2,setNameAxisOffset:"auto",combinationNameAxisOffset:"auto",setName:"Set Size",fontFamily:"sans-serif",widthRatios:c,heightRatios:u,queries:l,queryLegend:null!=e.queries&&e.queries.length>0,exportButtons:!0,numericScale:"linear",bandScale:"band",className:"",fontSizes:o,classNames:s,style:s,styles:s,childrenFactories:s,setAddons:l,combinationAddons:l,emptySelection:!0,toKey:i.l},n,e,e.fontSizes?{fontSizes:Object.assign({},o,e.fontSizes)}:s)}function h(){}function p(e){return e?function(t){return function(n){return e.call(this,t,n.nativeEvent)}}:h}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function g(e){var t=0,n=0;return function(r){var a=0;return"before"===r.position?a=-(t+=r.size):(a=e+n,n+=r.size),a}}function b(e){return"upset-"+Math.random().toString(36).slice(4)}function x(e,t,n,r,a,s,l,o,c,u,f,d){var m,y="linear"===(m=r)?i.f:"log"===m?i.g:m,h=function(e){return"band"===e?i.b:e}(a),p=function(e){return Array.isArray(e)}(t)?t:Object(i.c)(e,t),v=h(p.map(u),n.cs.w,n.padding),g=p.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),x=y(g,[n.cs.h,s],{orientation:"vertical",fontSizeHint:c}),S=function(e){return Math.floor(s/1.4*.7*x.tickFormat()(e).length)},E=e.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),w=S(E),N=S(g),k=y(E,[n.sets.w,w],{orientation:"horizontal",fontSizeHint:c}),A=e.map(u),z=h(A.slice().reverse(),n.sets.h,n.padding),M=Math.min(z.bandwidth(),v.bandwidth())/2*l,C=Math.max(2,Math.min(z.bandwidth(),v.bandwidth())/2*o);return{id:d||b(),r:M,triangleSize:C,sets:{v:e,keys:A,rv:e.slice().reverse(),x:k,xAxisWidth:n.sets.w-w,y:function(e){return z(u(e))},bandWidth:z.bandwidth(),cy:z.bandwidth()/2+n.cs.h,format:k.tickFormat(),labelOffset:s+9+2},cs:{v:p,keys:p.map(u),x:function(e){return v(u(e))},y:x,yAxisWidth:n.cs.h-s,cx:v.bandwidth()/2,bandWidth:v.bandwidth(),format:x.tickFormat(),has:function(e,t){var n=u(t);return Array.from(e.sets).some((function(e){return u(e)===n}))},labelOffset:N+9+6},toKey:u,toElemKey:f}}var S=function(e,t){var n=t.type,r=void 0===n?"png":n,a=t.title,i=void 0===a?"UpSet":a,s=t.toRemove;try{var l=function(){URL.revokeObjectURL(f)},o=e.dataset.theme,c=e.cloneNode(!0);c.style.backgroundColor="dark"===o?"#303030":"white",s&&Array.from(c.querySelectorAll(s)).forEach((function(e){return e.remove()}));var u=new Blob([(new XMLSerializer).serializeToString(c)],{type:"image/svg+xml;charset=utf-8"}),f=URL.createObjectURL(u),d=function(){if("svg"!==r)return Promise.resolve(function(e,t){var n=t.ownerDocument.createElement("canvas"),r=t.getBoundingClientRect();n.width=r.width,n.height=r.height;var a=n.getContext("2d"),i=new Image(n.width,n.height);return new Promise((function(t){i.onload=function(){a.drawImage(i,0,0);var e=n.toDataURL("image/png");t(e)},i.src=e}))}(f,e)).then((function(t){E(t,i+"."+r,e.ownerDocument)}));E(f,i+"."+r,e.ownerDocument)}();return Promise.resolve(d&&d.then?d.then(l):l())}catch(e){return Promise.reject(e)}};function E(e,t,n){var r=n.createElement("a");r.href=e,r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.download=t,document.body.appendChild(r),r.click(),r.remove()}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e){var t=e.currentTarget.closest("svg"),n=e.currentTarget.dataset.type||"png";"vega"!==n?S(t,{type:n,toRemove:"."+e.currentTarget.getAttribute("class")}):function(e,t){var n,r,a,i,s,l,o=(void 0===t?{}:t).title,c=void 0===o?"UpSet":o,u=null!==(n=e.getComputedStyle||(null===(r=e.ownerDocument)||void 0===r||null===(a=r.defaultView)||void 0===a?void 0:a.getComputedStyle))&&void 0!==n?n:window.getComputedStyle,f=e.dataset.theme,d=Array.from(e.classList).find((function(e){return e.startsWith("root-")})).slice("root-".length),m=Array.from(e.querySelectorAll("[data-upset=sets] [data-cardinality]")).map((function(e){return{name:e.querySelector("text.setTextStyle-"+d).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10)}})).reverse(),y=-Number.parseInt(e.querySelector(".sBarTextStyle-"+d).getAttribute("dx"),10),h=u(e.querySelector(".fillPrimary-"+d)).fill,p=u(e.querySelector(".fillNotMember-"+d)).fill,v=u(e.querySelector("text")).fill,g=e.querySelector(".cChartTextStyle-"+d).textContent,b=e.querySelector(".sChartTextStyle-"+d).textContent,x=Array.from(e.querySelectorAll("[data-upset=cs] [data-cardinality]")).map((function(e){return{name:e.querySelector("text.hoverBarTextStyle-"+d).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10),sets:Array.from(e.querySelectorAll(".fillPrimary-"+d+" > title")).map((function(e){return e.textContent}))}})),S=function(e){return Number.parseInt(e.getAttribute("transform").match(/(\d+),/)[1],10)},N=e.querySelector("[data-upset=base]"),k=S(N),A=S(e.querySelector("[data-upset=csaxis]")),z=Number.parseInt(N.querySelector("g").firstElementChild.children[1].getAttribute("x2"),10),M=(l=e.querySelector("[data-upset=setaxis]"),Number.parseInt(l.getAttribute("transform").match(/,(\d+)/)[1],10)),C=Number.parseInt(e.querySelector("defs rect").getAttribute("width"),10),O=Number.parseInt(e.querySelector("defs rect").getAttribute("height"),10),L=Number.parseInt(e.querySelector("[data-cardinality] circle").getAttribute("r"),10),T=null!=e.querySelector("[data-upset=sets-s] [data-cardinality]"),I="orange";T&&(Array.from(e.querySelectorAll("[data-upset=sets-s] [data-cardinality]")).forEach((function(e){var t=m.length-Number.parseInt(e.dataset.i,10)-1;m[t].selection=Number.parseInt(e.dataset.cardinality,10)})),Array.from(e.querySelectorAll("[data-upset=cs-s] [data-cardinality]")).forEach((function(e){var t=Number.parseInt(e.dataset.i,10);x[t].selection=Number.parseInt(e.dataset.cardinality,10)})),I=u(e.querySelector("[data-upset=sets-s] [data-cardinality]")).fill);var q=Number.parseInt(null!==(i=null===(s=e.querySelector("[data-upset=cs-ss]"))||void 0===s?void 0:s.dataset.i)&&void 0!==i?i:"-1",10),B=q>=0?{field:"partOf",oneOf:[1,2]}:{field:"partOf",equal:1},j={$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:c,datasets:{sets:m,combinations:x.map((function(e,t){return Object.assign({},e,{partOf:q===t?2:1,nsets:[""]})})).concat(x.map((function(e){return{name:e.name,cardinality:e.cardinality,partOf:0,sets:[""],nsets:m.filter((function(t){return!e.sets.includes(t.name)})).map((function(e){return e.name}))}})))},vconcat:[{hconcat:[{mark:"bar",width:A+C-40,height:M},{width:z,height:M,data:{name:"combinations"},transform:[{filter:B}],layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"center",baseline:"bottom",dy:-y},encoding:{text:{field:"cardinality",type:"quantitative"}}},T&&{mark:{type:"bar",fill:I,tooltip:!0},encoding:{y:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null},y:{field:"cardinality",type:"quantitative",axis:{grid:!1},title:g}}}]},{hconcat:[{width:A,height:O,data:{name:"sets"},layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"right",baseline:"middle",dx:-y},encoding:{text:{field:"cardinality",type:"quantitative"}}},T&&{mark:{type:"bar",fill:I,tooltip:!0},encoding:{x:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},x:{field:"cardinality",type:"quantitative",title:b,sort:"descending",axis:{grid:!1}}}},{data:{name:"sets"},width:C,height:O,mark:{type:"text",align:"center",baseline:"middle",fontSize:Number.parseInt(u(e.querySelector(".setTextStyle-"+d)).fontSize,10)},encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},text:{field:"name",type:"ordinal"}}},{width:z,height:O,data:{name:"combinations"},transform:[{flatten:["sets"],as:["has_set"]},{flatten:["nsets"],as:["has_not_set"]},{calculate:"datum.has_set+datum.has_not_set",as:"set"}],layer:[{mark:{type:"circle",size:L*L*Math.PI,tooltip:!0},encoding:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[p,h].concat(q>=0?[I]:[])}},y:{field:"set",type:"ordinal",axis:null,sort:null}}},{mark:"rule",transform:[{filter:B},{calculate:"datum.sets[datum.sets.length -1]",as:"set_end"}],encoding:w({y:{field:"sets[0]",type:"ordinal",axis:null,sort:null},y2:{field:"set_end"}},q<0?{}:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[h,I]}}})}],encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null}}}]}],config:{padding:k,background:"dark"===f?"#303030":"white",concat:{spacing:0},view:{stroke:null},bar:{fill:h},circle:{opacity:1},rule:{stroke:h,strokeWidth:Number.parseInt(u(e.querySelector("[data-upset=cs] [data-cardinality] line")).strokeWidth,10)},axis:{labelColor:v,labelFontSize:Number.parseInt(u(e.querySelector(".axisTextStyle-"+d)).fontSize,10),titleColor:v,titleFontSize:Number.parseInt(u(e.querySelector(".cChartTextStyle-"+d)).fontSize,10)},title:{color:v},text:{fill:v,fontSize:Number.parseInt(u(e.querySelector(".sBarTextStyle-"+d)).fontSize,10)}}},P=URL.createObjectURL(new Blob([JSON.stringify(j,null,2)],{type:"application/json"}));E(P,c+".json",e.ownerDocument),URL.revokeObjectURL(P)}(t)}function k(e){var t=e.transform,n=e.styleId;return a.a.createElement("g",{className:"exportButtons-"+n,transform:t},a.a.createElement("g",{className:"exportButton-"+n,onClick:N,"data-type":"png",transform:"translate(-50, 0)"},a.a.createElement("title",null,"Download PNG Image"),a.a.createElement("rect",{y:-9,width:24,height:11,rx:2,ry:2}),a.a.createElement("text",{className:"exportTextStyle-"+n,x:12},"PNG")),a.a.createElement("g",{className:"exportButton-"+n,onClick:N,"data-type":"svg",transform:"translate(-24, 0)"},a.a.createElement("title",null,"Download SVG Image"),a.a.createElement("rect",{y:-9,width:24,height:11,rx:2,ry:2}),a.a.createElement("text",{className:"exportTextStyle-"+n,x:12},"SVG")),a.a.createElement("g",{className:"exportButton-"+n,onClick:N,"data-type":"vega",transform:"translate(-84, 0)"},a.a.createElement("title",null,"Download VEGA-Lite Specification"),a.a.createElement("rect",{y:-9,width:32,height:11,rx:2,ry:2}),a.a.createElement("text",{className:"exportTextStyle-"+n,x:16},"VEGA")))}var A=a.a.memo((function(e){var t=e.queries,n=e.size,r=e.style,s=e.data;return a.a.createElement("text",{transform:"translate("+n.legend.x+",4)",style:r.styles.legend,className:v("legendTextStyle-"+r.id,r.classNames.legend)},t.map((function(e,t){var n=null;return Object(i.e)(e)?n=e.set.cardinality:Object(i.d)(e)&&(n=e.elems instanceof Set?e.elems.size:e.elems.length),a.a.createElement(a.a.Fragment,{key:e.name},a.a.createElement("tspan",{className:"fillQ"+t+"-"+s.id},"  ⬤ "),a.a.createElement("tspan",null,e.name,null!=n?": "+s.sets.format(n):""))})))})),z=a.a.memo((function(e){var t=e.pos,n=e.spacing,r=e.tickSizeInner,i=e.orient,s=e.name,l=e.style,o="top"===i||"left"===i?-1:1;return a.a.createElement("g",{transform:"translate(0, "+(t+.5)+")"},s&&a.a.createElement("text",{x:o*n,dy:"0.32em",className:v("axisTextStyle-"+l.id,"right"===i?"startText-"+l.id:"endText-"+l.id,l.classNames.axisTick),style:l.styles.axisTick},s),a.a.createElement("line",{x2:o*r,className:"axisLine-"+l.id}))})),M=a.a.memo((function(e){var t=e.pos,n=e.name,r=e.spacing,i=e.orient,s=e.tickSizeInner,l=e.style,o="top"===i||"left"===i?-1:1;return a.a.createElement("g",{transform:"translate("+(t+.5)+", 0)"},n&&a.a.createElement("text",{y:o*r,dy:"top"===i?"0em":"0.71em",className:v("axisTextStyle-"+l.id,l.classNames.axisTick),style:l.styles.axisTick},n),a.a.createElement("line",{y2:o*s,className:"axisLine-"+l.id}))}));function C(e){var t=e.scale,n=e.orient,r=e.tickSizeInner,i=void 0===r?6:r,s=e.tickSizeOuter,l=void 0===s?6:s,o=e.tickPadding,c=void 0===o?3:o,u=e.size,f=e.shift,d=e.style,m=e.transform,y=Math.max(i,0)+c,h=f,p=u,v="top"===n||"left"===n?-1:1,g="left"===n||"right"===n?z:M,b=t.ticks().map((function(e){return"number"==typeof e?{value:e,label:String(e)}:e}));return a.a.createElement("g",{transform:m},b.map((function(e){return a.a.createElement(g,{key:e.value,pos:t(e.value),name:e.label,spacing:y,tickSizeInner:i,orient:n,style:d})})),a.a.createElement("path",{className:"axisLine-"+d.id,d:"left"===n||"right"===n?l?"M"+v*l+","+h+"H0.5V"+p+"H"+v*l:"M0.5,"+h+"V"+p:l?"M"+h+","+v*l+"V0.5H"+p+"V"+v*l:"M"+h+",0.5H"+p}))}var O=a.a.memo((function(e){var t=e.size,n=e.style,r=e.data,i=g(t.sets.w+t.labels.w+t.cs.w),s=g(t.cs.h+t.sets.h),l="auto"===n.cs.offset?r.cs.labelOffset:n.cs.offset,o="auto"===n.sets.offset?r.sets.labelOffset:n.sets.offset;return a.a.createElement("g",null,a.a.createElement("g",{transform:"translate("+t.cs.x+","+t.cs.y+")","data-upset":"csaxis"},a.a.createElement(C,{scale:r.cs.y,orient:"left",size:t.cs.h,shift:t.cs.h-r.cs.yAxisWidth,style:n}),a.a.createElement("line",{x1:0,x2:t.cs.w,y1:t.cs.h+1,y2:t.cs.h+1,className:"axisLine-"+n.id}),a.a.createElement("text",{className:v("cChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+-l+", "+t.cs.h/2+")rotate(-90)"},n.cs.name),t.cs.addons.map((function(e){return a.a.createElement("text",{key:e.name,className:v("cChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+-l+", "+(s(e)+e.size/2)+")rotate(-90)"},e.name)}))),a.a.createElement("g",{transform:"translate("+t.sets.x+","+t.sets.y+")","data-upset":"setaxis"},a.a.createElement(C,{scale:r.sets.x,orient:"bottom",size:t.sets.w,shift:t.sets.w-r.sets.xAxisWidth,transform:"translate(0, "+t.sets.h+")",style:n}),a.a.createElement("text",{className:v("sChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+t.sets.w/2+", "+(t.sets.h+o)+")"},n.sets.name),t.sets.addons.map((function(e){return a.a.createElement("text",{key:e.name,className:v("sChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+(i(e)+e.size/2)+", "+(t.sets.h+o)+")"},e.name)}))))})),L=a.a.memo((function(e){var t=e.cx,n=e.r,r=e.cy,i=e.name,s=e.className,l=e.style;return a.a.createElement("circle",{r:n,cx:t,cy:r,className:s,style:l},a.a.createElement("title",null,i))})),T=a.a.memo((function(e){var t=e.d,n=e.onClick,r=e.onMouseEnter,i=e.onMouseLeave,s=e.onContextMenu,l=e.className,o=e.data,c=e.size,u=e.style,f=e.children,d=o.cs.y(t.cardinality),m=g(c.cs.h+c.sets.h);return a.a.createElement("g",{transform:"translate("+o.cs.x(t)+", 0)",onMouseEnter:r(t),onMouseLeave:i,onClick:n(t),onContextMenu:s(t),className:l,"data-cardinality":t.cardinality},a.a.createElement("title",null,t.name,": ",o.cs.format(t.cardinality)),a.a.createElement("rect",{y:-c.cs.before,width:o.cs.bandWidth,height:c.sets.h+c.cs.h+c.cs.before+c.cs.after,className:"hoverBar-"+u.id}),a.a.createElement("rect",{y:d,height:c.cs.h-d,width:o.cs.bandWidth,className:v("fillPrimary-"+u.id,u.classNames.bar),style:u.styles.bar}),a.a.createElement("text",{y:d-u.barLabelOffset,x:o.cs.bandWidth/2,style:u.styles.barLabel,className:v("cBarTextStyle-"+u.id,u.classNames.barLabel)},o.cs.format(t.cardinality)),a.a.createElement("text",{y:-u.barLabelOffset-c.cs.before,x:o.cs.bandWidth/2,style:u.styles.barLabel,className:v("hoverBarTextStyle-"+u.id,u.classNames.barLabel)},t.name),o.sets.v.map((function(e,n){return a.a.createElement(L,{key:o.sets.keys[n],r:o.r,cx:o.cs.cx,cy:o.sets.y(e)+o.sets.cy,name:o.cs.has(t,e)?e.name:t.name,style:u.styles.dot,className:v(t.sets.has(e)?"fillPrimary-"+u.id:"fillNotMember-"+u.id,u.classNames.dot)})})),t.sets.size>1&&a.a.createElement("line",{x1:o.cs.cx,y1:o.sets.y(o.sets.v.find((function(e){return o.cs.has(t,e)})))+o.sets.cy,x2:o.cs.cx,y2:o.sets.y(o.sets.rv.find((function(e){return o.cs.has(t,e)})))+o.sets.cy,className:"upsetLine-"+o.id}),c.cs.addons.map((function(e){return a.a.createElement("g",{key:e.name,transform:"translate(0,"+m(e)+")"},e.render({set:t,width:o.cs.bandWidth,height:e.size,theme:u.theme}))})),f)})),I=a.a.memo((function(e){var t=e.d,n=e.i,r=e.onMouseEnter,i=e.onMouseLeave,s=e.onClick,l=e.onContextMenu,o=e.className,c=e.size,u=e.data,f=e.style,d=e.children,m=u.sets.x(t.cardinality),y=g(c.sets.w+c.labels.w+c.cs.w);return a.a.createElement("g",{transform:"translate(0, "+u.sets.y(t)+")",onMouseEnter:r(t),onMouseLeave:i,onClick:s(t),onContextMenu:l(t),className:o,"data-cardinality":t.cardinality},a.a.createElement("title",null,t.name,": ",u.sets.format(t.cardinality)),a.a.createElement("rect",{x:-c.sets.before,width:c.sets.w+c.labels.w+c.cs.w+c.sets.after,height:u.sets.bandWidth,className:"hoverBar-"+f.id}),n%2==1&&a.a.createElement("rect",{x:c.sets.w,width:c.labels.w+c.cs.w+c.sets.after,height:u.sets.bandWidth,className:"fillAlternating-"+f.id}),a.a.createElement("rect",{x:m,width:c.sets.w-m,height:u.sets.bandWidth,className:v("fillPrimary-"+f.id,f.classNames.bar),style:f.styles.bar}),a.a.createElement("text",{x:m,dx:-f.barLabelOffset,y:u.sets.bandWidth/2,style:f.styles.barLabel,className:v("sBarTextStyle-"+f.id,f.classNames.barLabel)},u.sets.format(t.cardinality)),a.a.createElement("text",{x:c.sets.w+c.labels.w/2,y:u.sets.bandWidth/2,className:v("setTextStyle-"+f.id,f.classNames.setLabel),style:f.styles.setLabel,clipPath:"url(#clip-"+c.id+")"},t.name),c.sets.addons.map((function(e){return a.a.createElement("g",{key:e.name,transform:"translate("+y(e)+",0)"},e.render({set:t,width:e.size,height:u.sets.bandWidth,theme:f.theme}))})),d)})),q=a.a.memo((function(e){var t=e.data,n=e.size,r=e.style,i=e.onHover,s=e.onClick,l=e.onContextMenu,o=e.childrens,c=a.a.useMemo((function(){return[p(s),p(i),p(l),i?function(e){return i(null,e.nativeEvent)}:void 0]}),[s,i,l]),u=c[0],f=c[1],d=c[2],m=c[3];return a.a.createElement("g",{className:s?"clickAble-"+r.id:void 0},a.a.createElement("g",{transform:"translate("+n.sets.x+","+n.sets.y+")","data-upset":"sets"},t.sets.v.map((function(e,l){return a.a.createElement(I,{key:t.sets.keys[l],d:e,i:l,onClick:u,onMouseEnter:f,onMouseLeave:m,onContextMenu:d,className:s||i?"interactive-"+r.id:void 0,data:t,style:r,size:n},o.set&&o.set(e))}))),a.a.createElement("g",{transform:"translate("+n.cs.x+","+n.cs.y+")","data-upset":"cs"},t.cs.v.map((function(e,l){return a.a.createElement(T,{key:t.cs.keys[l],d:e,onClick:u,onMouseEnter:f,onMouseLeave:m,onContextMenu:d,className:s||i?"interactive-"+r.id:void 0,data:t,style:r,size:n},o.combinations&&o.combinations(e))}))))}));function B(e){var t=e.data,n=e.size,r=e.style,i=e.elemOverlap,s=e.secondary,l=e.tooltip,o=e.suffix,c=e.transform,u=e.empty,f=e.combinationAddons,d=t.cs.bandWidth,m=n.cs.h+n.sets.h,y=n.cs.h,h=v("fill"+o,!l&&"pnone-"+r.id,r.classNames.bar);return a.a.createElement("g",{transform:c,"data-upset":s?"cs-q":"cs-s"},t.cs.v.map((function(e,n){var o=t.cs.x(e),c=t.cs.keys[n];if(u&&!s)return a.a.createElement("rect",{key:c,x:o,y:y,height:0,width:d,className:h,style:r.styles.bar},l&&a.a.createElement("title",null));var p=i(e);if(0===p)return null;var v=t.cs.y(p),b=l&&a.a.createElement("title",null,e.name+" ∩ "+l+": "+p),x=s?a.a.createElement("path",{key:c,transform:"translate("+o+", "+v+")",d:"M0,-1 l"+d+",0 l0,2 l"+-d+",0 L-"+t.triangleSize+",-"+t.triangleSize+" L-"+t.triangleSize+","+t.triangleSize+" Z",className:h,"data-i":n,"data-cardinality":p},b):a.a.createElement("rect",{key:c,x:o,y:v,height:y-v,"data-i":n,"data-cardinality":p,width:d,className:h,style:r.styles.bar},b),S=g(m),E=f.map((function(t){var n=S(t),i=t.render({set:e,width:d,height:t.size,theme:r.theme});return i?a.a.createElement("g",{key:t.name,transform:"translate("+o+","+n+")"},i):null})).filter(Boolean);return 0===E.length?x:a.a.createElement("g",{key:c},x,E)})))}function j(e){var t=e.data,n=e.size,r=e.style,i=e.elemOverlap,s=e.suffix,l=e.secondary,o=e.empty,c=e.tooltip,u=e.setAddons,f=e.transform,d=n.sets.w,m=n.sets.w+n.labels.w+n.cs.w,y=t.sets.bandWidth,h=v("fill"+s,!c&&" pnone-"+r.id,r.classNames.bar);return a.a.createElement("g",{transform:f,"data-upset":l?"sets-q":"sets-s"},t.sets.v.map((function(e,n){var s=t.sets.y(e),f=t.sets.keys[n];if(o&&!l)return a.a.createElement("rect",{key:f,x:d,y:s,width:0,height:y,className:h,style:r.styles.bar},c&&a.a.createElement("title",null));var p=i(e);if(0===p)return null;var v=t.sets.x(p),b=c&&a.a.createElement("title",null,e.name+" ∩ "+c+": "+p),x=l?a.a.createElement("path",{key:f,transform:"translate("+v+", "+(s+y)+")",d:"M1,0 l0,"+-y+" l-2,0 l0,"+y+" L-"+t.triangleSize+","+t.triangleSize+" L"+t.triangleSize+","+t.triangleSize+" Z","data-i":n,"data-cardinality":p,className:h},b):a.a.createElement("rect",{key:f,"data-i":n,"data-cardinality":p,x:v,y:s,width:d-v,height:y,className:h,style:r.styles.bar},b),S=g(m),E=u.map((function(t){var n=S(t),i=t.render({set:e,width:t.size,height:y,theme:r.theme});return i?a.a.createElement("g",{key:t.name,transform:"translate("+n+","+s+")"},i):null})).filter(Boolean);return 0===E.length?x:a.a.createElement("g",{key:f},x,E)})))}var P=[],W=a.a.memo((function(e){var t=e.size,n=e.data,s=e.style,l=e.onHover,o=e.secondary,c=e.queries,u=t.sets.addons.some((function(e){return null!=e.renderQuery}))||t.cs.addons.some((function(e){return null!=e.renderQuery})),f=Object(r.useMemo)((function(){return c.map((function(e){return w({},e,{overlap:Object(i.i)(e,"intersection",n.toElemKey),elemOverlap:u?Object(i.h)(e,"intersection",n.toElemKey):null})}))}),[c,u,n.toElemKey]);function d(e,t,n,r){return w({},e,{render:function(a){var i=n(a.set);return e.renderQuery?e.renderQuery(w({query:t,overlap:i,secondary:r},a)):null}})}return a.a.createElement("g",{className:l&&!o?"pnone-"+s.id:void 0},a.a.createElement("g",{transform:"translate("+t.sets.x+","+t.sets.y+")"},f.map((function(e,r){return a.a.createElement(j,{key:e.name,data:n,size:t,style:s,elemOverlap:e.overlap,suffix:"Q"+r+"-"+n.id,secondary:o||r>0,tooltip:l&&!(o||r>0)?void 0:e.name,setAddons:0===t.sets.addons.length?P:t.sets.addons.map((function(t){return d(t,e,e.elemOverlap,o||r>0)}))})}))),a.a.createElement("g",{transform:"translate("+t.cs.x+","+t.cs.y+")"},f.map((function(e,r){return a.a.createElement(B,{key:e.name,data:n,size:t,style:s,elemOverlap:e.overlap,suffix:"Q"+r+"-"+n.id,secondary:o||r>0,tooltip:l&&!(o||r>0)?void 0:e.name,combinationAddons:0===t.cs.addons.length?P:t.cs.addons.map((function(t){return d(t,e,e.elemOverlap,o||r>0)}))})}))))}));function H(e){var t=e.data,n=e.size,r=e.style,i=e.selection;if(!i||"set"!==i.type)return null;var s=i;return a.a.createElement("rect",{y:t.sets.y(s),width:n.labels.w+n.cs.w+n.sets.after,height:t.sets.bandWidth,className:"selectionHint-"+r.id})}function R(e){var t=e.data,n=e.size,r=e.style,i=e.selection,s=t.sets.bandWidth/2,l=t.cs.cx,o=t.r,c=n.sets.h+n.sets.after,u=t.cs.bandWidth;if(!i||"set"===i.type)return null;var f=i,d=t.cs.keys.indexOf(t.toKey(f));return a.a.createElement("g",{transform:"translate("+(n.labels.w+t.cs.x(f))+", 0)","data-upset":"cs-ss","data-i":d},a.a.createElement("rect",{width:u,height:c,className:"selectionHint-"+r.id}),t.sets.v.filter((function(e){return t.cs.has(f,e)})).map((function(e){return a.a.createElement(L,{key:t.toKey(e),r:1.1*o,cx:l,cy:t.sets.y(e)+s,name:e.name,className:v("fillSelection-"+r.id,"pnone-"+r.id,r.classNames.dot),style:r.styles.dot})})),f.sets.size>1&&a.a.createElement("line",{x1:l,y1:t.sets.y(t.sets.v.find((function(e){return t.cs.has(f,e)})))+s,x2:l,y2:t.sets.y(t.sets.rv.find((function(e){return t.cs.has(f,e)})))+s,className:"upsetSelectionLine-"+t.id}))}var K=[];function F(e){return null!=e&&!Array.isArray(e)}function U(e,t){var n=Object(i.k)(e,t);return function(e){return n(e.elems).intersection}}function _(){return 0}function D(e){var t=e.size,n=e.data,r=e.style,s=e.selection,l=e.onHover,o=r.emptySelection;var c,u,f,d=function(){if(!s)return _;if("function"==typeof s)return s;if(Array.isArray(s))return U(s,n.toElemKey);var e=s;if(e.overlap)return e.overlap;var t=U(e.elems,n.toElemKey);return function(n){return n.overlap?n.overlap(e):t(n)}}(),m=Array.isArray(s)?"Array("+s.length+")":"function"==typeof s?"?":null==s?void 0:s.name,y=t.sets.addons.some((function(e){return null!=e.renderSelection}))||t.cs.addons.some((function(e){return null!=e.renderSelection})),h=s&&"function"!=typeof s&&y?(c=Array.isArray(s)?s:s.elems,u=n.toElemKey,f=Object(i.j)(c,u),function(e){return f(e.elems).intersection}):null;function p(e){return w({},e,{render:function(t){var n=h?h(t.set):null;return e.renderSelection?e.renderSelection(w({selection:s,selectionColor:r.selectionColor,overlap:n},t)):null}})}return a.a.createElement("g",{className:l?"pnone-"+r.id:void 0},(s||o)&&a.a.createElement(B,{data:n,size:t,style:r,transform:"translate("+t.cs.x+","+t.cs.y+")",empty:o&&!s,elemOverlap:d,suffix:"Selection-"+r.id,tooltip:l?void 0:m,combinationAddons:0===t.cs.addons.length?K:t.cs.addons.map(p)}),(s||o)&&a.a.createElement(j,{data:n,size:t,style:r,transform:"translate("+t.sets.x+","+t.sets.y+")",empty:o&&!s,elemOverlap:d,suffix:"Selection-"+r.id,tooltip:l?void 0:m,setAddons:0===t.sets.addons.length?K:t.sets.addons.map(p)}),a.a.createElement("g",{transform:"translate("+t.labels.x+","+t.labels.y+")"},F(s)&&a.a.createElement(H,{data:n,size:t,style:r,selection:s}),F(s)&&a.a.createElement(R,{data:n,size:t,style:r,selection:s})))}var V=a.a.forwardRef((function(e,t){var n=y(e),i=n.id,s=n.className,l=n.style,o=n.width,c=n.height,u=n.padding,f=n.barPadding,d=n.sets,m=n.toKey,h=n.toElemKey,p=n.combinations,g=n.selection,S=void 0===g?null:g,E=n.onClick,w=n.onContextMenu,N=n.onHover,z=n.theme,M=n.dotPadding,C=n.childrenFactories,L=n.widthRatios,T=n.heightRatios,I=n.queries,B=void 0===I?[]:I,j=n.setAddons,P=n.combinationAddons,H=n.alternatingBackgroundColor,R=n.bandScale,K=n.barLabelOffset,F=n.classNames,U=n.color,_=n.combinationName,V=n.combinationNameAxisOffset,G=n.exportButtons,Q=n.fontFamily,J=n.fontSizes,X=n.hoverHintColor,Z=n.notMemberColor,$=n.numericScale,Y=n.queryLegend,ee=n.selectionColor,te=n.setName,ne=n.setNameAxisOffset,re=n.styles,ae=n.textColor,ie=n.emptySelection,se=J.axisTick,le=J.barLabel,oe=J.chartLabel,ce=J.legend,ue=J.setLabel,fe=Object(r.useMemo)((function(){return i||b()}),[i,Q,se,le,oe,ce,ue,ae,X,U,ee,Z,H]),de=Object(r.useMemo)((function(){return function(e,t,n,r,a,i,s,l,o,c,u){return{theme:e,styles:t,classNames:n,cs:{name:r,offset:a},sets:{name:i,offset:s},emptySelection:u,id:l,barLabelOffset:o,selectionColor:c}}(z,re,F,_,V,te,ne,fe,K,ee,ie)}),[z,re,F,K,_,V,te,ne,fe,ee,ie]),me=Object(r.useMemo)((function(){return function(e,t,n,r,a,i,s,l,o){var c=s.reduce((function(e,t){return e+("before"===t.position?t.size:0)}),0),u=s.reduce((function(e,t){return e+("before"!==t.position?t.size:0)}),0),f=l.reduce((function(e,t){return e+("before"===t.position?t.size:0)}),0),d=l.reduce((function(e,t){return e+("before"!==t.position?t.size:0)}),0),m=t-2*n-20-d-f,y=e-2*n-c-u,h=y*a[0],p=y*a[1],v=m*i[0];return{id:o||b(),cs:{before:f,after:d,x:c+h+p,y:f,w:y-h-p,h:v,addons:l},labels:{x:c+h,y:f+v,w:p,h:m-v},sets:{before:c,after:u,x:c,y:f+v,w:h,h:m-v,addons:s},padding:r,legend:{x:e/2},margin:n,w:e,h:t}}(o,c,u,f,L,T,j,P,i)}),[o,c,u,f,L,T,j,P,i]),ye=Object(r.useMemo)((function(){return x(d,p,me,$,R,K+Number.parseInt(null!=le?le:"10"),M,f,Number.parseInt(null!=se?se:"10"),m,h,i)}),[d,p,me,$,R,K,le,M,f,se,m,h,i]),he="\n  .root-"+fe+" {\n    "+(Q?"font-family: "+Q+";":"")+"\n  }\n  .axisTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(se?"font-size: "+se+";":"")+"\n    text-anchor: middle;\n  }\n  .barTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(le?"font-size: "+le+";":"")+"\n  }\n  .cBarTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(le?"font-size: "+le+";":"")+"\n    text-anchor: middle;\n  }\n  .sBarTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(le?"font-size: "+le+";":"")+"\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-"+fe+" {\n    "+(le?"font-size: "+le+";":"")+"\n    fill: "+X+";\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(ue?"font-size: "+ue+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(oe?"font-size: "+oe+";":"")+"\n    text-anchor: middle;\n  }\n  .sChartTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(oe?"font-size: "+oe+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n  .exportTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(le?"font-size: "+le+";":"")+"\n  }\n  .legendTextStyle-"+fe+" {\n    fill: "+ae+";\n    "+(ce?"font-size: "+ce+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  .startText-"+fe+" {\n    text-anchor: start;\n  }\n  .endText-"+fe+" {\n    text-anchor: end;\n  }\n  .pnone-"+fe+" {\n    pointer-events: none;\n  }\n  .fillPrimary-"+fe+" { fill: "+U+"; }\n  .fillSelection-"+fe+" { fill: "+ee+"; }\n  .fillNotMember-"+fe+" { fill: "+Z+"; }\n  .fillAlternating-"+fe+" { fill: "+(H||"transparent")+"; }\n  .fillTransparent-"+fe+" { fill: transparent; }\n\n  .selectionHint-"+fe+" {\n    fill: transparent;\n    pointer-events: none;\n    stroke: "+ee+";\n  }\n\n  .axisLine-"+fe+" {\n    fill: none;\n    stroke: "+ae+";\n  }\n  .clickAble-"+fe+" {\n    cursor: pointer;\n  }\n\n  .hoverBar-"+fe+" {\n    fill: transparent;\n  }\n\n  .interactive-"+fe+":hover > .hoverBar-"+fe+" {\n    stroke: "+X+";\n  }\n  .interactive-"+fe+":hover > .hoverBarTextStyle-"+fe+" {\n    display: unset;\n  }\n\n  .exportButtons-"+fe+" {\n    text-anchor: middle;\n  }\n  .exportButton-"+fe+" {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-"+fe+":hover {\n    opacity: 1;\n  }\n  .exportButton-"+fe+" > rect {\n    fill: none;\n    stroke: "+ae+";\n  }\n\n  .upsetLine-"+ye.id+" {\n    stroke-width: "+.6*ye.r+";\n    stroke: "+U+";\n  }\n\n  .upsetSelectionLine-"+ye.id+" {\n    stroke-width: "+.6*ye.r*1.1+";\n    stroke: "+ee+";\n    pointer-events: none;\n  }\n  "+B.map((function(e,t){return".fillQ"+t+"-"+ye.id+" {\n    fill: "+e.color+";\n  }"})).join("\n")+"\n  ";return a.a.createElement("svg",{id:i,className:v("root-"+fe,s),style:l,width:o,height:c,ref:t,viewBox:"0 0 "+o+" "+c,"data-theme":null!=z?z:"light"},a.a.createElement("style",null,he),a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip-"+me.id},a.a.createElement("rect",{x:me.sets.w,y:0,width:me.labels.w,height:me.sets.h}))),Y&&a.a.createElement(A,{queries:B,size:me,style:de,data:ye}),G&&a.a.createElement(k,{transform:"translate("+(me.w-2)+","+(me.h-3)+")",styleId:fe}),a.a.createElement("g",{transform:"translate("+u+","+u+")","data-upset":"base"},E&&a.a.createElement("rect",{width:me.cs.x,height:me.sets.y,onClick:function(e){return E(null,e.nativeEvent)},className:"fillTransparent-"+fe}),a.a.createElement(O,{size:me,style:de,data:ye}),a.a.createElement(q,{size:me,style:de,data:ye,onClick:E,onHover:N,onContextMenu:w,childrens:C}),a.a.createElement(D,{size:me,style:de,data:ye,onHover:N,selection:S}),a.a.createElement(W,{size:me,style:de,data:ye,onHover:N,queries:B,secondary:null!=N||null!=S})),e.children)}));t.a=V}}]);