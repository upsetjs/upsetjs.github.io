(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(e){e.exports=JSON.parse('{"name":"Dashboard 1","objects":[{"id":3,"isFloating":false,"isVisible":true,"name":"Sheet 1","position":{"x":8,"y":400},"size":{"width":984,"height":392},"type":"worksheet"},{"id":4,"isFloating":false,"isVisible":true,"name":"Tiled","position":{"x":0,"y":0},"size":{"width":1000,"height":800},"type":"blank"},{"id":11,"isFloating":false,"isVisible":true,"name":"UpSet.js","position":{"x":8,"y":8},"size":{"width":984,"height":392},"type":"extension"}],"size":{"width":1000,"height":800},"sheetType":"dashboard","parameters":[],"worksheets":[{"name":"Sheet 1","sheetType":"worksheet","size":{"width":984,"height":392},"dataSoures":[{"id":"federated.0dwimnq0djp9pn1b648tc0ef1z7p","name":"simpsons","fields":[{"id":"Name","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isHidden":false,"name":"Name","role":"dimension"},{"id":"School","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isHidden":false,"name":"School","role":"dimension"},{"id":"Blue Hair","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isHidden":false,"name":"Blue Hair","role":"dimension"},{"id":"Duff Fan","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isHidden":false,"name":"Duff Fan","role":"dimension"},{"id":"Evil","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isHidden":false,"name":"Evil","role":"dimension"},{"id":"Male","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isHidden":false,"name":"Male","role":"dimension"},{"id":"Power Plant","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isHidden":false,"name":"Power Plant","role":"dimension"},{"id":"Age","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isHidden":false,"name":"Age","role":"measure"},{"id":"Number of Records","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":true,"isCombinedField":false,"isGenerated":true,"isHidden":false,"name":"Number of Records","role":"measure"},{"id":"School (group)","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":true,"isCombinedField":false,"isHidden":false,"name":"School (group)","role":"dimension"},{"id":"Geometry (generated)","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isGenerated":true,"isHidden":true,"name":"Geometry (generated)","role":"measure"},{"id":"Latitude (generated)","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isGenerated":true,"isHidden":true,"name":"Latitude (generated)","role":"measure"},{"id":"Longitude (generated)","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isGenerated":true,"isHidden":true,"name":"Longitude (generated)","role":"measure"},{"id":":Measure Names","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isGenerated":true,"isHidden":false,"name":"Measure Names","role":"dimension"},{"id":"Multiple Values","aggregation":"none","columnType":null,"dataSource":null,"isCalculatedField":false,"isCombinedField":false,"isGenerated":true,"isHidden":false,"name":"Measure Values","role":"measure"}],"underlyingData":{"name":"Underlying Data Table","columns":[{"index":0,"dataType":"int","fieldName":"Blue Hair","isReferenced":false},{"index":1,"dataType":"int","fieldName":"Duff Fan","isReferenced":false},{"index":2,"dataType":"int","fieldName":"Evil","isReferenced":false},{"index":3,"dataType":"int","fieldName":"Male","isReferenced":false},{"index":4,"dataType":"string","fieldName":"Name","isReferenced":false},{"index":5,"dataType":"int","fieldName":"Power Plant","isReferenced":false},{"index":6,"dataType":"int","fieldName":"School","isReferenced":false},{"index":7,"dataType":"string","fieldName":"School (group)","isReferenced":false},{"index":8,"dataType":"int","fieldName":"Age","isReferenced":false},{"index":9,"dataType":"int","fieldName":"Number of Records","isReferenced":false}],"totalRowCount":24,"isTotalRowCountLimited":false,"isSummaryData":false,"data":[[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"Lisa","formattedValue":"Lisa"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"1","formattedValue":"1"},{"value":8,"formattedValue":"8"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Bart","formattedValue":"Bart"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"1","formattedValue":"1"},{"value":10,"formattedValue":"10"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Homer","formattedValue":"Homer"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":40,"formattedValue":"40"},{"value":1,"formattedValue":"1"}],[{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"Marge","formattedValue":"Marge"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":36,"formattedValue":"36"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"Maggie","formattedValue":"Maggie"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Barney","formattedValue":"Barney"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":39,"formattedValue":"39"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":1,"formattedValue":"1"},{"value":"Mr. Burns","formattedValue":"Mr. Burns"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":90,"formattedValue":"90"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Mo","formattedValue":"Mo"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":41,"formattedValue":"41"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Ned","formattedValue":"Ned"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":42,"formattedValue":"42"},{"value":1,"formattedValue":"1"}],[{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Milhouse","formattedValue":"Milhouse"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"1","formattedValue":"1"},{"value":10,"formattedValue":"10"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Grampa","formattedValue":"Grampa"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":85,"formattedValue":"85"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":1,"formattedValue":"1"},{"value":1,"formattedValue":"1"},{"value":"Krusty","formattedValue":"Krusty"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":46,"formattedValue":"46"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":1,"formattedValue":"1"},{"value":"Smithers","formattedValue":"Smithers"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":33,"formattedValue":"33"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Ralph","formattedValue":"Ralph"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"1","formattedValue":"1"},{"value":8,"formattedValue":"8"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":1,"formattedValue":"1"},{"value":"Sideshow Bob","formattedValue":"Sideshow Bob"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":37,"formattedValue":"37"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Kent Brockman","formattedValue":"Kent Brockman"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":45,"formattedValue":"45"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":1,"formattedValue":"1"},{"value":"Fat Tony","formattedValue":"Fat Tony"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":50,"formattedValue":"50"},{"value":1,"formattedValue":"1"}],[{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"Jacqueline Bouvier","formattedValue":"Jacqueline Bouvier"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":76,"formattedValue":"76"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"Patty Bouvier","formattedValue":"Patty Bouvier"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":45,"formattedValue":"45"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"Selma Bouvier","formattedValue":"Selma Bouvier"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":45,"formattedValue":"45"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Lenny Leonard","formattedValue":"Lenny Leonard"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":38,"formattedValue":"38"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Carl Carlson","formattedValue":"Carl Carlson"},{"value":1,"formattedValue":"1"},{"value":0,"formattedValue":"0"},{"value":"0","formattedValue":"0"},{"value":37,"formattedValue":"37"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":1,"formattedValue":"1"},{"value":"Nelson","formattedValue":"Nelson"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"1","formattedValue":"1"},{"value":11,"formattedValue":"11"},{"value":1,"formattedValue":"1"}],[{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"Martin Prince","formattedValue":"Martin Prince"},{"value":0,"formattedValue":"0"},{"value":1,"formattedValue":"1"},{"value":"1","formattedValue":"1"},{"value":10,"formattedValue":"10"},{"value":1,"formattedValue":"1"}]]}}],"filters":[],"highlightedMarks":{"data":[{"name":"Summary Data Table","columns":[],"totalRowCount":0,"isTotalRowCountLimited":false,"isSummaryData":true,"data":[],"d":[]}]},"parameters":[],"selectedMarks":{"data":[{"name":"Summary Data Table","columns":[],"totalRowCount":0,"isTotalRowCountLimited":false,"isSummaryData":true,"data":[],"d":[]}]},"summaryDataIgnoreSelection":{"name":"Summary Data Table","columns":[{"index":0,"dataType":"string","fieldName":"Name","isReferenced":true},{"index":1,"dataType":"int","fieldName":"SUM(Age)","isReferenced":true}],"totalRowCount":24,"isTotalRowCountLimited":false,"isSummaryData":true,"data":[[{"value":"Maggie","formattedValue":"Maggie"},{"value":1,"formattedValue":"1"}],[{"value":"Lisa","formattedValue":"Lisa"},{"value":8,"formattedValue":"8"}],[{"value":"Ralph","formattedValue":"Ralph"},{"value":8,"formattedValue":"8"}],[{"value":"Bart","formattedValue":"Bart"},{"value":10,"formattedValue":"10"}],[{"value":"Martin Prince","formattedValue":"Martin Prince"},{"value":10,"formattedValue":"10"}],[{"value":"Milhouse","formattedValue":"Milhouse"},{"value":10,"formattedValue":"10"}],[{"value":"Nelson","formattedValue":"Nelson"},{"value":11,"formattedValue":"11"}],[{"value":"Smithers","formattedValue":"Smithers"},{"value":33,"formattedValue":"33"}],[{"value":"Marge","formattedValue":"Marge"},{"value":36,"formattedValue":"36"}],[{"value":"Carl Carlson","formattedValue":"Carl Carlson"},{"value":37,"formattedValue":"37"}],[{"value":"Sideshow Bob","formattedValue":"Sideshow Bob"},{"value":37,"formattedValue":"37"}],[{"value":"Lenny Leonard","formattedValue":"Lenny Leonard"},{"value":38,"formattedValue":"38"}],[{"value":"Barney","formattedValue":"Barney"},{"value":39,"formattedValue":"39"}],[{"value":"Homer","formattedValue":"Homer"},{"value":40,"formattedValue":"40"}],[{"value":"Mo","formattedValue":"Mo"},{"value":41,"formattedValue":"41"}],[{"value":"Ned","formattedValue":"Ned"},{"value":42,"formattedValue":"42"}],[{"value":"Kent Brockman","formattedValue":"Kent Brockman"},{"value":45,"formattedValue":"45"}],[{"value":"Patty Bouvier","formattedValue":"Patty Bouvier"},{"value":45,"formattedValue":"45"}],[{"value":"Selma Bouvier","formattedValue":"Selma Bouvier"},{"value":45,"formattedValue":"45"}],[{"value":"Krusty","formattedValue":"Krusty"},{"value":46,"formattedValue":"46"}],[{"value":"Fat Tony","formattedValue":"Fat Tony"},{"value":50,"formattedValue":"50"}],[{"value":"Jacqueline Bouvier","formattedValue":"Jacqueline Bouvier"},{"value":76,"formattedValue":"76"}],[{"value":"Grampa","formattedValue":"Grampa"},{"value":85,"formattedValue":"85"}],[{"value":"Mr. Burns","formattedValue":"Mr. Burns"},{"value":90,"formattedValue":"90"}]]},"underlyingDataIgnoreSelection":{"name":"Underlying Data Table","columns":[{"index":0,"dataType":"string","fieldName":"Name","isReferenced":true},{"index":1,"dataType":"int","fieldName":"Age","isReferenced":true}],"totalRowCount":24,"isTotalRowCountLimited":false,"isSummaryData":false,"data":[[{"value":"Lisa","formattedValue":"Lisa"},{"value":8,"formattedValue":"8"}],[{"value":"Bart","formattedValue":"Bart"},{"value":10,"formattedValue":"10"}],[{"value":"Homer","formattedValue":"Homer"},{"value":40,"formattedValue":"40"}],[{"value":"Marge","formattedValue":"Marge"},{"value":36,"formattedValue":"36"}],[{"value":"Maggie","formattedValue":"Maggie"},{"value":1,"formattedValue":"1"}],[{"value":"Barney","formattedValue":"Barney"},{"value":39,"formattedValue":"39"}],[{"value":"Mr. Burns","formattedValue":"Mr. Burns"},{"value":90,"formattedValue":"90"}],[{"value":"Mo","formattedValue":"Mo"},{"value":41,"formattedValue":"41"}],[{"value":"Ned","formattedValue":"Ned"},{"value":42,"formattedValue":"42"}],[{"value":"Milhouse","formattedValue":"Milhouse"},{"value":10,"formattedValue":"10"}],[{"value":"Grampa","formattedValue":"Grampa"},{"value":85,"formattedValue":"85"}],[{"value":"Krusty","formattedValue":"Krusty"},{"value":46,"formattedValue":"46"}],[{"value":"Smithers","formattedValue":"Smithers"},{"value":33,"formattedValue":"33"}],[{"value":"Ralph","formattedValue":"Ralph"},{"value":8,"formattedValue":"8"}],[{"value":"Sideshow Bob","formattedValue":"Sideshow Bob"},{"value":37,"formattedValue":"37"}],[{"value":"Kent Brockman","formattedValue":"Kent Brockman"},{"value":45,"formattedValue":"45"}],[{"value":"Fat Tony","formattedValue":"Fat Tony"},{"value":50,"formattedValue":"50"}],[{"value":"Jacqueline Bouvier","formattedValue":"Jacqueline Bouvier"},{"value":76,"formattedValue":"76"}],[{"value":"Patty Bouvier","formattedValue":"Patty Bouvier"},{"value":45,"formattedValue":"45"}],[{"value":"Selma Bouvier","formattedValue":"Selma Bouvier"},{"value":45,"formattedValue":"45"}],[{"value":"Lenny Leonard","formattedValue":"Lenny Leonard"},{"value":38,"formattedValue":"38"}],[{"value":"Carl Carlson","formattedValue":"Carl Carlson"},{"value":37,"formattedValue":"37"}],[{"value":"Nelson","formattedValue":"Nelson"},{"value":11,"formattedValue":"11"}],[{"value":"Martin Prince","formattedValue":"Martin Prince"},{"value":10,"formattedValue":"10"}]]},"summaryData":{"name":"Summary Data Table","columns":[{"index":0,"dataType":"string","fieldName":"Name","isReferenced":true},{"index":1,"dataType":"int","fieldName":"SUM(Age)","isReferenced":true}],"totalRowCount":1,"isTotalRowCountLimited":false,"isSummaryData":true,"data":[[{"value":"Jacqueline Bouvier","formattedValue":"Jacqueline Bouvier"},{"value":76,"formattedValue":"76"}]]},"underlyingData":{"name":"Underlying Data Table","columns":[{"index":0,"dataType":"string","fieldName":"Name","isReferenced":true},{"index":1,"dataType":"int","fieldName":"Age","isReferenced":true}],"totalRowCount":1,"isTotalRowCountLimited":false,"isSummaryData":false,"data":[[{"value":"Jacqueline Bouvier","formattedValue":"Jacqueline Bouvier"},{"value":76,"formattedValue":"76"}]]}}]}')},90:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var l=t(86),u=t(2),o=t(30);class r{constructor(){this.theme=Object(o.a)()}get dark(){return"dark"===this.theme}toggleTheme(){this.theme="dark"===this.theme?"light":"dark"}get button(){return this.dark?"outlineDark":"outline"}}Object(l.b)([u.f],r.prototype,"theme",void 0),Object(l.b)([u.c],r.prototype,"dark",null),Object(l.b)([u.b.bound],r.prototype,"toggleTheme",null),Object(l.b)([u.c],r.prototype,"button",null);var d=t(13);class i{constructor(e){this.apiPromise=e,this.ui=new r,this._api=null,this.props=d.f,this.combinationsOptions=d.e,e.then(e=>{this._api=e,this.initWrapper()}).catch(e=>{console.error(e),document.body.insertAdjacentHTML("beforeend",`<pre>${e}</pre>`)})}get api(){if(null==this._api)throw this.apiPromise;return this._api}initWrapper(){this.init(this.api),this.api.onSettingChanged(this.handleUpdatesWrapper)}init(e){this.props=e.props,this.combinationsOptions=e.combinationsOptions}handleUpdates(e){e.has("props")&&(this.props=this.api.props),e.has("combinationsOptions")&&(this.combinationsOptions=this.api.combinationsOptions)}handleUpdatesWrapper(e){this.handleUpdates(e)}}Object(l.b)([u.f],i.prototype,"ui",void 0),Object(l.b)([u.f],i.prototype,"props",void 0),Object(l.b)([u.f],i.prototype,"combinationsOptions",void 0),Object(l.b)([u.b],i.prototype,"initWrapper",null),Object(l.b)([u.b.bound],i.prototype,"handleUpdatesWrapper",null)},91:function(e,a,t){"use strict";function l(e){const a=new URL(window.location.href);return`${e}.html${a.search}${a.hash}`}t.d(a,"a",(function(){return l}))},93:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));var l=t(91),u=t(100),o=t(13);function r(e,a){window.localStorage.getItem(e)!==a&&window.localStorage.setItem(e,a)}class d{constructor(){var e,a,t,l,r,d,i;this.handlers=new WeakMap,this.isViewingMode=!1,this.dataSource=null!==(e=window.localStorage.getItem("dataSource"))&&void 0!==e?e:"",this.nameField=null!==(a=window.localStorage.getItem("nameField"))&&void 0!==a?a:"",this.setFields=JSON.parse(null!==(t=window.localStorage.getItem("setFields"))&&void 0!==t?t:"[]"),this.attributeFields=JSON.parse(null!==(l=window.localStorage.getItem("attributeFields"))&&void 0!==l?l:"[]"),this.worksheet=null!==(r=window.localStorage.getItem("worksheet"))&&void 0!==r?r:u.worksheets[0].name,this.props=JSON.parse(null!==(d=window.localStorage.getItem("props"))&&void 0!==d?d:JSON.stringify(o.f)),this.combinationsOptions=JSON.parse(null!==(i=window.localStorage.getItem("combinationsOptions"))&&void 0!==i?i:JSON.stringify(o.e))}getWorksheets(){return u.worksheets}getDataSources(e){var a,t;return Promise.resolve(null!==(t=null===(a=u.worksheets.find(a=>a.name===e))||void 0===a?void 0:a.dataSoures)&&void 0!==t?t:[])}getUnderlyingData(e,a){const t=this.getWorksheet(e);if(!t)return Promise.resolve(null);const l=t.dataSoures.find(e=>e.id===a);return l?Promise.resolve(l.underlyingData):Promise.resolve(null)}getWorksheet(e){return u.worksheets.find(a=>a.name===e)}onSettingChanged(e){const a=[];let t=-1;const l=()=>{t=-1,e(new Set(a.splice(0,a.length)))},u=e=>{const u=e.key;if("dataSource"===u)this.dataSource=e.newValue;else if("nameField"===u)this.nameField=e.newValue;else if("setFields"===u)this.setFields=JSON.parse(e.newValue);else if("attributeFields"===u)this.attributeFields=JSON.parse(e.newValue);else if("worksheet"===u)this.worksheet=e.newValue;else if("props"===u)this.props=JSON.parse(e.newValue);else{if("combinationsOptions"!==u)return;this.combinationsOptions=JSON.parse(e.newValue)}a.push(u),t>=0&&clearTimeout(t),t=setTimeout(l,100)};this.handlers.set(e,u),window.addEventListener("storage",u)}offSettingChanged(e){const a=this.handlers.get(e);a&&(this.handlers.delete(e),window.removeEventListener("storage",a))}getSelectedMarks(){return Promise.resolve([])}setSelectedMarks(){return Promise.resolve()}onSelectionChanged(){}offSelectionChanged(){}save(){return r("worksheet",this.worksheet),r("dataSource",this.dataSource),r("nameField",this.nameField),r("props",JSON.stringify(this.props)),r("combinationsOptions",JSON.stringify(this.combinationsOptions)),r("setFields",JSON.stringify(this.setFields)),r("attributeFields",JSON.stringify(this.attributeFields)),Promise.resolve()}openDialog(e="configDialog"){window.open(Object(l.a)(e))}closeDialog(e=!0){e?this.save().then(()=>window.close()):window.close()}}}}]);