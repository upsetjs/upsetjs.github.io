(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{87:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));function r(e,t,n,r){var a,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{o(r.next(e))}catch(e){i(e)}}function l(e){try{o(r.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))}},89:function(e,t,n){"use strict";function r(e){return e instanceof Set?e.size:e.length}function a(e,t){var n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),a=n.size,i={setA:a,setB:a,union:a,intersection:a};return function(s){if(s===e)return i;var l=0;s.forEach((function(e){(t&&n.has(t(e))||!t&&n.has(e))&&l++}));var o=r(s);return{setA:a,setB:o,intersection:l,union:a+o-l}}}function i(e,t){var n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),r=Array.isArray(e)?e:Array.from(e),a={setA:r,setB:r,union:r,intersection:r};return function(i){if(i===e)return a;var s=[],l=r.slice();return i.forEach((function(e){t&&n.has(t(e))||!t&&n.has(e)?s.push(e):l.push(e)})),{setA:r,setB:Array.isArray(i)?i:Array.from(i),intersection:s,union:l}}}function s(e){return Array.isArray(e.elems)}function l(e){return"function"==typeof e.overlap}function o(e){return null!=e.set}function c(e,t,n){if(l(e))return e.overlap;if(o(e)&&e.set.overlap)return e.set.overlap;var r=a(s(e)?e.elems:e.set.elems,n);return function(n){return n.overlap&&s(e)&&Array.isArray(e.elems)?n.overlap(e.elems):n.overlap&&o(e)?n.overlap(e.set):r(n.elems)[t]}}function u(e,t,n){if(l(e))return function(){return null};if("intersection"===t){var r=function(e,t){var n=e instanceof Set?Array.from(e):e,r=t?new Set(n.map(t)):e instanceof Set?e:new Set(e);return function(a){if(a===e)return n;var i=[];return a.forEach((function(e){(t&&r.has(t(e))||!t&&r.has(e))&&i.push(e)})),i}}(s(e)?e.elems:e.set.elems,n);return function(e){return r(e.elems)}}var a=i(s(e)?e.elems:e.set.elems,n);return function(e){return a(e.elems)[t]}}function f(e){return null!=e&&"number"==typeof e.cardinality&&"string"==typeof e.name&&Array.isArray(e.elems)}function d(e){return f(e)&&"set"===e.type}function m(e){var t=e;return f(e)&&["composite","union","intersection"].includes(t.type)&&t.sets instanceof Set&&"number"==typeof t.degree}function y(e){return d(e)||m(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function v(e,t){return e.name.localeCompare(t.name)}function g(e,t){return t.cardinality-e.cardinality}function b(e,t){return e.degree-t.degree}function x(e){return function(t,n){return e.reduce((function(e,r){return 0===e?r(t,n):e}),0)}}function S(e){return function(t,n){return-e(t,n)}}function E(e){return function(t,n){var r=function(e){return e<0?Number.POSITIVE_INFINITY:e};return r(e.findIndex((function(e){return t.sets.has(e)})))-r(e.findIndex((function(e){return n.sets.has(e)})))}}function w(e,t,n){void 0===n&&(n={});var r=t;return n.order&&(r=r.sort(function(e,t){if(!t)return v;var n=Array.isArray(t)?t:[t];return 0===n.length?v:x(n.map((function(t){switch(t){case"cardinality":case"cardinality:desc":return g;case"cardinality:asc":return S(g);case"name:desc":return S(v);case"degree":case"degree:asc":return b;case"degree:desc":return S(b);case"group":case"group:asc":return E(e);case"group:desc":return S(E(e));default:return v}})))}(e,n.order))),null!=n.limit?r.slice(0,n.limit):r}function N(e,t,n){for(var r=void 0===n?{}:n,a=r.min,i=void 0===a?0:a,s=r.max,l=void 0===s?1/0:s,o=Math.pow(2,e.length),c=0,u=1,f=0;f<o;f++){f>=u&&(c++,u<<=1);for(var d=[],m=0;m<c;m++)f&1<<m&&d.push(e[m]);d.length>=i&&d.length<=l&&t(d)}}function k(e,t,n){for(var r=void 0===n?{}:n,a=r.min,i=void 0===a?0:a,s=r.max,l=void 0===s?1/0:s,o=BigInt(0),c=BigInt(1),u=BigInt(2)<<BigInt(e.length),f=0,d=c,m=e.map((function(e,t){return c<<BigInt(t)})),y=o;y<u;y+=c){y>=d&&(f++,d<<=c);for(var h=[],p=0;p<f;p++)(y&m[p])!==o&&h.push(e[p]);h.length>=i&&h.length<=l&&t(h)}}function A(e,t,n){var r=void 0===n?{}:n,a=r.min,i=void 0===a?0:a,s=r.max,l=void 0===s?1/0:s,o=function(e){return e>=i&&e<=l};o(0)&&t([]),function n(r,a){if(!(r.length>=l))for(var i=a;i<e.length;i++)r.push(e[i]),o(r.length)&&t(r.slice()),n(r,i+1),r.pop()}([],0)}n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return V})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return q}));var z={intersection:" ∩ ",union:" ∪ ",composite:","};function M(e,t,n,r){var a=new Map(e.map((function(e){return[e,r?new Set(e.elems.map(r)):new Set(e.elems)]}))),i=r?null:a,s=r?a:null;return function(e){if(0===e.length){if(Array.isArray(n))return n;if(s&&r){var a=Array.from(s.values());return t.filter((function(e){var t=r(e);return a.every((function(e){return!e.has(t)}))}))}var l=Array.from(i.values());return t.filter((function(e){return l.every((function(t){return!t.has(e)}))}))}if(1===e.length)return e[0].elems;var o=e.reduce((function(e,t){return!e||e.length>t.elems.length?t.elems:e}),null);return s&&r?o.filter((function(t){var n=r(t);return e.every((function(e){return s.get(e).has(n)}))})):o.filter((function(t){return e.every((function(e){return i.get(e).has(t)}))}))}}function C(e,t,n,r){return function(a){if(0===a.length){if(Array.isArray(n))return n;if(r){var i=new Set;return e.forEach((function(e){e.elems.forEach((function(e){return i.add(r(e))}))})),t.filter((function(e){return!i.has(r(e))}))}var s=new Set;return e.forEach((function(e){e.elems.forEach((function(e){return s.add(e)}))})),t.filter((function(e){return!s.has(e)}))}if(1===a.length)return a[0].elems;var l=a.reduce((function(e,t){return!e||e.length<t.elems.length?t.elems:e}),null),o=l.slice(),c=r?new Set(o.map(r)):new Set(o);return a.forEach((function(e){e.elems!==l&&e.elems.forEach((function(e){if(r){var t=r(e);c.has(t)||(o.push(e),c.add(t))}else c.has(e)||(o.push(e),c.add(e))}))})),o}}function O(e,t){var n,r=void 0===t?{}:t,a=r.type,i=void 0===a?"intersection":a,s=r.min,l=void 0===s?0:s,o=r.max,c=void 0===o?1/0:o,u=r.empty,f=void 0!==u&&u,d=r.elems,m=void 0===d?[]:d,h=r.notPartOfAnySet,p=r.toElemKey,v=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["type","min","max","empty","elems","notPartOfAnySet","toElemKey"]),g=null!==(n=z[i])&&void 0!==n?n:z.intersection,b=[],x=("union"===i?C:M)(e,m,h,p);return function(e,t){void 0===t&&(t={});var n=function(n){return{forEach:function(r){return n(e,r,t)}}};return Math.pow(2,e.length)<Number.MAX_SAFE_INTEGER?n(N):void 0!==window.BigInt?n(k):n(A)}(e,{min:l,max:c}).forEach((function(e){if(0===e.length&&"number"==typeof h&&h>0)b.push({type:"composite",elems:[],sets:new Set,name:"()",cardinality:h,overlap:function(e){return e===this||y(e)&&e.name===this.name&&e.cardinality===this.cardinality?this.cardinality:0},degree:0});else{var t=x(e);(f||0!==t.length)&&b.push({type:0===e.length?"composite":i,elems:t,sets:new Set(e),name:1===e.length?e[0].name:"("+e.map((function(e){return e.name})).join(g)+")",cardinality:t.length,degree:e.length})}})),w(e,b,v)}function L(e){return Object.assign({type:"set",cardinality:e.elems.length},e)}function q(e){return e.name+":"+e.type+"#"+e.cardinality}var T=function(e,t,n){var r=e.length+n,a=t/Math.max(1,r),i=t-a*e.length,s=new Map(e.map((function(e,t){return[e,t]}))),l=a/(1+n),o=function(e){var t=s.get(e);if(null!=t)return i+a*t};return o.bandwidth=function(){return l},o};function B(e,t,n){void 0===n&&(n=1);for(var r=0;r<e.length-n;r+=n){var a=e[r],i=e[r+1];if(a<i){if(a+t[r]/2>i-t[r+1]/2)return!0}else{var s=a-t[r]/2;if(i+t[r+1]/2>s)return!0}}return!1}function I(e,t,n,r,a){var i=e[e.length-1];if(!i.label)for(var s=e.length-2;s>0;--s)if(e[s].label){i=e[s];break}if(i.value<t){var l=n(i.value),o=n(t);if(l<o){l+r(i.value)/2<o-r(t)/2&&e.push({value:t,label:a(t)})}else{var c=l-r(i.value)/2;o+r(t)/2<c&&e.push({value:t,label:a(t)})}}return e}function j(e,t,n){return void 0===t&&(t=String),void 0===n&&(n=1),e.map((function(e,r){return{value:e,label:1===n||r%n==0?t(e):void 0}}))}function F(e,t,n,r,a){var i=e.map((function(e){return t(e)})),s=e.map((function(e){return n(e)}));return B(i,s)&&B(i,s,2)?null:I(j(e,a),r,t,n,a)}function P(e){return e.toLocaleString()}function W(e,t){void 0===t&&(t=1);for(var n=[],r=0;r<=e;r+=t)n.push(r);return n}function H(e,t,n,r){if(t<=0)return[];for(var a,i=p(function(e,t){void 0===t&&(t=11);var n=Math.max(0,Math.floor(Math.log10(e)-.5)),r=Math.pow(10,n),a=[1,2,5],i=a.map((function(e){return e*r}));n>0&&i.unshift(a[a.length-1]*Math.pow(10,n-1)),i.push(a[0]*Math.pow(10,n+1));var s=Math.ceil(e/t);return i.filter((function(t){return t>=s&&t<=e}))}(e,t));!(a=i()).done;){var s=F(W(e,a.value),n,r,e,P);if(s)return s}return j([0,e],P)}var R=function(e,t,n){var r=t[1]-t[0],a=e,i=function(e){var n=e/a;return t[0]+n*r};return i.ticks=function(t){if(void 0===t&&(t=10),"vertical"===n.orientation){var r=Math.ceil(1.4*n.fontSizeHint);return H(e,t+1,i,(function(){return r}))}var a=n.fontSizeHint/1.4;return H(e,t+1,i,(function(e){return Math.ceil(P(e).length*a)}))},i.tickFormat=function(){return P},i};function K(e){var t=["","k","M","G"],n=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),t.length-1));return""+(Math.round(e/Math.pow(10,3*n-1))/10).toLocaleString()+t[n]}function U(e,t){for(var n=[],r=Math.pow(10,t),a=1;a<=e;a*=r)n.push(a);return n}function _(e,t){for(var n=[],r=1,a=0;r<=e;r*=10,a++){n.push({value:r,label:1===t||a%t==0?K(r):void 0});for(var i=r+r;i<10*r&&i<e;i+=r*t)n.push({value:i})}return n}function D(e,t,n,r){if(t<=0)return[];for(var a=0,i=[1,2,5];a<i.length;a++){var s=i[a];if(F(U(e,s),n,r,e,K))return I(_(e,s),e,n,r,K)}return j([0,e],K)}var V=function(e,t,n){var r=t[1]-t[0],a=e<1?1:Math.log10(e),i=function(e){var n=e<=1?0:Math.log10(e)/a;return t[0]+n*r};return i.ticks=function(t){if(void 0===t&&(t=10),"vertical"===n.orientation){var r=Math.ceil(1.4*n.fontSizeHint);return D(e,t+1,i,(function(){return r}))}var a=n.fontSizeHint/1.4;return D(e,t+1,i,(function(e){return Math.ceil(K(e).length*a)}))},i.tickFormat=function(){return K},i}},92:function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r=n(0),a=n.n(r),i=n(89);function s(){}function l(e){return e?function(t){return function(n){return e.call(this,t,n.nativeEvent)}}:s}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function c(e){var t=0,n=0;return function(r){var a=0;return"before"===r.position?a=-(t+=r.size):(a=e+n,n+=r.size),a}}function u(e){return"upset-"+Math.random().toString(36).slice(4)}function f(e,t,n,r,a,s,l,o,c,f,d,m){var y,h="linear"===(y=r)?i.f:"log"===y?i.g:y,p=function(e){return"band"===e?i.b:e}(a),v=function(e){return Array.isArray(e)}(t)?t:Object(i.c)(e,t),g=p(v.map(f),n.cs.w,n.padding),b=v.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),x=h(b,[n.cs.h,s],{orientation:"vertical",fontSizeHint:c}),S=function(e){return Math.floor(s/1.4*.7*x.tickFormat()(e).length)},E=e.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),w=S(E),N=S(b),k=h(E,[n.sets.w,w],{orientation:"horizontal",fontSizeHint:c}),A=e.map(f),z=p(A.slice().reverse(),n.sets.h,n.padding),M=Math.min(z.bandwidth(),g.bandwidth())/2*l,C=Math.max(2,Math.min(z.bandwidth(),g.bandwidth())/2*o);return{id:m||u(),r:M,triangleSize:C,sets:{v:e,keys:A,rv:e.slice().reverse(),x:k,xAxisWidth:n.sets.w-w,y:function(e){return z(f(e))},bandWidth:z.bandwidth(),cy:z.bandwidth()/2+n.cs.h,format:k.tickFormat(),labelOffset:s+9+2},cs:{v:v,keys:v.map(f),x:function(e){return g(f(e))},y:x,yAxisWidth:n.cs.h-s,cx:g.bandwidth()/2,bandWidth:g.bandwidth(),format:x.tickFormat(),has:function(e,t){var n=f(t);return Array.from(e.sets).some((function(e){return f(e)===n}))},labelOffset:N+9+6},toKey:f,toElemKey:d}}var d={},m=[],y={setLabel:"16px",axisTick:"10px",chartLabel:"16px",barLabel:"10px",legend:"10px"},h=[.18,.12,.7],p=[.6,.4],v={type:"intersection"};function g(e,t){var n=t.type,r=void 0===n?"png":n,a=t.title,i=void 0===a?"UpSet":a,s=t.toRemove,l=e.dataset.theme,o=e.cloneNode(!0);o.style.backgroundColor="dark"===l?"#303030":"white",s&&Array.from(o.querySelectorAll(s)).forEach((function(e){return e.remove()}));var c=new Blob([(new XMLSerializer).serializeToString(o)],{type:"image/svg+xml;charset=utf-8"}),u=URL.createObjectURL(c);return"svg"===r?(b(u,i+"."+r,e.ownerDocument),URL.revokeObjectURL(u),Promise.resolve()):function(e,t){var n=t.ownerDocument.createElement("canvas"),r=t.getBoundingClientRect();n.width=r.width,n.height=r.height;var a=n.getContext("2d"),i=new Image(n.width,n.height);return new Promise((function(t){i.onload=function(){a.drawImage(i,0,0);var e=n.toDataURL("image/png");t(e)},i.src=e}))}(u,e).then((function(t){b(t,i+"."+r,e.ownerDocument),URL.revokeObjectURL(u)}))}function b(e,t,n){var r=n.createElement("a");r.href=e,r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.download=t,document.body.appendChild(r),r.click(),r.remove()}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e){var t=e.currentTarget.closest("svg"),n=e.currentTarget.dataset.type||"png";"vega"!==n?g(t,{type:n,toRemove:"."+e.currentTarget.getAttribute("class")}):function(e,t){var n,r,a,i,s,l,o=(void 0===t?{}:t).title,c=void 0===o?"UpSet":o,u=null!==(n=e.getComputedStyle||(null===(r=e.ownerDocument)||void 0===r||null===(a=r.defaultView)||void 0===a?void 0:a.getComputedStyle))&&void 0!==n?n:window.getComputedStyle,f=e.dataset.theme,d=Array.from(e.classList).find((function(e){return e.startsWith("root-")})).slice("root-".length),m=Array.from(e.querySelectorAll("[data-upset=sets] [data-cardinality]")).map((function(e){return{name:e.querySelector("text.setTextStyle-"+d).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10)}})).reverse(),y=-Number.parseFloat(e.querySelector(".sBarTextStyle-"+d).getAttribute("dx")),h=u(e.querySelector(".fillPrimary-"+d)).fill,p=u(e.querySelector(".fillNotMember-"+d)).fill,v=u(e.querySelector("text")).fill,g=e.querySelector(".cChartTextStyle-"+d).textContent,S=e.querySelector(".sChartTextStyle-"+d).textContent,E=Array.from(e.querySelectorAll("[data-upset=cs] [data-cardinality]")).map((function(e){return{name:e.querySelector("text.hoverBarTextStyle-"+d).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10),sets:Array.from(e.querySelectorAll(".fillPrimary-"+d+" > title")).map((function(e){return e.textContent}))}})),w=function(e){return Number.parseFloat(e.getAttribute("transform").match(/([\d.]+),/)[1])},N=e.querySelector("[data-upset=base]"),k=w(N),A=w(e.querySelector("[data-upset=csaxis]")),z=Number.parseFloat(N.querySelector("g").firstElementChild.children[1].getAttribute("x2")),M=(l=e.querySelector("[data-upset=setaxis]"),Number.parseFloat(l.getAttribute("transform").match(/,([\d.]+)/)[1])),C=Number.parseFloat(e.querySelector("defs rect").getAttribute("width")),O=Number.parseFloat(e.querySelector("defs rect").getAttribute("height")),L=Number.parseFloat(e.querySelector("[data-cardinality] circle.fillPrimary-"+d).getAttribute("r")),q=null!=e.querySelector("[data-upset=sets-s] [data-cardinality]"),T=null!=e.querySelector("[data-upset=sets-q] [data-cardinality]"),B=q||T,I="orange";B&&(Array.from(e.querySelectorAll("[data-upset=sets-"+(q?"s]":"q]:first-of-type")+" [data-cardinality]")).forEach((function(e){var t=m.length-Number.parseInt(e.dataset.i,10)-1;m[t].selection=Number.parseInt(e.dataset.cardinality,10)})),Array.from(e.querySelectorAll("[data-upset=cs-"+(q?"s]":"q]:first-of-type")+" [data-cardinality]")).forEach((function(e){var t=Number.parseInt(e.dataset.i,10);E[t].selection=Number.parseInt(e.dataset.cardinality,10)})),I=u(e.querySelector("[data-upset=sets-"+(q?"s":"q")+"] [data-cardinality]")).fill);var j=Number.parseInt(null!==(i=null===(s=e.querySelector("[data-upset=cs-ss]"))||void 0===s?void 0:s.dataset.i)&&void 0!==i?i:"-1",10),F=j>=0?{field:"partOf",oneOf:[1,2]}:{field:"partOf",equal:1},P={$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:c,datasets:{sets:m,combinations:E.map((function(e,t){return Object.assign({},e,{partOf:j===t?2:1,nsets:[""]})})).concat(E.map((function(e){return{name:e.name,cardinality:e.cardinality,partOf:0,sets:[""],nsets:m.filter((function(t){return!e.sets.includes(t.name)})).map((function(e){return e.name}))}})))},vconcat:[{hconcat:[{mark:"bar",width:A+C-40,height:M},{width:z,height:M,data:{name:"combinations"},transform:[{filter:F}],layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"center",baseline:"bottom",dy:-y},encoding:{text:{field:"cardinality",type:"quantitative"}}},B&&{mark:{type:"bar",fill:I,tooltip:!0},encoding:{y:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null},y:{field:"cardinality",type:"quantitative",axis:{grid:!1},title:g}}}]},{hconcat:[{width:A,height:O,data:{name:"sets"},layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"right",baseline:"middle",dx:-y},encoding:{text:{field:"cardinality",type:"quantitative"}}},B&&{mark:{type:"bar",fill:I,tooltip:!0},encoding:{x:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},x:{field:"cardinality",type:"quantitative",title:S,sort:"descending",axis:{grid:!1}}}},{data:{name:"sets"},width:C,height:O,mark:{type:"text",align:"center",baseline:"middle",fontSize:Number.parseInt(u(e.querySelector(".setTextStyle-"+d)).fontSize,10)},encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},text:{field:"name",type:"ordinal"}}},{width:z,height:O,data:{name:"combinations"},transform:[{flatten:["sets"],as:["has_set"]},{flatten:["nsets"],as:["has_not_set"]},{calculate:"datum.has_set+datum.has_not_set",as:"set"}],layer:[{mark:{type:"circle",size:L*L*Math.PI,tooltip:!0},encoding:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[p,h].concat(j>=0?[I]:[])}},y:{field:"set",type:"ordinal",axis:null,sort:null}}},{mark:"rule",transform:[{filter:F},{calculate:"datum.sets[datum.sets.length -1]",as:"set_end"}],encoding:x({y:{field:"sets[0]",type:"ordinal",axis:null,sort:null},y2:{field:"set_end"}},j<0?{}:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[h,I]}}})}],encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null}}}]}],config:{padding:k,background:"dark"===f?"#303030":"white",concat:{spacing:0},view:{stroke:null},bar:{fill:h},circle:{opacity:1},rule:{stroke:h,strokeWidth:Number.parseInt(u(e.querySelector("[data-upset=cs] [data-cardinality] line")).strokeWidth,10)},axis:{labelColor:v,labelFontSize:Number.parseInt(u(e.querySelector(".axisTextStyle-"+d)).fontSize,10),titleColor:v,titleFontSize:Number.parseInt(u(e.querySelector(".cChartTextStyle-"+d)).fontSize,10)},title:{color:v},text:{fill:v,fontSize:Number.parseInt(u(e.querySelector(".sBarTextStyle-"+d)).fontSize,10)}}},W=URL.createObjectURL(new Blob([JSON.stringify(P,null,2)],{type:"application/json"}));b(W,c+".json",e.ownerDocument),URL.revokeObjectURL(W)}(t)}function E(e){var t=e.transform,n=e.styleId;return a.a.createElement("g",{className:"exportButtons-"+n,transform:t},a.a.createElement("g",{className:"exportButton-"+n,onClick:S,"data-type":"png",transform:"translate(-50, 0)"},a.a.createElement("title",null,"Download PNG Image"),a.a.createElement("rect",{y:-9,width:24,height:11,rx:2,ry:2}),a.a.createElement("text",{className:"exportTextStyle-"+n,x:12},"PNG")),a.a.createElement("g",{className:"exportButton-"+n,onClick:S,"data-type":"svg",transform:"translate(-24, 0)"},a.a.createElement("title",null,"Download SVG Image"),a.a.createElement("rect",{y:-9,width:24,height:11,rx:2,ry:2}),a.a.createElement("text",{className:"exportTextStyle-"+n,x:12},"SVG")),a.a.createElement("g",{className:"exportButton-"+n,onClick:S,"data-type":"vega",transform:"translate(-84, 0)"},a.a.createElement("title",null,"Download VEGA-Lite Specification"),a.a.createElement("rect",{y:-9,width:32,height:11,rx:2,ry:2}),a.a.createElement("text",{className:"exportTextStyle-"+n,x:16},"VEGA")))}var w=a.a.memo((function(e){var t=e.queries,n=e.size,r=e.style,s=e.data;return a.a.createElement("text",{transform:"translate("+n.legend.x+",4)",style:r.styles.legend,className:o("legendTextStyle-"+r.id,r.classNames.legend)},t.map((function(e,t){var n=null;return Object(i.e)(e)?n=e.set.cardinality:Object(i.d)(e)&&(n=e.elems instanceof Set?e.elems.size:e.elems.length),a.a.createElement(a.a.Fragment,{key:e.name},a.a.createElement("tspan",{className:"fillQ"+t+"-"+s.id},"  ⬤ "),a.a.createElement("tspan",null,e.name,null!=n?": "+s.sets.format(n):""))})))})),N=a.a.memo((function(e){var t=e.pos,n=e.spacing,r=e.tickSizeInner,i=e.orient,s=e.name,l=e.style,c="top"===i||"left"===i?-1:1;return a.a.createElement("g",{transform:"translate(0, "+(t+.5)+")"},s&&a.a.createElement("text",{x:c*n,dy:"0.32em",className:o("axisTextStyle-"+l.id,"right"===i?"startText-"+l.id:"endText-"+l.id,l.classNames.axisTick),style:l.styles.axisTick},s),a.a.createElement("line",{x2:c*r,className:"axisLine-"+l.id}))})),k=a.a.memo((function(e){var t=e.pos,n=e.name,r=e.spacing,i=e.orient,s=e.tickSizeInner,l=e.style,c="top"===i||"left"===i?-1:1;return a.a.createElement("g",{transform:"translate("+(t+.5)+", 0)"},n&&a.a.createElement("text",{y:c*r,dy:"top"===i?"0em":"0.71em",className:o("axisTextStyle-"+l.id,l.classNames.axisTick),style:l.styles.axisTick},n),a.a.createElement("line",{y2:c*s,className:"axisLine-"+l.id}))}));function A(e){var t=e.scale,n=e.orient,r=e.tickSizeInner,i=void 0===r?6:r,s=e.tickSizeOuter,l=void 0===s?6:s,o=e.tickPadding,c=void 0===o?3:o,u=e.size,f=e.shift,d=e.style,m=e.transform,y=Math.max(i,0)+c,h=f,p=u,v="top"===n||"left"===n?-1:1,g="left"===n||"right"===n?N:k,b=t.ticks().map((function(e){return"number"==typeof e?{value:e,label:String(e)}:e}));return a.a.createElement("g",{transform:m},b.map((function(e){return a.a.createElement(g,{key:e.value,pos:t(e.value),name:e.label,spacing:y,tickSizeInner:i,orient:n,style:d})})),a.a.createElement("path",{className:"axisLine-"+d.id,d:"left"===n||"right"===n?l?"M"+v*l+","+h+"H0.5V"+p+"H"+v*l:"M0.5,"+h+"V"+p:l?"M"+h+","+v*l+"V0.5H"+p+"V"+v*l:"M"+h+",0.5H"+p}))}var z=a.a.memo((function(e){var t=e.size,n=e.style,r=e.data,i=c(t.sets.w+t.labels.w+t.cs.w),s=c(t.cs.h+t.sets.h),l="auto"===n.cs.offset?r.cs.labelOffset:n.cs.offset,u="auto"===n.sets.offset?r.sets.labelOffset:n.sets.offset;return a.a.createElement("g",null,a.a.createElement("g",{transform:"translate("+t.cs.x+","+t.cs.y+")","data-upset":"csaxis"},a.a.createElement(A,{scale:r.cs.y,orient:"left",size:t.cs.h,shift:t.cs.h-r.cs.yAxisWidth,style:n}),a.a.createElement("line",{x1:0,x2:t.cs.w,y1:t.cs.h+1,y2:t.cs.h+1,className:"axisLine-"+n.id}),a.a.createElement("text",{className:o("cChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+-l+", "+t.cs.h/2+")rotate(-90)"},n.cs.name),t.cs.addons.map((function(e){return a.a.createElement("text",{key:e.name,className:o("cChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+-l+", "+(s(e)+e.size/2)+")rotate(-90)"},e.name)}))),a.a.createElement("g",{transform:"translate("+t.sets.x+","+t.sets.y+")","data-upset":"setaxis"},a.a.createElement(A,{scale:r.sets.x,orient:"bottom",size:t.sets.w,shift:t.sets.w-r.sets.xAxisWidth,transform:"translate(0, "+t.sets.h+")",style:n}),a.a.createElement("text",{className:o("sChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+t.sets.w/2+", "+(t.sets.h+u)+")"},n.sets.name),t.sets.addons.map((function(e){return a.a.createElement("text",{key:e.name,className:o("sChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+(i(e)+e.size/2)+", "+(t.sets.h+u)+")"},e.name)}))))})),M=a.a.memo((function(e){var t=e.cx,n=e.r,r=e.cy,i=e.name,s=e.className,l=e.style;return a.a.createElement("circle",{r:n,cx:t,cy:r,className:s,style:l},a.a.createElement("title",null,i))})),C=a.a.memo((function(e){var t=e.d,n=e.onClick,r=e.onMouseEnter,i=e.onMouseLeave,s=e.onContextMenu,l=e.className,u=e.data,f=e.size,d=e.style,m=e.children,y=u.cs.y(t.cardinality),h=c(f.cs.h+f.sets.h);return a.a.createElement("g",{transform:"translate("+u.cs.x(t)+", 0)",onMouseEnter:r(t),onMouseLeave:i,onClick:n(t),onContextMenu:s(t),className:l,"data-cardinality":t.cardinality},a.a.createElement("title",null,t.name,": ",u.cs.format(t.cardinality)),a.a.createElement("rect",{y:-f.cs.before,width:u.cs.bandWidth,height:f.sets.h+f.cs.h+f.cs.before+f.cs.after,className:"hoverBar-"+d.id}),a.a.createElement("rect",{y:y,height:f.cs.h-y,width:u.cs.bandWidth,className:o("fillPrimary-"+d.id,d.classNames.bar),style:d.styles.bar}),a.a.createElement("text",{y:y-d.barLabelOffset,x:u.cs.bandWidth/2,style:d.styles.barLabel,className:o("cBarTextStyle-"+d.id,d.classNames.barLabel)},u.cs.format(t.cardinality)),a.a.createElement("text",{y:-d.barLabelOffset-f.cs.before,x:u.cs.bandWidth/2,style:d.styles.barLabel,className:o("hoverBarTextStyle-"+d.id,d.classNames.barLabel)},t.name),u.sets.v.map((function(e,n){return a.a.createElement(M,{key:u.sets.keys[n],r:u.r,cx:u.cs.cx,cy:u.sets.y(e)+u.sets.cy,name:u.cs.has(t,e)?e.name:t.name,style:d.styles.dot,className:o(t.sets.has(e)?"fillPrimary-"+d.id:"fillNotMember-"+d.id,d.classNames.dot)})})),t.sets.size>1&&a.a.createElement("line",{x1:u.cs.cx,y1:u.sets.y(u.sets.v.find((function(e){return u.cs.has(t,e)})))+u.sets.cy,x2:u.cs.cx,y2:u.sets.y(u.sets.rv.find((function(e){return u.cs.has(t,e)})))+u.sets.cy,className:"upsetLine-"+u.id}),f.cs.addons.map((function(e){return a.a.createElement("g",{key:e.name,transform:"translate(0,"+h(e)+")"},e.render({set:t,width:u.cs.bandWidth,height:e.size,theme:d.theme}))})),m)})),O=a.a.memo((function(e){var t=e.d,n=e.i,r=e.onMouseEnter,i=e.onMouseLeave,s=e.onClick,l=e.onContextMenu,u=e.className,f=e.size,d=e.data,m=e.style,y=e.children,h=d.sets.x(t.cardinality),p=c(f.sets.w+f.labels.w+f.cs.w);return a.a.createElement("g",{transform:"translate(0, "+d.sets.y(t)+")",onMouseEnter:r(t),onMouseLeave:i,onClick:s(t),onContextMenu:l(t),className:u,"data-cardinality":t.cardinality},a.a.createElement("title",null,t.name,": ",d.sets.format(t.cardinality)),a.a.createElement("rect",{x:-f.sets.before,width:f.sets.w+f.labels.w+f.cs.w+f.sets.after,height:d.sets.bandWidth,className:"hoverBar-"+m.id}),n%2==1&&a.a.createElement("rect",{x:f.sets.w,width:f.labels.w+f.cs.w+f.sets.after,height:d.sets.bandWidth,className:"fillAlternating-"+m.id}),a.a.createElement("rect",{x:h,width:f.sets.w-h,height:d.sets.bandWidth,className:o("fillPrimary-"+m.id,m.classNames.bar),style:m.styles.bar}),a.a.createElement("text",{x:h,dx:-m.barLabelOffset,y:d.sets.bandWidth/2,style:m.styles.barLabel,className:o("sBarTextStyle-"+m.id,m.classNames.barLabel)},d.sets.format(t.cardinality)),a.a.createElement("text",{x:f.sets.w+f.labels.w/2,y:d.sets.bandWidth/2,className:o("setTextStyle-"+m.id,m.classNames.setLabel),style:m.styles.setLabel,clipPath:"url(#clip-"+f.id+")"},t.name),f.sets.addons.map((function(e){return a.a.createElement("g",{key:e.name,transform:"translate("+p(e)+",0)"},e.render({set:t,width:e.size,height:d.sets.bandWidth,theme:m.theme}))})),y)})),L=a.a.memo((function(e){var t=e.data,n=e.size,r=e.style,i=e.onHover,s=e.onClick,o=e.onContextMenu,c=e.setChildrenFactory,u=e.combinationChildrenFactory,f=a.a.useMemo((function(){return[l(s),l(i),l(o),i?function(e){return i(null,e.nativeEvent)}:void 0]}),[s,i,o]),d=f[0],m=f[1],y=f[2],h=f[3];return a.a.createElement("g",{className:s?"clickAble-"+r.id:void 0},a.a.createElement("g",{transform:"translate("+n.sets.x+","+n.sets.y+")","data-upset":"sets"},t.sets.v.map((function(e,l){return a.a.createElement(O,{key:t.sets.keys[l],d:e,i:l,onClick:d,onMouseEnter:m,onMouseLeave:h,onContextMenu:y,className:s||i?"interactive-"+r.id:void 0,data:t,style:r,size:n},c&&c(e))}))),a.a.createElement("g",{transform:"translate("+n.cs.x+","+n.cs.y+")","data-upset":"cs"},t.cs.v.map((function(e,l){return a.a.createElement(C,{key:t.cs.keys[l],d:e,onClick:d,onMouseEnter:m,onMouseLeave:h,onContextMenu:y,className:s||i?"interactive-"+r.id:void 0,data:t,style:r,size:n},u&&u(e))}))))}));function q(e){var t=e.data,n=e.size,r=e.style,i=e.elemOverlap,s=e.secondary,l=e.tooltip,u=e.suffix,f=e.transform,d=e.empty,m=e.combinationAddons,y=t.cs.bandWidth,h=n.cs.h+n.sets.h,p=n.cs.h,v=o("fill"+u,!l&&"pnone-"+r.id,r.classNames.bar);return a.a.createElement("g",{transform:f,"data-upset":s?"cs-q":"cs-s"},t.cs.v.map((function(e,n){var o=t.cs.x(e),u=t.cs.keys[n];if(d&&!s)return a.a.createElement("rect",{key:u,x:o,y:p,height:0,width:y,className:v,style:r.styles.bar},l&&a.a.createElement("title",null));var f=i(e);if(0===f)return null;var g=t.cs.y(f),b=l&&a.a.createElement("title",null,e.name+" ∩ "+l+": "+f),x=s?a.a.createElement("path",{key:u,transform:"translate("+o+", "+g+")",d:"M0,-1 l"+y+",0 l0,2 l"+-y+",0 L-"+t.triangleSize+",-"+t.triangleSize+" L-"+t.triangleSize+","+t.triangleSize+" Z",className:v,"data-i":n,"data-cardinality":f},b):a.a.createElement("rect",{key:u,x:o,y:g,height:p-g,"data-i":n,"data-cardinality":f,width:y,className:v,style:r.styles.bar},b),S=c(h),E=m.map((function(t){var n=S(t),i=t.render({set:e,width:y,height:t.size,theme:r.theme});return i?a.a.createElement("g",{key:t.name,transform:"translate("+o+","+n+")"},i):null})).filter(Boolean);return 0===E.length?x:a.a.createElement("g",{key:u},x,E)})))}function T(e){var t=e.data,n=e.size,r=e.style,i=e.elemOverlap,s=e.suffix,l=e.secondary,u=e.empty,f=e.tooltip,d=e.setAddons,m=e.transform,y=n.sets.w,h=n.sets.w+n.labels.w+n.cs.w,p=t.sets.bandWidth,v=o("fill"+s,!f&&" pnone-"+r.id,r.classNames.bar);return a.a.createElement("g",{transform:m,"data-upset":l?"sets-q":"sets-s"},t.sets.v.map((function(e,n){var s=t.sets.y(e),o=t.sets.keys[n];if(u&&!l)return a.a.createElement("rect",{key:o,x:y,y:s,width:0,height:p,className:v,style:r.styles.bar},f&&a.a.createElement("title",null));var m=i(e);if(0===m)return null;var g=t.sets.x(m),b=f&&a.a.createElement("title",null,e.name+" ∩ "+f+": "+m),x=l?a.a.createElement("path",{key:o,transform:"translate("+g+", "+(s+p)+")",d:"M1,0 l0,"+-p+" l-2,0 l0,"+p+" L-"+t.triangleSize+","+t.triangleSize+" L"+t.triangleSize+","+t.triangleSize+" Z","data-i":n,"data-cardinality":m,className:v},b):a.a.createElement("rect",{key:o,"data-i":n,"data-cardinality":m,x:g,y:s,width:y-g,height:p,className:v,style:r.styles.bar},b),S=c(h),E=d.map((function(t){var n=S(t),i=t.render({set:e,width:t.size,height:p,theme:r.theme});return i?a.a.createElement("g",{key:t.name,transform:"translate("+n+","+s+")"},i):null})).filter(Boolean);return 0===E.length?x:a.a.createElement("g",{key:o},x,E)})))}var B=[],I=a.a.memo((function(e){var t=e.size,n=e.data,s=e.style,l=e.onHover,o=e.secondary,c=e.queries,u=t.sets.addons.some((function(e){return null!=e.renderQuery}))||t.cs.addons.some((function(e){return null!=e.renderQuery})),f=Object(r.useMemo)((function(){return c.map((function(e){return x(x({},e),{},{overlap:Object(i.i)(e,"intersection",n.toElemKey),elemOverlap:u?Object(i.h)(e,"intersection",n.toElemKey):null})}))}),[c,u,n.toElemKey]);function d(e,t,n,r){return x(x({},e),{},{render:function(a){var i=n(a.set);return e.renderQuery?e.renderQuery(x({query:t,overlap:i,secondary:r},a)):null}})}return a.a.createElement("g",{className:l&&!o?"pnone-"+s.id:void 0},a.a.createElement("g",{transform:"translate("+t.sets.x+","+t.sets.y+")"},f.map((function(e,r){return a.a.createElement(T,{key:e.name,data:n,size:t,style:s,elemOverlap:e.overlap,suffix:"Q"+r+"-"+n.id,secondary:o||r>0,tooltip:l&&!(o||r>0)?void 0:e.name,setAddons:0===t.sets.addons.length?B:t.sets.addons.map((function(t){return d(t,e,e.elemOverlap,o||r>0)}))})}))),a.a.createElement("g",{transform:"translate("+t.cs.x+","+t.cs.y+")"},f.map((function(e,r){return a.a.createElement(q,{key:e.name,data:n,size:t,style:s,elemOverlap:e.overlap,suffix:"Q"+r+"-"+n.id,secondary:o||r>0,tooltip:l&&!(o||r>0)?void 0:e.name,combinationAddons:0===t.cs.addons.length?B:t.cs.addons.map((function(t){return d(t,e,e.elemOverlap,o||r>0)}))})}))))}));function j(e){var t=e.data,n=e.size,r=e.style,i=e.selection;if(!i||"set"!==i.type)return null;var s=i;return a.a.createElement("rect",{y:t.sets.y(s),width:n.labels.w+n.cs.w+n.sets.after,height:t.sets.bandWidth,className:"selectionHint-"+r.id})}function F(e){var t=e.data,n=e.size,r=e.style,i=e.selection,s=t.sets.bandWidth/2,l=t.cs.cx,c=t.r,u=n.sets.h+n.sets.after,f=t.cs.bandWidth;if(!i||"set"===i.type)return null;var d=i,m=t.cs.keys.indexOf(t.toKey(d));return a.a.createElement("g",{transform:"translate("+(n.labels.w+t.cs.x(d))+", 0)","data-upset":"cs-ss","data-i":m},a.a.createElement("rect",{width:f,height:u,className:"selectionHint-"+r.id}),t.sets.v.filter((function(e){return t.cs.has(d,e)})).map((function(e){return a.a.createElement(M,{key:t.toKey(e),r:1.1*c,cx:l,cy:t.sets.y(e)+s,name:e.name,className:o("fillSelection-"+r.id,"pnone-"+r.id,r.classNames.dot),style:r.styles.dot})})),d.sets.size>1&&a.a.createElement("line",{x1:l,y1:t.sets.y(t.sets.v.find((function(e){return t.cs.has(d,e)})))+s,x2:l,y2:t.sets.y(t.sets.rv.find((function(e){return t.cs.has(d,e)})))+s,className:"upsetSelectionLine-"+t.id}))}var P=[];function W(e){return null!=e&&!Array.isArray(e)}function H(e,t){var n=Object(i.k)(e,t);return function(e){return n(e.elems).intersection}}function R(){return 0}function K(e){var t=e.size,n=e.data,r=e.style,s=e.selection,l=e.onHover,o=r.emptySelection;var c,u,f,d=function(){if(!s)return R;if("function"==typeof s)return s;if(Array.isArray(s))return H(s,n.toElemKey);var e=s;if(e.overlap)return e.overlap;var t=H(e.elems,n.toElemKey);return function(n){return n.overlap?n.overlap(e):t(n)}}(),m=Array.isArray(s)?"Array("+s.length+")":"function"==typeof s?"?":null==s?void 0:s.name,y=t.sets.addons.some((function(e){return null!=e.renderSelection}))||t.cs.addons.some((function(e){return null!=e.renderSelection})),h=s&&"function"!=typeof s&&y?(c=Array.isArray(s)?s:s.elems,u=n.toElemKey,f=Object(i.j)(c,u),function(e){return f(e.elems).intersection}):null;function p(e){return x(x({},e),{},{render:function(t){var n=h?h(t.set):null;return e.renderSelection?e.renderSelection(x({selection:s,selectionColor:r.selectionColor,overlap:n},t)):null}})}return a.a.createElement("g",{className:l?"pnone-"+r.id:void 0},(s||o)&&a.a.createElement(q,{data:n,size:t,style:r,transform:"translate("+t.cs.x+","+t.cs.y+")",empty:o&&!s,elemOverlap:d,suffix:"Selection-"+r.id,tooltip:l?void 0:m,combinationAddons:0===t.cs.addons.length?P:t.cs.addons.map(p)}),(s||o)&&a.a.createElement(T,{data:n,size:t,style:r,transform:"translate("+t.sets.x+","+t.sets.y+")",empty:o&&!s,elemOverlap:d,suffix:"Selection-"+r.id,tooltip:l?void 0:m,setAddons:0===t.sets.addons.length?P:t.sets.addons.map(p)}),a.a.createElement("g",{transform:"translate("+t.labels.x+","+t.labels.y+")"},W(s)&&a.a.createElement(j,{data:n,size:t,style:r,selection:s}),W(s)&&a.a.createElement(F,{data:n,size:t,style:r,selection:s})))}var U={selectionColor:"#ffa500",color:"#000000",textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"#0000000d"},_={selectionColor:"#ffa500",color:"#cccccc",textColor:"#ffffff",hoverHintColor:"#d9d9d9",notMemberColor:"#666666",alternatingBackgroundColor:"#ffffff33"};function D(e){var t,n=function(e){return"dark"===e?_:U}(e.theme);return Object.assign({theme:"light",padding:20,barPadding:.3,dotPadding:.7,combinations:v,selection:null,combinationName:null==e.combinations||(t=e.combinations,Array.isArray(t))||"union"!==e.combinations.type?"Intersection Size":"Union Size",barLabelOffset:2,setNameAxisOffset:"auto",combinationNameAxisOffset:"auto",setName:"Set Size",fontFamily:"sans-serif",widthRatios:h,heightRatios:p,queries:m,queryLegend:null!=e.queries&&e.queries.length>0,exportButtons:!0,numericScale:"linear",bandScale:"band",className:"",fontSizes:y,classNames:d,style:d,styles:d,childrenFactories:d,setAddons:m,combinationAddons:m,emptySelection:!0,toKey:i.l},n,e,e.fontSizes?{fontSizes:Object.assign({},y,e.fontSizes)}:d)}var V=Object(r.forwardRef)((function(e,t){var n=D(e),i=n.id,s=n.className,l=n.style,c=n.width,d=n.height,m=n.padding,y=n.barPadding,h=n.sets,p=n.toKey,v=n.toElemKey,g=n.combinations,b=n.selection,x=void 0===b?null:b,S=n.onClick,N=n.onContextMenu,k=n.onHover,A=n.theme,M=n.dotPadding,C=n.setChildrenFactory,O=n.combinationChildrenFactory,q=n.widthRatios,T=n.heightRatios,B=n.queries,j=void 0===B?[]:B,F=n.setAddons,P=n.combinationAddons,W=n.alternatingBackgroundColor,H=n.bandScale,R=n.barLabelOffset,U=n.classNames,_=n.color,V=n.combinationName,G=n.combinationNameAxisOffset,Q=n.exportButtons,J=n.fontFamily,X=n.fontSizes,Z=n.hoverHintColor,$=n.notMemberColor,Y=n.numericScale,ee=n.queryLegend,te=n.selectionColor,ne=n.setName,re=n.setNameAxisOffset,ae=n.styles,ie=n.textColor,se=n.emptySelection,le=X.axisTick,oe=X.barLabel,ce=X.chartLabel,ue=X.legend,fe=X.setLabel,de=Object(r.useMemo)((function(){return i||u()}),[i,J,le,oe,ce,ue,fe,ie,Z,_,te,$,W]),me=Object(r.useMemo)((function(){return function(e,t,n,r,a,i,s,l,o,c,u){return{theme:e,styles:t,classNames:n,cs:{name:r,offset:a},sets:{name:i,offset:s},emptySelection:u,id:l,barLabelOffset:o,selectionColor:c}}(A,ae,U,V,G,ne,re,de,R,te,se)}),[A,ae,U,R,V,G,ne,re,de,te,se]),ye=Object(r.useMemo)((function(){return function(e,t,n,r,a,i,s,l,o){var c=s.reduce((function(e,t){return e+("before"===t.position?t.size:0)}),0),f=s.reduce((function(e,t){return e+("before"!==t.position?t.size:0)}),0),d=l.reduce((function(e,t){return e+("before"===t.position?t.size:0)}),0),m=l.reduce((function(e,t){return e+("before"!==t.position?t.size:0)}),0),y=t-2*n-20-m-d,h=e-2*n-c-f,p=h*a[0],v=h*a[1],g=y*i[0];return{id:o||u(),cs:{before:d,after:m,x:c+p+v,y:d,w:h-p-v,h:g,addons:l},labels:{x:c+p,y:d+g,w:v,h:y-g},sets:{before:c,after:f,x:c,y:d+g,w:p,h:y-g,addons:s},padding:r,legend:{x:e/2},margin:n,w:e,h:t}}(c,d,m,y,q,T,F,P,i)}),[c,d,m,y,q,T,F,P,i]),he=Object(r.useMemo)((function(){return f(h,g,ye,Y,H,R+Number.parseInt(null!=oe?oe:"10"),M,y,Number.parseInt(null!=le?le:"10"),p,v,i)}),[h,g,ye,Y,H,R,oe,M,y,le,p,v,i]),pe="\n  .root-"+de+" {\n    "+(J?"font-family: "+J+";":"")+"\n  }\n  .axisTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(le?"font-size: "+le+";":"")+"\n    text-anchor: middle;\n  }\n  .barTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(oe?"font-size: "+oe+";":"")+"\n  }\n  .cBarTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(oe?"font-size: "+oe+";":"")+"\n    text-anchor: middle;\n  }\n  .sBarTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(oe?"font-size: "+oe+";":"")+"\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-"+de+" {\n    "+(oe?"font-size: "+oe+";":"")+"\n    fill: "+Z+";\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(fe?"font-size: "+fe+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(ce?"font-size: "+ce+";":"")+"\n    text-anchor: middle;\n  }\n  .sChartTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(ce?"font-size: "+ce+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n  .exportTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(oe?"font-size: "+oe+";":"")+"\n  }\n  .legendTextStyle-"+de+" {\n    fill: "+ie+";\n    "+(ue?"font-size: "+ue+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  .startText-"+de+" {\n    text-anchor: start;\n  }\n  .endText-"+de+" {\n    text-anchor: end;\n  }\n  .pnone-"+de+" {\n    pointer-events: none;\n  }\n  .fillPrimary-"+de+" { fill: "+_+"; }\n  .fillSelection-"+de+" { fill: "+te+"; }\n  .fillNotMember-"+de+" { fill: "+$+"; }\n  .fillAlternating-"+de+" { fill: "+(W||"transparent")+"; }\n  .fillTransparent-"+de+" { fill: transparent; }\n\n  .selectionHint-"+de+" {\n    fill: transparent;\n    pointer-events: none;\n    stroke: "+te+";\n  }\n\n  .axisLine-"+de+" {\n    fill: none;\n    stroke: "+ie+";\n  }\n  .clickAble-"+de+" {\n    cursor: pointer;\n  }\n\n  .hoverBar-"+de+" {\n    fill: transparent;\n  }\n\n  .interactive-"+de+":hover > .hoverBar-"+de+" {\n    stroke: "+Z+";\n  }\n  .interactive-"+de+":hover > .hoverBarTextStyle-"+de+" {\n    display: unset;\n  }\n\n  .exportButtons-"+de+" {\n    text-anchor: middle;\n  }\n  .exportButton-"+de+" {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-"+de+":hover {\n    opacity: 1;\n  }\n  .exportButton-"+de+" > rect {\n    fill: none;\n    stroke: "+ie+";\n  }\n\n  .upsetLine-"+he.id+" {\n    stroke-width: "+.6*he.r+";\n    stroke: "+_+";\n  }\n\n  .upsetSelectionLine-"+he.id+" {\n    stroke-width: "+.6*he.r*1.1+";\n    stroke: "+te+";\n    pointer-events: none;\n  }\n  "+j.map((function(e,t){return".fillQ"+t+"-"+he.id+" {\n    fill: "+e.color+";\n  }"})).join("\n")+"\n  ";return a.a.createElement("svg",{id:i,className:o("root-"+de,s),style:l,width:c,height:d,ref:t,viewBox:"0 0 "+c+" "+d,"data-theme":null!=A?A:"light"},a.a.createElement("style",null,pe),a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip-"+ye.id},a.a.createElement("rect",{x:ye.sets.w,y:0,width:ye.labels.w,height:ye.sets.h}))),ee&&a.a.createElement(w,{queries:j,size:ye,style:me,data:he}),Q&&a.a.createElement(E,{transform:"translate("+(ye.w-2)+","+(ye.h-3)+")",styleId:de}),a.a.createElement("g",{transform:"translate("+m+","+m+")","data-upset":"base"},S&&a.a.createElement("rect",{width:ye.cs.x,height:ye.sets.y,onClick:function(e){return S(null,e.nativeEvent)},className:"fillTransparent-"+de}),a.a.createElement(z,{size:ye,style:me,data:he}),a.a.createElement(L,{size:ye,style:me,data:he,onClick:S,onHover:k,onContextMenu:N,setChildrenFactory:C,combinationChildrenFactory:O}),a.a.createElement(K,{size:ye,style:me,data:he,onHover:k,selection:x}),a.a.createElement(I,{size:ye,style:me,data:he,onHover:k,queries:j,secondary:null!=k||null!=x})),e.children)}));t.a=V}}]);