(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return boxplotAddon}));__webpack_require__(1),__webpack_require__(20),__webpack_require__(50),__webpack_require__(13),__webpack_require__(18),__webpack_require__(14),__webpack_require__(11),__webpack_require__(24),__webpack_require__(4),__webpack_require__(119),__webpack_require__(311),__webpack_require__(1448),__webpack_require__(5),__webpack_require__(8),__webpack_require__(10),__webpack_require__(25),__webpack_require__(51),__webpack_require__(22);var react=__webpack_require__(0),react_default=__webpack_require__.n(react);__webpack_require__(496),__webpack_require__(284),__webpack_require__(1451),__webpack_require__(1453),__webpack_require__(1454),__webpack_require__(1459),__webpack_require__(1461),__webpack_require__(1462),__webpack_require__(1463),__webpack_require__(1464),__webpack_require__(1465),__webpack_require__(1466),__webpack_require__(1467),__webpack_require__(1468),__webpack_require__(1469),__webpack_require__(1470),__webpack_require__(1471),__webpack_require__(1473),__webpack_require__(1474),__webpack_require__(1475),__webpack_require__(1476),__webpack_require__(1477),__webpack_require__(1478),__webpack_require__(1479),__webpack_require__(1480),__webpack_require__(1481),__webpack_require__(1482),__webpack_require__(1483);function quantilesInterpolate(arr,length,interpolate){var n1=length-1,compute=function(q){var index=q*n1,lo=Math.floor(index),h=index-lo,a=arr[lo];return 0===h?a:interpolate(a,arr[Math.min(lo+1,n1)],h)};return{q1:compute(.25),median:compute(.5),q3:compute(.75)}}function quantilesType7(arr,length){return void 0===length&&(length=arr.length),quantilesInterpolate(arr,length,(function(a,b,alpha){return a+alpha*(b-a)}))}function fivenum(arr,length){void 0===length&&(length=arr.length);var n=length,n4=Math.floor((n+3)/2)/2,compute=function(d){return.5*(arr[Math.floor(d)-1]+arr[Math.ceil(d)-1])};return{q1:compute(n4),median:compute((n+1)/2),q3:compute(n+1-n4)}}var methodLookup={hinges:fivenum,fivenum:fivenum,type7:quantilesType7,quantiles:quantilesType7,linear:function quantilesLinear(arr,length){return void 0===length&&(length=arr.length),quantilesInterpolate(arr,length,(function(i,j,fraction){return i+(j-i)*fraction}))},lower:function quantilesLower(arr,length){return void 0===length&&(length=arr.length),quantilesInterpolate(arr,length,(function(i){return i}))},higher:function quantilesHigher(arr,length){return void 0===length&&(length=arr.length),quantilesInterpolate(arr,length,(function(_,j){return j}))},nearest:function quantilesNearest(arr,length){return void 0===length&&(length=arr.length),quantilesInterpolate(arr,length,(function(i,j,fraction){return.5>fraction?i:j}))},midpoint:function quantilesMidpoint(arr,length){return void 0===length&&(length=arr.length),quantilesInterpolate(arr,length,(function(i,j){return.5*(i+j)}))}};function boxplot(data,options){void 0===options&&(options={});for(var v,min=Number.POSITIVE_INFINITY,max=Number.NEGATIVE_INFINITY,sum=0,valid=0,length=data.length,_determineStatsOption=function determineStatsOptions(options){var _options$coef,_options$quantiles,q;return void 0===options&&(options={}),{coef:null!==(_options$coef=options.coef)&&void 0!==_options$coef?_options$coef:1.5,quantiles:(q=null!==(_options$quantiles=options.quantiles)&&void 0!==_options$quantiles?_options$quantiles:"type7","function"==typeof q?q:methodLookup[q]||quantilesType7)}}(options),quantiles=_determineStatsOption.quantiles,coef=_determineStatsOption.coef,vs=new Float32Array(length),i=0;i<length;++i)null==(v=data[i])||Number.isNaN(v)||(vs[valid]=v,valid++,v<min&&(min=v),v>max&&(max=v),sum+=v);var missing=length-valid;if(0===valid)return{min:NaN,max:NaN,mean:NaN,missing:missing,count:length,whiskerHigh:NaN,whiskerLow:NaN,outlier:[],median:NaN,q1:NaN,q3:NaN};for(var _v,s=vs.subarray(0,valid).sort((function(a,b){return a===b?0:a<b?-1:1})),_quantiles=quantiles(s,valid),median=_quantiles.median,q1=_quantiles.q1,q3=_quantiles.q3,iqr=q3-q1,coefValid="number"==typeof coef&&0<coef,left=coefValid?Math.max(min,q1-coef*iqr):min,right=coefValid?Math.min(max,q3+coef*iqr):max,outlier=[],whiskerLow=left,_i=0;_i<valid;++_i){if(left<(_v=s[_i])){whiskerLow=_v;break}0!==outlier.length&&outlier[outlier.length-1]===_v||outlier.push(_v)}for(var _v2,whiskerHigh=right,reversedOutliers=[],_i2=valid-1;0<=_i2;--_i2){if((_v2=s[_i2])<right){whiskerHigh=_v2;break}0!==reversedOutliers.length&&reversedOutliers[reversedOutliers.length-1]===_v2||0!==outlier.length&&outlier[outlier.length-1]===_v2||reversedOutliers.push(_v2)}return{min:min,max:max,count:length,missing:missing,mean:sum/valid,whiskerHigh:whiskerHigh,whiskerLow:whiskerLow,outlier:outlier.concat(reversedOutliers.reverse()),median:median,q1:q1,q3:q3}}function round2(v){return Math.round(100*v)/100}try{round2.displayName="round2",round2.__docgenInfo={description:"@upsetjs /addons\nhttps://github.com/upsetjs/upsetjs\n\nCopyright (c) 2020 Samuel Gratzl <sam\n@sgratzl .com>",displayName:"round2",props:{toString:{defaultValue:null,description:"Returns a string representation of an object.\n@param radix Specifies a radix for converting numeric values to strings. This value is only used for numbers.",name:"toString",required:!1,type:{name:"(radix?: number) => string"}},toFixed:{defaultValue:null,description:"Returns a string representing a number in fixed-point notation.\n@param fractionDigits Number of digits after the decimal point. Must be in the range 0 - 20, inclusive.",name:"toFixed",required:!0,type:{name:"(fractionDigits?: number) => string"}},toExponential:{defaultValue:null,description:"Returns a string containing a number represented in exponential notation.\n@param fractionDigits Number of digits after the decimal point. Must be in the range 0 - 20, inclusive.",name:"toExponential",required:!0,type:{name:"(fractionDigits?: number) => string"}},toPrecision:{defaultValue:null,description:"Returns a string containing a number represented either in exponential or fixed-point notation with a specified number of digits.\n@param precision Number of significant digits. Must be in the range 1 - 21, inclusive.",name:"toPrecision",required:!0,type:{name:"(precision?: number) => string"}},valueOf:{defaultValue:null,description:"Returns the primitive value of the specified object.",name:"valueOf",required:!1,type:{name:"() => number"}},toLocaleString:{defaultValue:null,description:"Converts a number to a string by using the current or specified locale.\n@param locales A locale string or array of locale strings that contain one or more language or locale tags. If you include more than one locale string, list them in descending order of priority so that the first entry is the preferred locale. If you omit this parameter, the default locale of the JavaScript runtime is used.\n@param options An object that contains one or more properties that specify comparison options.",name:"toLocaleString",required:!1,type:{name:"(locales?: string | string[], options?: NumberFormatOptions) => string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/utils.ts#round2"]={docgenInfo:round2.__docgenInfo,name:"round2",path:"src/components/utils.ts#round2"})}catch(__react_docgen_typescript_loader_error){}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var _ref2=react_default.a.createElement("g",null),Boxplot=function(_ref){var _ref$theme=_ref.theme,theme=void 0===_ref$theme?"light":_ref$theme,_ref$mode=_ref.mode,mode=void 0===_ref$mode?"normal":_ref$mode,values=_ref.values,_ref$orient=_ref.orient,orient=void 0===_ref$orient?"horizontal":_ref$orient,w=_ref.width,h=_ref.height,min=_ref.min,max=_ref.max,boxStyle=_ref.boxStyle,lineStyle=_ref.lineStyle,outlierStyle=_ref.outlierStyle,_ref$boxPadding=_ref.boxPadding,bpp=void 0===_ref$boxPadding?.1:_ref$boxPadding,_ref$outlierRadius=_ref.outlierRadius,outlierRadius=void 0===_ref$outlierRadius?3:_ref$outlierRadius,_ref$numberFormat=_ref.numberFormat,nf=void 0===_ref$numberFormat?function(v){return v.toFixed(2)}:_ref$numberFormat,b=boxplot(values,_objectWithoutProperties(_ref,["theme","mode","values","orient","width","height","min","max","boxStyle","lineStyle","outlierStyle","boxPadding","outlierRadius","numberFormat"]));if(Number.isNaN(b.median))return _ref2;var o="indicator"===mode?1:0,hor="horizontal"===orient,n=function normalize(domain){var delta=domain[1]-domain[0];return function(v){return(v-domain[0])/delta}}([min,max]),dn=function denormalize(range){var delta=range[1]-range[0];return function(v){return v*delta+range[0]}}([0,hor?w:h]),scale=function(v){return round2(dn(n(v)))},s={max:scale(b.max),avg:scale(b.mean),med:scale(b.median),min:scale(b.min),q1:scale(b.q1),q3:scale(b.q3),wh:scale(b.whiskerHigh),wl:scale(b.whiskerLow)},title=react_default.a.createElement("title",null,"Min: ".concat(nf(b.min),", 25% Quantile: ").concat(nf(b.q1),", Median: ").concat(nf(b.median),", 75% Quantile: ").concat(nf(b.q3),", Max: ").concat(nf(b.max))),inner="light"===theme?"#d3d3d3":"#666666",styles={box:Object.assign({fill:inner},boxStyle),line:Object.assign({fill:"none",stroke:"light"===theme?"black":"#cccccc"},lineStyle),outlier:Object.assign({fill:inner},outlierStyle)};if(hor){var c=h/2,bp=round2(h*bpp)+o,hp=h-bp-o,w1="M".concat(s.wl,",").concat(o," l0,").concat(h-2*o," M").concat(s.wl,",").concat(c," L").concat(s.q1,",").concat(c),w2="M".concat(s.q3,",").concat(c," L").concat(s.wh,",").concat(c," M").concat(s.wh,",").concat(o," L").concat(s.wh,",").concat(h-o),box="M".concat(s.q1,",").concat(bp," L").concat(s.q3,",").concat(bp," L").concat(s.q3,",").concat(hp," L").concat(s.q1,",").concat(hp," L").concat(s.q1,",").concat(bp," M").concat(s.med,",").concat(bp," l0,").concat(hp-bp),p=react_default.a.createElement("path",{d:"".concat(w1,"  ").concat(w2," ").concat(box),style:styles.line});return"indicator"===mode?p:react_default.a.createElement("g",null,title,"normal"===mode&&react_default.a.createElement("rect",{x:s.q1,y:bp,width:s.q3-s.q1,height:h-2*bp,style:styles.box}),p,";",b.outlier.map((function(o){return react_default.a.createElement("circle",{key:o,r:outlierRadius,cy:c,cx:scale(o),style:styles.outlier},react_default.a.createElement("title",null,"$",nf(o)))})))}var _c=w/2,_bp=round2(w*bpp)+o,wp=w-_bp-o,_w="M".concat(o,",").concat(s.wl," l").concat(w-2*o,",0 M").concat(_c,",").concat(s.wl," L").concat(_c,",").concat(s.q1),_w2="M".concat(_c,",").concat(s.q3," L").concat(_c,",").concat(s.wh," M").concat(o,",").concat(s.wh," L").concat(w-o,",").concat(s.wh),_box="M".concat(_bp,",").concat(s.q1," L").concat(_bp,",").concat(s.q3," l").concat(wp-_bp,",0 L").concat(wp,",").concat(s.q1," L").concat(_bp,",").concat(s.q1," M").concat(_bp,",").concat(s.med," l").concat(wp-_bp,",0"),_p=react_default.a.createElement("path",{d:"".concat(_w," ").concat(_w2," ").concat(_box),style:styles.line});return"indicator"===mode?_p:react_default.a.createElement("g",null,title,"normal"===mode&&react_default.a.createElement("rect",{y:s.q1,x:_bp,height:s.q3-s.q1,width:w-2*_bp,style:styles.box}),_p,b.outlier.map((function(o){return react_default.a.createElement("circle",{key:o,r:outlierRadius,cx:_c,cy:scale(o),style:styles.outlier},react_default.a.createElement("title",null,"$",nf(o)))})))},BoxplotMemo=react_default.a.memo(Boxplot);Boxplot.__docgenInfo={description:"",methods:[],displayName:"Boxplot",props:{theme:{defaultValue:{value:"'light'",computed:!1},required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:""},mode:{defaultValue:{value:"'normal'",computed:!1},required:!1,tsType:{name:"union",raw:"'normal' | 'box' | 'indicator'",elements:[{name:"literal",value:"'normal'"},{name:"literal",value:"'box'"},{name:"literal",value:"'indicator'"}]},description:"the render mode and level of detail to render\n@default normal"},orient:{defaultValue:{value:"'horizontal'",computed:!1},required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:"orientation of the box plot\n@default horizontal"},boxPadding:{defaultValue:{value:"0.1",computed:!1},required:!1,tsType:{name:"number"},description:"padding of the box from its corners\n@default 0.1"},outlierRadius:{defaultValue:{value:"3",computed:!1},required:!1,tsType:{name:"number"},description:"radius of the outlier circles\n@default 3"},numberFormat:{defaultValue:{value:"(v) => v.toFixed(2)",computed:!1},required:!1},values:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"the values to render as a box plot"},width:{required:!0,tsType:{name:"number"},description:"width of the box plot"},height:{required:!0,tsType:{name:"number"},description:"height of the box plot"},min:{required:!0,tsType:{name:"number"},description:"domain minimum value"},max:{required:!0,tsType:{name:"number"},description:"domain maximum value"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},boxStyle:{required:!1,tsType:{name:"CSSProperties"},description:"custom styles applied to the box element"},lineStyle:{required:!1,tsType:{name:"CSSProperties"},description:"custom styles applied to the whisker element"},outlierStyle:{required:!1,tsType:{name:"CSSProperties"},description:"custom styles applied to the outlier elements"}},composes:["BoxplotStatsOptions"]};__webpack_exports__.b=Boxplot;function boxplotAddon(prop,elems){var _ref3=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},_ref3$size=_ref3.size,size=void 0===_ref3$size?100:_ref3$size,position=_ref3.position,_ref3$name=_ref3.name,name=void 0===_ref3$name?prop.toString():_ref3$name,extras=_objectWithoutProperties(_ref3,["size","position","name"]),acc="function"==typeof prop?prop:function(v){return v[prop]},min=Number.POSITIVE_INFINITY,max=Number.NEGATIVE_INFINITY;if(Array.isArray(elems))elems.forEach((function(elem){var v=acc(elem);null==v||Number.isNaN(v)||(v<min&&(min=v),v>max&&(max=v))}));else{var d=elems;min=d.min,max=d.max}return{name:name,position:position,size:size,render:function render(_ref4){var width=_ref4.width,height=_ref4.height,set=_ref4.set,theme=_ref4.theme,values=set.elems.map(acc);return react_default.a.createElement(BoxplotMemo,_extends({values:values,width:width,height:height,min:min,max:max,theme:theme},extras))},renderSelection:function renderSelection(_ref5){var width=_ref5.width,height=_ref5.height,overlap=_ref5.overlap,selectionColor=_ref5.selectionColor,theme=_ref5.theme;if(null==overlap||0===overlap.length)return null;var values=overlap.map(acc);return react_default.a.createElement(BoxplotMemo,_extends({values:values,width:width,height:height,min:min,max:max,mode:"box",lineStyle:{stroke:selectionColor},outlierStyle:{fill:selectionColor},theme:theme},extras))},renderQuery:function renderQuery(_ref6){var width=_ref6.width,height=_ref6.height,overlap=_ref6.overlap,query=_ref6.query,secondary=_ref6.secondary,theme=_ref6.theme;if(null==overlap||0===overlap.length)return null;var values=overlap.map(acc);return react_default.a.createElement(BoxplotMemo,_extends({values:values,width:width,height:height,min:min,max:max,mode:secondary?"indicator":"box",lineStyle:{stroke:query.color},outlierStyle:{fill:query.color},theme:theme},extras))}}}try{boxplotAddon.displayName="boxplotAddon",boxplotAddon.__docgenInfo={description:"generates a boxplot addon to render box plots as UpSet.js addon for aggregated set data\n@param prop accessor or name of the property within the element\n@param elems list of elements or their minimum / maximum value for specifying the data domain\n@param options additional options",displayName:"boxplotAddon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Boxplot.tsx#boxplotAddon"]={docgenInfo:boxplotAddon.__docgenInfo,name:"boxplotAddon",path:"src/components/Boxplot.tsx#boxplotAddon"})}catch(__react_docgen_typescript_loader_error){}try{Boxplot.displayName="Boxplot",Boxplot.__docgenInfo={description:"",displayName:"Boxplot",props:{values:{defaultValue:null,description:"the values to render as a box plot",name:"values",required:!0,type:{name:"number[]"}},width:{defaultValue:null,description:"width of the box plot",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"height of the box plot",name:"height",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"domain minimum value",name:"min",required:!0,type:{name:"number"}},max:{defaultValue:null,description:"domain maximum value",name:"max",required:!0,type:{name:"number"}},theme:{defaultValue:{value:"light"},description:"",name:"theme",required:!1,type:{name:'"light" | "dark"'}},mode:{defaultValue:{value:"normal"},description:"the render mode and level of detail to render",name:"mode",required:!1,type:{name:'"normal" | "box" | "indicator"'}},orient:{defaultValue:{value:"horizontal"},description:"orientation of the box plot",name:"orient",required:!1,type:{name:'"horizontal" | "vertical"'}},boxStyle:{defaultValue:null,description:"custom styles applied to the box element",name:"boxStyle",required:!1,type:{name:"CSSProperties"}},lineStyle:{defaultValue:null,description:"custom styles applied to the whisker element",name:"lineStyle",required:!1,type:{name:"CSSProperties"}},outlierStyle:{defaultValue:null,description:"custom styles applied to the outlier elements",name:"outlierStyle",required:!1,type:{name:"CSSProperties"}},boxPadding:{defaultValue:{value:"0.1"},description:"padding of the box from its corners",name:"boxPadding",required:!1,type:{name:"number"}},outlierRadius:{defaultValue:{value:3},description:"radius of the outlier circles",name:"outlierRadius",required:!1,type:{name:"number"}},numberFormat:{defaultValue:{value:".toFixed(2)"},description:"number format used for the tooltip",name:"numberFormat",required:!1,type:{name:"(v: number) => string"}},coef:{defaultValue:{value:"1.5"},description:"",name:"coef",required:!1,type:{name:"number"}},quantiles:{defaultValue:{value:"type7"},description:"",name:"quantiles",required:!1,type:{name:'"quantiles" | "hinges" | "fivenum" | "type7" | "linear" | "lower" | "higher" | "nearest" | "midpoint" | CustomQuantileMethod'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Boxplot.tsx#Boxplot"]={docgenInfo:Boxplot.__docgenInfo,name:"Boxplot",path:"src/components/Boxplot.tsx#Boxplot"})}catch(__react_docgen_typescript_loader_error){}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Boxplot.tsx"]={name:"Boxplot",docgenInfo:Boxplot.__docgenInfo,path:"src/components/Boxplot.tsx"})},1435:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1),__webpack_require__(52),__webpack_require__(50),__webpack_require__(79),__webpack_require__(43),__webpack_require__(1436),__webpack_require__(1437),__webpack_require__(8),__webpack_require__(51);var _clientApi=__webpack_require__(103),_clientLogger=__webpack_require__(59),_configFilename=__webpack_require__(1438);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator)})),(_configFilename.parameters||_configFilename.globalArgs||_configFilename.globalArgTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globalArgs:_configFilename.globalArgs,globalArgTypes:_configFilename.globalArgTypes})),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1438:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(222),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(139);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({docs:{page:function page(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,{},[react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Title,{}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Subtitle,{}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Description,{}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Props,{}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Stories,{includePrimary:!0})])}}})},1439:function(module,exports,__webpack_require__){"use strict";(function(module){var _framework=__webpack_require__(222);module._StorybookPreserveDecorators=!0,(0,_framework.configure)([__webpack_require__(1440)],module)}).call(this,__webpack_require__(124)(module))},1440:function(module,exports,__webpack_require__){var map={"./components/Addon.stories.tsx":1489,"./components/Boxplot.stories.tsx":1484,"./index.stories.tsx":1485};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1440},1484:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Vertical",(function(){return Vertical}));__webpack_require__(324),__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_Boxplot__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(121);__webpack_exports__.default={parameters:{storySource:{source:"/**\n * @upsetjs/addons\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2020 Samuel Gratzl <sam@sgratzl.com>\n */\n\nimport React from 'react';\nimport Boxplot from './Boxplot';\n\nexport default {\n  component: Boxplot,\n  title: 'Box plot Component',\n};\n\nexport const Default = () => {\n  const values = Array(100)\n    .fill(0)\n    .map(() => Math.random());\n  return (\n    <svg width={200} height={50}>\n      <Boxplot width={200} height={50} min={0} max={1} values={values} />\n    </svg>\n  );\n};\n\nexport const Vertical = () => {\n  const values = Array(100)\n    .fill(0)\n    .map(() => Math.random());\n  return (\n    <svg width={50} height={200}>\n      <Boxplot width={50} height={200} min={0} max={1} values={values} orient=\"vertical\" />\n    </svg>\n  );\n};\n",locationsMap:{"box-plot-component--default":{startLoc:{col:23,line:16},endLoc:{col:1,line:25},startBody:{col:23,line:16},endBody:{col:1,line:25}},"box-plot-component--vertical":{startLoc:{col:24,line:27},endLoc:{col:1,line:36},startBody:{col:24,line:27},endBody:{col:1,line:36}}}}},component:_Boxplot__WEBPACK_IMPORTED_MODULE_3__.b,title:"Box plot Component"};var Default=function(){var values=Array(100).fill(0).map((function(){return Math.random()}));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",{width:200,height:50},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Boxplot__WEBPACK_IMPORTED_MODULE_3__.b,{width:200,height:50,min:0,max:1,values:values}))};Default.displayName="Default";var Vertical=function(){var values=Array(100).fill(0).map((function(){return Math.random()}));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",{width:50,height:200},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Boxplot__WEBPACK_IMPORTED_MODULE_3__.b,{width:50,height:200,min:0,max:1,values:values,orient:"vertical"}))};Vertical.displayName="Vertical",Default.__docgenInfo={description:"",methods:[],displayName:"Default"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Boxplot.stories.tsx"]={name:"Default",docgenInfo:Default.__docgenInfo,path:"src/components/Boxplot.stories.tsx"}),Vertical.__docgenInfo={description:"",methods:[],displayName:"Vertical"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Boxplot.stories.tsx"]={name:"Vertical",docgenInfo:Vertical.__docgenInfo,path:"src/components/Boxplot.stories.tsx"})},1485:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default={title:"Welcome UpSet.js React Box Plot Addon"};try{indexstories.displayName="indexstories",indexstories.__docgenInfo={description:"@upsetjs /addons\nhttps://github.com/upsetjs/upsetjs\n\nCopyright (c) 2020 Samuel Gratzl <sam\n@sgratzl .com>",displayName:"indexstories",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.stories.tsx#indexstories"]={docgenInfo:indexstories.__docgenInfo,name:"indexstories",path:"src/index.stories.tsx#indexstories"})}catch(__react_docgen_typescript_loader_error){}},1489:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),Boxplot=__webpack_require__(121);__webpack_require__(1),__webpack_require__(12),__webpack_require__(26),__webpack_require__(20),__webpack_require__(191),__webpack_require__(324),__webpack_require__(52),__webpack_require__(1441),__webpack_require__(1442),__webpack_require__(50),__webpack_require__(33),__webpack_require__(87),__webpack_require__(13),__webpack_require__(18),__webpack_require__(14),__webpack_require__(69),__webpack_require__(11),__webpack_require__(67),__webpack_require__(23),__webpack_require__(284),__webpack_require__(1444),__webpack_require__(24),__webpack_require__(266),__webpack_require__(4),__webpack_require__(288),__webpack_require__(1445),__webpack_require__(119),__webpack_require__(1446),__webpack_require__(495),__webpack_require__(5),__webpack_require__(8),__webpack_require__(10),__webpack_require__(27),__webpack_require__(25),__webpack_require__(192),__webpack_require__(88),__webpack_require__(21),__webpack_require__(68),__webpack_require__(162),__webpack_require__(51),__webpack_require__(22);function len(a){return a instanceof Set?a.size:a.length}function setOverlapFactory(a,toElemKey){var elems=toElemKey?new Set((a instanceof Set?Array.from(a):a).map(toElemKey)):a instanceof Set?a:new Set(a),setA=elems.size,same={setA:setA,setB:setA,union:setA,intersection:setA};return function(b){if(b===a)return same;var intersection=0;b.forEach((function(e){(toElemKey&&elems.has(toElemKey(e))||!toElemKey&&elems.has(e))&&intersection++}));var setB=len(b);return{setA:setA,setB:setB,intersection:intersection,union:setA+setB-intersection}}}function setElemOverlapFactory(a,toElemKey){var elems=toElemKey?new Set((a instanceof Set?Array.from(a):a).map(toElemKey)):a instanceof Set?a:new Set(a),setA=Array.isArray(a)?a:Array.from(a),same={setA:setA,setB:setA,union:setA,intersection:setA};return function(b){if(b===a)return same;var intersection=[],union=setA.slice();return b.forEach((function(e){toElemKey&&elems.has(toElemKey(e))||!toElemKey&&elems.has(e)?intersection.push(e):union.push(e)})),{setA:setA,setB:Array.isArray(b)?b:Array.from(b),intersection:intersection,union:union}}}function isElemQuery(q){return Array.isArray(q.elems)}function isCalcQuery(q){return"function"==typeof q.overlap}function isSetQuery(q){return null!=q.set}function queryOverlap(q,what,toElemKey){if(isCalcQuery(q))return q.overlap;if(isSetQuery(q)&&q.set.overlap)return q.set.overlap;var f=setOverlapFactory(isElemQuery(q)?q.elems:q.set.elems,toElemKey);return function(s){return s.overlap&&isElemQuery(q)&&Array.isArray(q.elems)?s.overlap(q.elems):s.overlap&&isSetQuery(q)?s.overlap(q.set):f(s.elems)[what]}}function queryElemOverlap(q,what,toElemKey){if(isCalcQuery(q))return function(){return null};if("intersection"===what){var _f=function setElemIntersectionFactory(a,toElemKey){var arr=a instanceof Set?Array.from(a):a,elems=toElemKey?new Set(arr.map(toElemKey)):a instanceof Set?a:new Set(a);return function(b){if(b===a)return arr;var intersection=[];return b.forEach((function(e){(toElemKey&&elems.has(toElemKey(e))||!toElemKey&&elems.has(e))&&intersection.push(e)})),intersection}}(isElemQuery(q)?q.elems:q.set.elems,toElemKey);return function(s){return _f(s.elems)}}var f=setElemOverlapFactory(isElemQuery(q)?q.elems:q.set.elems,toElemKey);return function(s){return f(s.elems)[what]}}function isBaseSet(v){return null!=v&&"number"==typeof v.cardinality&&"string"==typeof v.name&&Array.isArray(v.elems)}function isSet(v){return isBaseSet(v)&&"set"===v.type}function isSetCombination(v){var vt=v;return isBaseSet(v)&&["composite","union","intersection"].includes(vt.type)&&vt.sets instanceof Set&&"number"==typeof vt.degree}function isSetLike(v){return isSet(v)||isSetCombination(v)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createForOfIteratorHelperLoose(o){var i=0;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(o)))return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=o[Symbol.iterator]()).next.bind(i)}function byName(a,b){return a.name.localeCompare(b.name)}function byCardinality(a,b){return b.cardinality-a.cardinality}function byDegree(a,b){return a.degree-b.degree}function byComposite(func){return function(a,b){return func.reduce((function(acc,f){return 0===acc?f(a,b):acc}),0)}}function negate(func){return function(a,b){return-func(a,b)}}function byGroup(sets){return function(a,b){var fixNotFound=function(v){return 0>v?Number.POSITIVE_INFINITY:v};return fixNotFound(sets.findIndex((function(s){return a.sets.has(s)})))-fixNotFound(sets.findIndex((function(s){return b.sets.has(s)})))}}function postprocessCombinations(sets,combinations,options){void 0===options&&(options={});var r=combinations;return options.order&&(r=r.sort(function toOrder(sets,order){if(!order)return byName;var arr=Array.isArray(order)?order:[order];return 0===arr.length?byName:byComposite(arr.map((function(o){switch(o){case"cardinality":case"cardinality:desc":return byCardinality;case"cardinality:asc":return negate(byCardinality);case"name:desc":return negate(byName);case"degree":case"degree:asc":return byDegree;case"degree:desc":return negate(byDegree);case"group":case"group:asc":return byGroup(sets);case"group:desc":return negate(byGroup(sets));default:return byName}})))}(sets,options.order))),null!=options.limit?r.slice(0,options.limit):r}function powerSetNumber(arr,onSet,_temp){for(var _ref=void 0===_temp?{}:_temp,_ref$min=_ref.min,min=void 0===_ref$min?0:_ref$min,_ref$max=_ref.max,max=void 0===_ref$max?1/0:_ref$max,total=Math.pow(2,arr.length),lastBit=0,lastBitAcc=1,i=0;i<total;i++){i>=lastBitAcc&&(lastBit++,lastBitAcc<<=1);for(var sub=[],j=0;j<lastBit;j++)i&1<<j&&sub.push(arr[j]);sub.length>=min&&sub.length<=max&&onSet(sub)}}function powerSetBigInt(arr,onSet,_temp2){for(var _ref2=void 0===_temp2?{}:_temp2,_ref2$min=_ref2.min,min=void 0===_ref2$min?0:_ref2$min,_ref2$max=_ref2.max,max=void 0===_ref2$max?1/0:_ref2$max,zero=BigInt(0),one=BigInt(1),total=BigInt(2)<<BigInt(arr.length),lastBit=0,lastBitAcc=one,bits=arr.map((function(_,i){return one<<BigInt(i)})),i=zero;i<total;i+=one){i>=lastBitAcc&&(lastBit++,lastBitAcc<<=one);for(var sub=[],j=0;j<lastBit;j++)(i&bits[j])!==zero&&sub.push(arr[j]);sub.length>=min&&sub.length<=max&&onSet(sub)}}function powerSetRecursive(arr,onSet,_temp3){var _ref3=void 0===_temp3?{}:_temp3,_ref3$min=_ref3.min,min=void 0===_ref3$min?0:_ref3$min,_ref3$max=_ref3.max,max=void 0===_ref3$max?1/0:_ref3$max,check=function(len){return len>=min&&len<=max};check(0)&&onSet([]),function iter(subset,start){if(!(subset.length>=max))for(var i=start;i<arr.length;i++)subset.push(arr[i]),check(subset.length)&&onSet(subset.slice()),iter(subset,i+1),subset.pop()}([],0)}var SET_JOINERS={intersection:" ∩ ",union:" ∪ ",composite:","};function intersectionBuilder(sets,allElements,notPartOfAnySet,toElemKey){var setElems=new Map(sets.map((function(s){return[s,toElemKey?new Set(s.elems.map(toElemKey)):new Set(s.elems)]}))),setDirectElems=toElemKey?null:setElems,setKeyElems=toElemKey?setElems:null;return function(intersection){if(0===intersection.length){if(Array.isArray(notPartOfAnySet))return notPartOfAnySet;if(setKeyElems&&toElemKey){var _lookup=Array.from(setKeyElems.values());return allElements.filter((function(e){var k=toElemKey(e);return _lookup.every((function(s){return!s.has(k)}))}))}var lookup=Array.from(setDirectElems.values());return allElements.filter((function(e){return lookup.every((function(s){return!s.has(e)}))}))}if(1===intersection.length)return intersection[0].elems;var smallest=intersection.reduce((function(acc,d){return!acc||acc.length>d.elems.length?d.elems:acc}),null);return setKeyElems&&toElemKey?smallest.filter((function(elem){var key=toElemKey(elem);return intersection.every((function(s){return setKeyElems.get(s).has(key)}))})):smallest.filter((function(elem){return intersection.every((function(s){return setDirectElems.get(s).has(elem)}))}))}}function unionBuilder(sets,allElements,notPartOfAnySet,toElemKey){return function(union){if(0===union.length){if(Array.isArray(notPartOfAnySet))return notPartOfAnySet;if(toElemKey){var _lookup2=new Set;return sets.forEach((function(set){set.elems.forEach((function(e){return _lookup2.add(toElemKey(e))}))})),allElements.filter((function(e){return!_lookup2.has(toElemKey(e))}))}var lookup=new Set;return sets.forEach((function(set){set.elems.forEach((function(e){return lookup.add(e)}))})),allElements.filter((function(e){return!lookup.has(e)}))}if(1===union.length)return union[0].elems;var largest=union.reduce((function(acc,d){return!acc||acc.length<d.elems.length?d.elems:acc}),null),all=largest.slice(),contained=toElemKey?new Set(all.map(toElemKey)):new Set(all);return union.forEach((function(set){set.elems!==largest&&set.elems.forEach((function(elem){if(toElemKey){var key=toElemKey(elem);contained.has(key)||(all.push(elem),contained.add(key))}else contained.has(elem)||(all.push(elem),contained.add(elem))}))})),all}}function generateCombinations(sets,_temp){var _SET_JOINERS$type,_ref=void 0===_temp?{}:_temp,_ref$type=_ref.type,type=void 0===_ref$type?"intersection":_ref$type,_ref$min=_ref.min,min=void 0===_ref$min?0:_ref$min,_ref$max=_ref.max,max=void 0===_ref$max?1/0:_ref$max,_ref$empty=_ref.empty,empty=void 0!==_ref$empty&&_ref$empty,_ref$elems=_ref.elems,allElements=void 0===_ref$elems?[]:_ref$elems,notPartOfAnySet=_ref.notPartOfAnySet,toElemKey=_ref.toElemKey,postprocess=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(_ref,["type","min","max","empty","elems","notPartOfAnySet","toElemKey"]),joiner=null!==(_SET_JOINERS$type=SET_JOINERS[type])&&void 0!==_SET_JOINERS$type?_SET_JOINERS$type:SET_JOINERS.intersection,combinations=[],compute=("union"===type?unionBuilder:intersectionBuilder)(sets,allElements,notPartOfAnySet,toElemKey);return function powerSet(arr,options){void 0===options&&(options={});var asForEach=function(f){return{forEach:function(cb){return f(arr,cb,options)}}};return Math.pow(2,arr.length)<Number.MAX_SAFE_INTEGER?asForEach(powerSetNumber):void 0!==window.BigInt?asForEach(powerSetBigInt):asForEach(powerSetRecursive)}(sets,{min:min,max:max}).forEach((function(combo){if(0===combo.length&&"number"==typeof notPartOfAnySet&&0<notPartOfAnySet)combinations.push({type:"composite",elems:[],sets:new Set,name:"()",cardinality:notPartOfAnySet,overlap:function(s){return s===this||isSetLike(s)&&s.name===this.name&&s.cardinality===this.cardinality?this.cardinality:0},degree:0});else{var elems=compute(combo);(empty||0!==elems.length)&&combinations.push({type:0===combo.length?"composite":type,elems:elems,sets:new Set(combo),name:1===combo.length?combo[0].name:"("+combo.map((function(d){return d.name})).join(joiner)+")",cardinality:elems.length,degree:combo.length})}})),postprocessCombinations(sets,combinations,postprocess)}function model_esm_toKey(s){return s.name+":"+s.type+"#"+s.cardinality}var model_esm_bandScale=function(domain,size,padding){var blocks=domain.length+padding,step=size/Math.max(1,blocks),start=size-step*domain.length,lookup=new Map(domain.map((function(d,i){return[d,i]}))),scale=function(v){var index=lookup.get(v);if(null!=index)return start+step*index};return scale.bandwidth=function(){return step/(1+padding)},scale};function hasOverlap(positions,heights,stride){void 0===stride&&(stride=1);for(var i=0;i<positions.length-stride;i+=stride){var pos_i=positions[i],pos_n=positions[i+1];if(pos_i<pos_n){if(pos_i+heights[i]/2>pos_n-heights[i+1]/2)return!0}else{var _left=pos_i-heights[i]/2;if(pos_n+heights[i+1]/2>_left)return!0}}return!1}function ensureLast(ticks,max,scale,heightPerTick,toStr){var last=ticks[ticks.length-1];if(!last.label)for(var j=ticks.length-2;0<j;--j)if(ticks[j].label){last=ticks[j];break}if(last.value<max){var pos_l=scale(last.value),pos_max=scale(max);if(pos_l<pos_max){pos_l+heightPerTick(last.value)/2<pos_max-heightPerTick(max)/2&&ticks.push({value:max,label:toStr(max)})}else{var _left2=pos_l-heightPerTick(last.value)/2;pos_max+heightPerTick(max)/2<_left2&&ticks.push({value:max,label:toStr(max)})}}return ticks}function genTicks(values,toStr,stride){return void 0===toStr&&(toStr=String),void 0===stride&&(stride=1),values.map((function(v,i){return{value:v,label:1===stride||0==i%stride?toStr(v):void 0}}))}function checkValues(values,scale,heightPerTick,max,toStr){var positions=values.map((function(v){return scale(v)})),heights=values.map((function(v){return heightPerTick(v)}));return hasOverlap(positions,heights)&&hasOverlap(positions,heights,2)?null:ensureLast(genTicks(values,toStr),max,scale,heightPerTick,toStr)}function toStr(v){return v.toLocaleString()}function range(max,inc){void 0===inc&&(inc=1);for(var values=[],v=0;v<=max;v+=inc)values.push(v);return values}function distributeTicks(max,maxCount,scale,heightPerTick){if(0>=maxCount)return[];for(var _step,_iterator=_createForOfIteratorHelperLoose(function niceFactors(max,maxCount){void 0===maxCount&&(maxCount=11);var digits=Math.max(0,Math.floor(Math.log10(max)-.5)),factor=Math.pow(10,digits),factors=[1,2,5],r=factors.map((function(f){return f*factor}));0<digits&&r.unshift(factors[factors.length-1]*Math.pow(10,digits-1)),r.push(factors[0]*Math.pow(10,digits+1));var lower=Math.ceil(max/maxCount);return r.filter((function(d){return d>=lower&&d<=max}))}(max,maxCount));!(_step=_iterator()).done;){var r=checkValues(range(max,_step.value),scale,heightPerTick,max,toStr);if(r)return r}return genTicks([0,max],toStr)}var linearScale=function(max,range,options){var size=range[1]-range[0],scale=function(v){return range[0]+v/max*size};return scale.ticks=function(count){if(void 0===count&&(count=10),"vertical"===options.orientation){var heightPerTick=Math.ceil(1.4*options.fontSizeHint);return distributeTicks(max,count+1,scale,(function(){return heightPerTick}))}var widthPerChar=options.fontSizeHint/1.4;return distributeTicks(max,count+1,scale,(function(v){return Math.ceil(toStr(v).length*widthPerChar)}))},scale.tickFormat=function(){return toStr},scale};function toStr$1(v){var orders=["","k","M","G"],order=Math.max(0,Math.min(Math.floor(Math.log10(v)/3),orders.length-1));return""+(Math.round(v/Math.pow(10,3*order-1))/10).toLocaleString()+orders[order]}function range$1(max,factor){for(var values=[],inc=Math.pow(10,factor),v=1;v<=max;v*=inc)values.push(v);return values}function generateInnerTicks(max,factor){for(var values=[],v=1,i=0;v<=max;v*=10,i++){values.push({value:v,label:1===factor||0==i%factor?toStr$1(v):void 0});for(var vv=v+v;vv<10*v&&vv<max;vv+=v*factor)values.push({value:vv})}return values}function distributeTicks$1(max,maxCount,scale,heightPerTick){if(0>=maxCount)return[];for(var _i=0,_arr=[1,2,5];_i<_arr.length;_i++){var factor=_arr[_i];if(checkValues(range$1(max,factor),scale,heightPerTick,max,toStr$1))return ensureLast(generateInnerTicks(max,factor),max,scale,heightPerTick,toStr$1)}return genTicks([0,max],toStr$1)}var logScale=function(max,range,options){var size=range[1]-range[0],domain=1>max?1:Math.log10(max),scale=function(v){var n=1>=v?0:Math.log10(v)/domain;return range[0]+n*size};return scale.ticks=function(count){if(void 0===count&&(count=10),"vertical"===options.orientation){var heightPerTick=Math.ceil(1.4*options.fontSizeHint);return distributeTicks$1(max,count+1,scale,(function(){return heightPerTick}))}var widthPerChar=options.fontSizeHint/1.4;return distributeTicks$1(max,count+1,scale,(function(v){return Math.ceil(toStr$1(v).length*widthPerChar)}))},scale.tickFormat=function(){return toStr$1},scale};__webpack_require__(130),__webpack_require__(496),__webpack_require__(256),__webpack_require__(1447),__webpack_require__(156),__webpack_require__(125),__webpack_require__(317),__webpack_require__(206);function noop(){}function wrap(f){return f?function(set){return function(evt){return f.call(this,set,evt.nativeEvent)}}:noop}function clsx(){for(var _len=arguments.length,clazzes=Array(_len),_key=0;_key<_len;_key++)clazzes[_key]=arguments[_key];return clazzes.filter(Boolean).join(" ")}function addonPositionGenerator(total){var beforeAcc=0,afterAcc=0;return function(addon){var x=0;return"before"===addon.position?x=-(beforeAcc+=addon.size):(x=total+afterAcc,afterAcc+=addon.size),x}}function generateId(){return"upset-"+Math.random().toString(36).slice(4)}function deriveDataDependent(sets,combinations,sizes,numericScale,bandScale,barLabelFontSize,dotPadding,barPadding,tickFontSize,toKey,toElemKey,id){var numericScaleFactory=function resolveNumericScale(factory){return"linear"===factory?linearScale:"log"===factory?logScale:factory}(numericScale),bandScaleFactory=function resolveBandScale(factory){return"band"===factory?model_esm_bandScale:factory}(bandScale),cs=function areCombinations(combinations){return Array.isArray(combinations)}(combinations)?combinations:generateCombinations(sets,combinations),combinationX=bandScaleFactory(cs.map(toKey),sizes.cs.w,sizes.padding),maxCSCardinality=cs.reduce((function(acc,d){return Math.max(acc,d.cardinality)}),0),combinationY=numericScaleFactory(maxCSCardinality,[sizes.cs.h,barLabelFontSize],{orientation:"vertical",fontSizeHint:tickFontSize}),guessLabelWidth=function(v){return Math.floor(barLabelFontSize/1.4*.7*combinationY.tickFormat()(v).length)},maxSetCardinality=sets.reduce((function(acc,d){return Math.max(acc,d.cardinality)}),0),largestSetLabelWidth=guessLabelWidth(maxSetCardinality),largestCSLabelWidth=guessLabelWidth(maxCSCardinality),setX=numericScaleFactory(maxSetCardinality,[sizes.sets.w,largestSetLabelWidth],{orientation:"horizontal",fontSizeHint:tickFontSize}),setKeys=sets.map(toKey),setY=bandScaleFactory(setKeys.slice().reverse(),sizes.sets.h,sizes.padding),r=Math.min(setY.bandwidth(),combinationX.bandwidth())/2*dotPadding,triangleSize=Math.max(2,Math.min(setY.bandwidth(),combinationX.bandwidth())/2*barPadding);return{id:id||generateId(),r:r,triangleSize:triangleSize,sets:{v:sets,keys:setKeys,rv:sets.slice().reverse(),x:setX,xAxisWidth:sizes.sets.w-largestSetLabelWidth,y:function(s){return setY(toKey(s))},bandWidth:setY.bandwidth(),cy:setY.bandwidth()/2+sizes.cs.h,format:setX.tickFormat(),labelOffset:barLabelFontSize+9+2},cs:{v:cs,keys:cs.map(toKey),x:function(s){return combinationX(toKey(s))},y:combinationY,yAxisWidth:sizes.cs.h-barLabelFontSize,cx:combinationX.bandwidth()/2,bandWidth:combinationX.bandwidth(),format:combinationY.tickFormat(),has:function(v,s){var sk=toKey(s);return Array.from(v.sets).some((function(ss){return toKey(ss)===sk}))},labelOffset:largestCSLabelWidth+9+6},toKey:toKey,toElemKey:toElemKey}}var EMPTY_OBJECT={},EMPTY_ARRAY=[],DEFAULT_FONTSIZES={setLabel:"16px",axisTick:"10px",chartLabel:"16px",barLabel:"10px",legend:"10px"},DEFAULT_WIDTH_RATIO=[.18,.12,.7],DEFAULT_HEIGHT_RATIO=[.6,.4],DEFAULT_COMBINATIONS={type:"intersection"};function exportSVG(node,_ref){var _ref$type=_ref.type,type=void 0===_ref$type?"png":_ref$type,_ref$title=_ref.title,title=void 0===_ref$title?"UpSet":_ref$title,toRemove=_ref.toRemove,theme=node.dataset.theme,clone=node.cloneNode(!0);clone.style.backgroundColor="dark"===theme?"#303030":"white",toRemove&&Array.from(clone.querySelectorAll(toRemove)).forEach((function(d){return d.remove()}));var b=new Blob([(new XMLSerializer).serializeToString(clone)],{type:"image/svg+xml;charset=utf-8"}),url=URL.createObjectURL(b);return"svg"===type?(downloadUrl(url,title+"."+type,node.ownerDocument),URL.revokeObjectURL(url),Promise.resolve()):function toPNG(url,node){var canvas=node.ownerDocument.createElement("canvas"),bb=node.getBoundingClientRect();canvas.width=bb.width,canvas.height=bb.height;var ctx=canvas.getContext("2d"),img=new Image(canvas.width,canvas.height);return new Promise((function(resolve){img.onload=function(){ctx.drawImage(img,0,0);var png=canvas.toDataURL("image/png");resolve(png)},img.src=url}))}(url,node).then((function(purl){downloadUrl(purl,title+"."+type,node.ownerDocument),URL.revokeObjectURL(url)}))}function downloadUrl(url,title,doc){var a=doc.createElement("a");a.href=url,a.style.position="absolute",a.style.left="-10000px",a.style.top="-10000px",a.download=title,document.body.appendChild(a),a.click(),a.remove()}function react_esm_extends(){return(react_esm_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function exportChart(evt){var svg=evt.currentTarget.closest("svg"),type=evt.currentTarget.dataset.type||"png";"vega"!==type?exportSVG(svg,{type:type,toRemove:"."+evt.currentTarget.getAttribute("class")}):function exportVegaLite(svg,_temp){var _ref2,_svg$ownerDocument,_svg$ownerDocument$de,_svg$querySelector$da,_svg$querySelector,v,_ref$title=(void 0===_temp?{}:_temp).title,title=void 0===_ref$title?"UpSet":_ref$title,resolveStyle=null!==(_ref2=svg.getComputedStyle||(null===(_svg$ownerDocument=svg.ownerDocument)||void 0===_svg$ownerDocument||null===(_svg$ownerDocument$de=_svg$ownerDocument.defaultView)||void 0===_svg$ownerDocument$de?void 0:_svg$ownerDocument$de.getComputedStyle))&&void 0!==_ref2?_ref2:window.getComputedStyle,theme=svg.dataset.theme,styleId=Array.from(svg.classList).find((function(d){return d.startsWith("root-")})).slice(5),sets=Array.from(svg.querySelectorAll("[data-upset=sets] [data-cardinality]")).map((function(set){return{name:set.querySelector("text.setTextStyle-"+styleId).textContent,cardinality:Number.parseInt(set.dataset.cardinality,10)}})).reverse(),barLabelOffset=-Number.parseFloat(svg.querySelector(".sBarTextStyle-"+styleId).getAttribute("dx")),color=resolveStyle(svg.querySelector(".fillPrimary-"+styleId)).fill,fillNotMember=resolveStyle(svg.querySelector(".fillNotMember-"+styleId)).fill,textColor=resolveStyle(svg.querySelector("text")).fill,csName=svg.querySelector(".cChartTextStyle-"+styleId).textContent,setName=svg.querySelector(".sChartTextStyle-"+styleId).textContent,combinations=Array.from(svg.querySelectorAll("[data-upset=cs] [data-cardinality]")).map((function(set){return{name:set.querySelector("text.hoverBarTextStyle-"+styleId).textContent,cardinality:Number.parseInt(set.dataset.cardinality,10),sets:Array.from(set.querySelectorAll(".fillPrimary-"+styleId+" > title")).map((function(n){return n.textContent}))}})),translateX=function(v){return Number.parseFloat(v.getAttribute("transform").match(/([\d.]+),/)[1])},base=svg.querySelector("[data-upset=base]"),padding=translateX(base),setWidth=translateX(svg.querySelector("[data-upset=csaxis]")),csWidth=Number.parseFloat(base.querySelector("g").firstElementChild.children[1].getAttribute("x2")),csHeight=(v=svg.querySelector("[data-upset=setaxis]"),Number.parseFloat(v.getAttribute("transform").match(/,([\d.]+)/)[1])),labelWidth=Number.parseFloat(svg.querySelector("defs rect").getAttribute("width")),setHeight=Number.parseFloat(svg.querySelector("defs rect").getAttribute("height")),radius=Number.parseFloat(svg.querySelector("[data-cardinality] circle.fillPrimary-"+styleId).getAttribute("r")),hasPrimarySelection=null!=svg.querySelector("[data-upset=sets-s] [data-cardinality]"),hasQuery=null!=svg.querySelector("[data-upset=sets-q] [data-cardinality]"),hasSelection=hasPrimarySelection||hasQuery,selectionColor="orange";hasSelection&&(Array.from(svg.querySelectorAll("[data-upset=sets-"+(hasPrimarySelection?"s]":"q]:first-of-type")+" [data-cardinality]")).forEach((function(elem){var i=sets.length-Number.parseInt(elem.dataset.i,10)-1;sets[i].selection=Number.parseInt(elem.dataset.cardinality,10)})),Array.from(svg.querySelectorAll("[data-upset=cs-"+(hasPrimarySelection?"s]":"q]:first-of-type")+" [data-cardinality]")).forEach((function(elem){var i=Number.parseInt(elem.dataset.i,10);combinations[i].selection=Number.parseInt(elem.dataset.cardinality,10)})),selectionColor=resolveStyle(svg.querySelector("[data-upset=sets-"+(hasPrimarySelection?"s":"q")+"] [data-cardinality]")).fill);var highlightedCombination=Number.parseInt(null!==(_svg$querySelector$da=null===(_svg$querySelector=svg.querySelector("[data-upset=cs-ss]"))||void 0===_svg$querySelector?void 0:_svg$querySelector.dataset.i)&&void 0!==_svg$querySelector$da?_svg$querySelector$da:"-1",10),filter=0<=highlightedCombination?{field:"partOf",oneOf:[1,2]}:{field:"partOf",equal:1},spec={$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:title,datasets:{sets:sets,combinations:combinations.map((function(c,i){return Object.assign({},c,{partOf:highlightedCombination===i?2:1,nsets:[""]})})).concat(combinations.map((function(c){return{name:c.name,cardinality:c.cardinality,partOf:0,sets:[""],nsets:sets.filter((function(s){return!c.sets.includes(s.name)})).map((function(s){return s.name}))}})))},vconcat:[{hconcat:[{mark:"bar",width:setWidth+labelWidth-40,height:csHeight},{width:csWidth,height:csHeight,data:{name:"combinations"},transform:[{filter:filter}],layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"center",baseline:"bottom",dy:-barLabelOffset},encoding:{text:{field:"cardinality",type:"quantitative"}}},hasSelection&&{mark:{type:"bar",fill:selectionColor,tooltip:!0},encoding:{y:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null},y:{field:"cardinality",type:"quantitative",axis:{grid:!1},title:csName}}}]},{hconcat:[{width:setWidth,height:setHeight,data:{name:"sets"},layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"right",baseline:"middle",dx:-barLabelOffset},encoding:{text:{field:"cardinality",type:"quantitative"}}},hasSelection&&{mark:{type:"bar",fill:selectionColor,tooltip:!0},encoding:{x:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},x:{field:"cardinality",type:"quantitative",title:setName,sort:"descending",axis:{grid:!1}}}},{data:{name:"sets"},width:labelWidth,height:setHeight,mark:{type:"text",align:"center",baseline:"middle",fontSize:Number.parseInt(resolveStyle(svg.querySelector(".setTextStyle-"+styleId)).fontSize,10)},encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},text:{field:"name",type:"ordinal"}}},{width:csWidth,height:setHeight,data:{name:"combinations"},transform:[{flatten:["sets"],as:["has_set"]},{flatten:["nsets"],as:["has_not_set"]},{calculate:"datum.has_set+datum.has_not_set",as:"set"}],layer:[{mark:{type:"circle",size:radius*radius*Math.PI,tooltip:!0},encoding:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[fillNotMember,color].concat(0<=highlightedCombination?[selectionColor]:[])}},y:{field:"set",type:"ordinal",axis:null,sort:null}}},{mark:"rule",transform:[{filter:filter},{calculate:"datum.sets[datum.sets.length -1]",as:"set_end"}],encoding:react_esm_extends({y:{field:"sets[0]",type:"ordinal",axis:null,sort:null},y2:{field:"set_end"}},0>highlightedCombination?{}:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[color,selectionColor]}}})}],encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null}}}]}],config:{padding:padding,background:"dark"===theme?"#303030":"white",concat:{spacing:0},view:{stroke:null},bar:{fill:color},circle:{opacity:1},rule:{stroke:color,strokeWidth:Number.parseInt(resolveStyle(svg.querySelector("[data-upset=cs] [data-cardinality] line")).strokeWidth,10)},axis:{labelColor:textColor,labelFontSize:Number.parseInt(resolveStyle(svg.querySelector(".axisTextStyle-"+styleId)).fontSize,10),titleColor:textColor,titleFontSize:Number.parseInt(resolveStyle(svg.querySelector(".cChartTextStyle-"+styleId)).fontSize,10)},title:{color:textColor},text:{fill:textColor,fontSize:Number.parseInt(resolveStyle(svg.querySelector(".sBarTextStyle-"+styleId)).fontSize,10)}}},url=URL.createObjectURL(new Blob([JSON.stringify(spec,null,2)],{type:"application/json"}));downloadUrl(url,title+".json",svg.ownerDocument),URL.revokeObjectURL(url)}(svg)}function ExportButtons(_ref){var transform=_ref.transform,styleId=_ref.styleId;return react_default.a.createElement("g",{className:"exportButtons-"+styleId,transform:transform},react_default.a.createElement("g",{className:"exportButton-"+styleId,onClick:exportChart,"data-type":"png",transform:"translate(-50, 0)"},react_default.a.createElement("title",null,"Download PNG Image"),react_default.a.createElement("rect",{y:-9,width:24,height:11,rx:2,ry:2}),react_default.a.createElement("text",{className:"exportTextStyle-"+styleId,x:12},"PNG")),react_default.a.createElement("g",{className:"exportButton-"+styleId,onClick:exportChart,"data-type":"svg",transform:"translate(-24, 0)"},react_default.a.createElement("title",null,"Download SVG Image"),react_default.a.createElement("rect",{y:-9,width:24,height:11,rx:2,ry:2}),react_default.a.createElement("text",{className:"exportTextStyle-"+styleId,x:12},"SVG")),react_default.a.createElement("g",{className:"exportButton-"+styleId,onClick:exportChart,"data-type":"vega",transform:"translate(-84, 0)"},react_default.a.createElement("title",null,"Download VEGA-Lite Specification"),react_default.a.createElement("rect",{y:-9,width:32,height:11,rx:2,ry:2}),react_default.a.createElement("text",{className:"exportTextStyle-"+styleId,x:16},"VEGA")))}var QueryLegend=react_default.a.memo((function(_ref){var queries=_ref.queries,size=_ref.size,style=_ref.style,data=_ref.data;return react_default.a.createElement("text",{transform:"translate("+size.legend.x+",4)",style:style.styles.legend,className:clsx("legendTextStyle-"+style.id,style.classNames.legend)},queries.map((function(q,i){var count=null;return isSetQuery(q)?count=q.set.cardinality:isElemQuery(q)&&(count=q.elems instanceof Set?q.elems.size:q.elems.length),react_default.a.createElement(react_default.a.Fragment,{key:q.name},react_default.a.createElement("tspan",{className:"fillQ"+i+"-"+data.id},"  ⬤ "),react_default.a.createElement("tspan",null,q.name,null!=count?": "+data.sets.format(count):""))})))})),D3HorizontalTick=react_default.a.memo((function(_ref){var pos=_ref.pos,spacing=_ref.spacing,tickSizeInner=_ref.tickSizeInner,orient=_ref.orient,name=_ref.name,style=_ref.style,k="top"===orient||"left"===orient?-1:1;return react_default.a.createElement("g",{transform:"translate(0, "+(pos+.5)+")"},name&&react_default.a.createElement("text",{x:k*spacing,dy:"0.32em",className:clsx("axisTextStyle-"+style.id,"right"===orient?"startText-"+style.id:"endText-"+style.id,style.classNames.axisTick),style:style.styles.axisTick},name),react_default.a.createElement("line",{x2:k*tickSizeInner,className:"axisLine-"+style.id}))})),D3VerticalTick=react_default.a.memo((function(_ref2){var pos=_ref2.pos,name=_ref2.name,spacing=_ref2.spacing,orient=_ref2.orient,tickSizeInner=_ref2.tickSizeInner,style=_ref2.style,k="top"===orient||"left"===orient?-1:1;return react_default.a.createElement("g",{transform:"translate("+(pos+.5)+", 0)"},name&&react_default.a.createElement("text",{y:k*spacing,dy:"top"===orient?"0em":"0.71em",className:clsx("axisTextStyle-"+style.id,style.classNames.axisTick),style:style.styles.axisTick},name),react_default.a.createElement("line",{y2:k*tickSizeInner,className:"axisLine-"+style.id}))}));function D3Axis(_ref3){var scale=_ref3.scale,orient=_ref3.orient,_ref3$tickSizeInner=_ref3.tickSizeInner,tickSizeInner=void 0===_ref3$tickSizeInner?6:_ref3$tickSizeInner,_ref3$tickSizeOuter=_ref3.tickSizeOuter,tickSizeOuter=void 0===_ref3$tickSizeOuter?6:_ref3$tickSizeOuter,_ref3$tickPadding=_ref3.tickPadding,tickPadding=void 0===_ref3$tickPadding?3:_ref3$tickPadding,size=_ref3.size,shift=_ref3.shift,style=_ref3.style,transform=_ref3.transform,spacing=Math.max(tickSizeInner,0)+tickPadding,range0=shift,range1=size,k="top"===orient||"left"===orient?-1:1,D3Tick="left"===orient||"right"===orient?D3HorizontalTick:D3VerticalTick,values=scale.ticks().map((function(d){return"number"==typeof d?{value:d,label:d+""}:d}));return react_default.a.createElement("g",{transform:transform},values.map((function(d){return react_default.a.createElement(D3Tick,{key:d.value,pos:scale(d.value),name:d.label,spacing:spacing,tickSizeInner:tickSizeInner,orient:orient,style:style})})),react_default.a.createElement("path",{className:"axisLine-"+style.id,d:"left"===orient||"right"===orient?tickSizeOuter?"M"+k*tickSizeOuter+","+range0+"H0.5V"+range1+"H"+k*tickSizeOuter:"M0.5,"+range0+"V"+range1:tickSizeOuter?"M"+range0+","+k*tickSizeOuter+"V0.5H"+range1+"V"+k*tickSizeOuter:"M"+range0+",0.5H"+range1}))}var UpSetAxis=react_default.a.memo((function(_ref){var size=_ref.size,style=_ref.style,data=_ref.data,setPosGen=addonPositionGenerator(size.sets.w+size.labels.w+size.cs.w),combinationPosGen=addonPositionGenerator(size.cs.h+size.sets.h),csNameOffset="auto"===style.cs.offset?data.cs.labelOffset:style.cs.offset,setNameOffset="auto"===style.sets.offset?data.sets.labelOffset:style.sets.offset;return react_default.a.createElement("g",null,react_default.a.createElement("g",{transform:"translate("+size.cs.x+","+size.cs.y+")","data-upset":"csaxis"},react_default.a.createElement(D3Axis,{scale:data.cs.y,orient:"left",size:size.cs.h,shift:size.cs.h-data.cs.yAxisWidth,style:style}),react_default.a.createElement("line",{x1:0,x2:size.cs.w,y1:size.cs.h+1,y2:size.cs.h+1,className:"axisLine-"+style.id}),react_default.a.createElement("text",{className:clsx("cChartTextStyle-"+style.id,style.classNames.chartLabel),style:style.styles.chartLabel,transform:"translate("+-csNameOffset+", "+size.cs.h/2+")rotate(-90)"},style.cs.name),size.cs.addons.map((function(addon){return react_default.a.createElement("text",{key:addon.name,className:clsx("cChartTextStyle-"+style.id,style.classNames.chartLabel),style:style.styles.chartLabel,transform:"translate("+-csNameOffset+", "+(combinationPosGen(addon)+addon.size/2)+")rotate(-90)"},addon.name)}))),react_default.a.createElement("g",{transform:"translate("+size.sets.x+","+size.sets.y+")","data-upset":"setaxis"},react_default.a.createElement(D3Axis,{scale:data.sets.x,orient:"bottom",size:size.sets.w,shift:size.sets.w-data.sets.xAxisWidth,transform:"translate(0, "+size.sets.h+")",style:style}),react_default.a.createElement("text",{className:clsx("sChartTextStyle-"+style.id,style.classNames.chartLabel),style:style.styles.chartLabel,transform:"translate("+size.sets.w/2+", "+(size.sets.h+setNameOffset)+")"},style.sets.name),size.sets.addons.map((function(addon){return react_default.a.createElement("text",{key:addon.name,className:clsx("sChartTextStyle-"+style.id,style.classNames.chartLabel),style:style.styles.chartLabel,transform:"translate("+(setPosGen(addon)+addon.size/2)+", "+(size.sets.h+setNameOffset)+")"},addon.name)}))))})),UpSetDot=react_default.a.memo((function(_ref){var cx=_ref.cx,r=_ref.r,cy=_ref.cy,name=_ref.name,className=_ref.className,style=_ref.style;return react_default.a.createElement("circle",{r:r,cx:cx,cy:cy,className:className,style:style},react_default.a.createElement("title",null,name))})),CombinationChart=react_default.a.memo((function(_ref){var d=_ref.d,onClick=_ref.onClick,onMouseEnter=_ref.onMouseEnter,onMouseLeave=_ref.onMouseLeave,onContextMenu=_ref.onContextMenu,className=_ref.className,data=_ref.data,size=_ref.size,style=_ref.style,children=_ref.children,y=data.cs.y(d.cardinality),genPosition=addonPositionGenerator(size.cs.h+size.sets.h);return react_default.a.createElement("g",{transform:"translate("+data.cs.x(d)+", 0)",onMouseEnter:onMouseEnter(d),onMouseLeave:onMouseLeave,onClick:onClick(d),onContextMenu:onContextMenu(d),className:className,"data-cardinality":d.cardinality},react_default.a.createElement("title",null,d.name,": ",data.cs.format(d.cardinality)),react_default.a.createElement("rect",{y:-size.cs.before,width:data.cs.bandWidth,height:size.sets.h+size.cs.h+size.cs.before+size.cs.after,className:"hoverBar-"+style.id}),react_default.a.createElement("rect",{y:y,height:size.cs.h-y,width:data.cs.bandWidth,className:clsx("fillPrimary-"+style.id,style.classNames.bar),style:style.styles.bar}),react_default.a.createElement("text",{y:y-style.barLabelOffset,x:data.cs.bandWidth/2,style:style.styles.barLabel,className:clsx("cBarTextStyle-"+style.id,style.classNames.barLabel)},data.cs.format(d.cardinality)),react_default.a.createElement("text",{y:-style.barLabelOffset-size.cs.before,x:data.cs.bandWidth/2,style:style.styles.barLabel,className:clsx("hoverBarTextStyle-"+style.id,style.classNames.barLabel)},d.name),data.sets.v.map((function(s,i){return react_default.a.createElement(UpSetDot,{key:data.sets.keys[i],r:data.r,cx:data.cs.cx,cy:data.sets.y(s)+data.sets.cy,name:data.cs.has(d,s)?s.name:d.name,style:style.styles.dot,className:clsx(d.sets.has(s)?"fillPrimary-"+style.id:"fillNotMember-"+style.id,style.classNames.dot)})})),1<d.sets.size&&react_default.a.createElement("line",{x1:data.cs.cx,y1:data.sets.y(data.sets.v.find((function(p){return data.cs.has(d,p)})))+data.sets.cy,x2:data.cs.cx,y2:data.sets.y(data.sets.rv.find((function(p){return data.cs.has(d,p)})))+data.sets.cy,className:"upsetLine-"+data.id}),size.cs.addons.map((function(addon){return react_default.a.createElement("g",{key:addon.name,transform:"translate(0,"+genPosition(addon)+")"},addon.render({set:d,width:data.cs.bandWidth,height:addon.size,theme:style.theme}))})),children)})),SetChart=react_default.a.memo((function(_ref){var d=_ref.d,i=_ref.i,onMouseEnter=_ref.onMouseEnter,onMouseLeave=_ref.onMouseLeave,onClick=_ref.onClick,onContextMenu=_ref.onContextMenu,className=_ref.className,size=_ref.size,data=_ref.data,style=_ref.style,children=_ref.children,x=data.sets.x(d.cardinality),genPosition=addonPositionGenerator(size.sets.w+size.labels.w+size.cs.w);return react_default.a.createElement("g",{transform:"translate(0, "+data.sets.y(d)+")",onMouseEnter:onMouseEnter(d),onMouseLeave:onMouseLeave,onClick:onClick(d),onContextMenu:onContextMenu(d),className:className,"data-cardinality":d.cardinality},react_default.a.createElement("title",null,d.name,": ",data.sets.format(d.cardinality)),react_default.a.createElement("rect",{x:-size.sets.before,width:size.sets.w+size.labels.w+size.cs.w+size.sets.after,height:data.sets.bandWidth,className:"hoverBar-"+style.id}),1==i%2&&react_default.a.createElement("rect",{x:size.sets.w,width:size.labels.w+size.cs.w+size.sets.after,height:data.sets.bandWidth,className:"fillAlternating-"+style.id}),react_default.a.createElement("rect",{x:x,width:size.sets.w-x,height:data.sets.bandWidth,className:clsx("fillPrimary-"+style.id,style.classNames.bar),style:style.styles.bar}),react_default.a.createElement("text",{x:x,dx:-style.barLabelOffset,y:data.sets.bandWidth/2,style:style.styles.barLabel,className:clsx("sBarTextStyle-"+style.id,style.classNames.barLabel)},data.sets.format(d.cardinality)),react_default.a.createElement("text",{x:size.sets.w+size.labels.w/2,y:data.sets.bandWidth/2,className:clsx("setTextStyle-"+style.id,style.classNames.setLabel),style:style.styles.setLabel,clipPath:"url(#clip-"+size.id+")"},d.name),size.sets.addons.map((function(addon){return react_default.a.createElement("g",{key:addon.name,transform:"translate("+genPosition(addon)+",0)"},addon.render({set:d,width:addon.size,height:data.sets.bandWidth,theme:style.theme}))})),children)})),UpSetChart=react_default.a.memo((function(_ref){var data=_ref.data,size=_ref.size,style=_ref.style,onHover=_ref.onHover,onClick=_ref.onClick,onContextMenu=_ref.onContextMenu,setChildrenFactory=_ref.setChildrenFactory,combinationChildrenFactory=_ref.combinationChildrenFactory,_React$useMemo=react_default.a.useMemo((function(){return[wrap(onClick),wrap(onHover),wrap(onContextMenu),onHover?function(evt){return onHover(null,evt.nativeEvent)}:void 0]}),[onClick,onHover,onContextMenu]),onClickImpl=_React$useMemo[0],onMouseEnterImpl=_React$useMemo[1],onContextMenuImpl=_React$useMemo[2],onMouseLeaveImpl=_React$useMemo[3];return react_default.a.createElement("g",{className:onClick?"clickAble-"+style.id:void 0},react_default.a.createElement("g",{transform:"translate("+size.sets.x+","+size.sets.y+")","data-upset":"sets"},data.sets.v.map((function(d,i){return react_default.a.createElement(SetChart,{key:data.sets.keys[i],d:d,i:i,onClick:onClickImpl,onMouseEnter:onMouseEnterImpl,onMouseLeave:onMouseLeaveImpl,onContextMenu:onContextMenuImpl,className:onClick||onHover?"interactive-"+style.id:void 0,data:data,style:style,size:size},setChildrenFactory&&setChildrenFactory(d))}))),react_default.a.createElement("g",{transform:"translate("+size.cs.x+","+size.cs.y+")","data-upset":"cs"},data.cs.v.map((function(d,i){return react_default.a.createElement(CombinationChart,{key:data.cs.keys[i],d:d,onClick:onClickImpl,onMouseEnter:onMouseEnterImpl,onMouseLeave:onMouseLeaveImpl,onContextMenu:onContextMenuImpl,className:onClick||onHover?"interactive-"+style.id:void 0,data:data,style:style,size:size},combinationChildrenFactory&&combinationChildrenFactory(d))}))))}));function CombinationSelectionChart(_ref){var data=_ref.data,size=_ref.size,style=_ref.style,elemOverlap=_ref.elemOverlap,secondary=_ref.secondary,tooltip=_ref.tooltip,suffix=_ref.suffix,transform=_ref.transform,empty=_ref.empty,combinationAddons=_ref.combinationAddons,width=data.cs.bandWidth,totalHeight=size.cs.h+size.sets.h,height=size.cs.h,className=clsx("fill"+suffix,!tooltip&&"pnone-"+style.id,style.classNames.bar);return react_default.a.createElement("g",{transform:transform,"data-upset":secondary?"cs-q":"cs-s"},data.cs.v.map((function(d,i){var x=data.cs.x(d),key=data.cs.keys[i];if(empty&&!secondary)return react_default.a.createElement("rect",{key:key,x:x,y:height,height:0,width:width,className:className,style:style.styles.bar},tooltip&&react_default.a.createElement("title",null));var o=elemOverlap(d);if(0===o)return null;var y=data.cs.y(o),title=tooltip&&react_default.a.createElement("title",null,d.name+" ∩ "+tooltip+": "+o),content=secondary?react_default.a.createElement("path",{key:key,transform:"translate("+x+", "+y+")",d:"M0,-1 l"+width+",0 l0,2 l"+-width+",0 L-"+data.triangleSize+",-"+data.triangleSize+" L-"+data.triangleSize+","+data.triangleSize+" Z",className:className,"data-i":i,"data-cardinality":o},title):react_default.a.createElement("rect",{key:key,x:x,y:y,height:height-y,"data-i":i,"data-cardinality":o,width:width,className:className,style:style.styles.bar},title),genPosition=addonPositionGenerator(totalHeight),addons=combinationAddons.map((function(addon){var v=genPosition(addon),content=addon.render({set:d,width:width,height:addon.size,theme:style.theme});return content?react_default.a.createElement("g",{key:addon.name,transform:"translate("+x+","+v+")"},content):null})).filter(Boolean);return 0===addons.length?content:react_default.a.createElement("g",{key:key},content,addons)})))}function SetSelectionChart(_ref){var data=_ref.data,size=_ref.size,style=_ref.style,elemOverlap=_ref.elemOverlap,suffix=_ref.suffix,secondary=_ref.secondary,empty=_ref.empty,tooltip=_ref.tooltip,setAddons=_ref.setAddons,transform=_ref.transform,width=size.sets.w,totalWidth=size.sets.w+size.labels.w+size.cs.w,height=data.sets.bandWidth,className=clsx("fill"+suffix,!tooltip&&" pnone-"+style.id,style.classNames.bar);return react_default.a.createElement("g",{transform:transform,"data-upset":secondary?"sets-q":"sets-s"},data.sets.v.map((function(d,i){var y=data.sets.y(d),key=data.sets.keys[i];if(empty&&!secondary)return react_default.a.createElement("rect",{key:key,x:width,y:y,width:0,height:height,className:className,style:style.styles.bar},tooltip&&react_default.a.createElement("title",null));var o=elemOverlap(d);if(0===o)return null;var x=data.sets.x(o),title=tooltip&&react_default.a.createElement("title",null,d.name+" ∩ "+tooltip+": "+o),content=secondary?react_default.a.createElement("path",{key:key,transform:"translate("+x+", "+(y+height)+")",d:"M1,0 l0,"+-height+" l-2,0 l0,"+height+" L-"+data.triangleSize+","+data.triangleSize+" L"+data.triangleSize+","+data.triangleSize+" Z","data-i":i,"data-cardinality":o,className:className},title):react_default.a.createElement("rect",{key:key,"data-i":i,"data-cardinality":o,x:x,y:y,width:width-x,height:height,className:className,style:style.styles.bar},title),genPosition=addonPositionGenerator(totalWidth),addons=setAddons.map((function(addon){var v=genPosition(addon),content=addon.render({set:d,width:addon.size,height:height,theme:style.theme});return content?react_default.a.createElement("g",{key:addon.name,transform:"translate("+v+","+y+")"},content):null})).filter(Boolean);return 0===addons.length?content:react_default.a.createElement("g",{key:key},content,addons)})))}var EMPTY_ARRAY$1=[],UpSetQueries=react_default.a.memo((function(_ref){var size=_ref.size,data=_ref.data,style=_ref.style,onHover=_ref.onHover,secondary=_ref.secondary,queries=_ref.queries,someAddon=size.sets.addons.some((function(s){return null!=s.renderQuery}))||size.cs.addons.some((function(s){return null!=s.renderQuery})),qs=Object(react.useMemo)((function(){return queries.map((function(q){return react_esm_extends(react_esm_extends({},q),{},{overlap:queryOverlap(q,"intersection",data.toElemKey),elemOverlap:someAddon?queryElemOverlap(q,"intersection",data.toElemKey):null})}))}),[queries,someAddon,data.toElemKey]);function wrapAddon(addon,query,overlapper,secondary){return react_esm_extends(react_esm_extends({},addon),{},{render:function(props){var overlap=overlapper(props.set);return addon.renderQuery?addon.renderQuery(react_esm_extends({query:query,overlap:overlap,secondary:secondary},props)):null}})}return react_default.a.createElement("g",{className:onHover&&!secondary?"pnone-"+style.id:void 0},react_default.a.createElement("g",{transform:"translate("+size.sets.x+","+size.sets.y+")"},qs.map((function(q,i){return react_default.a.createElement(SetSelectionChart,{key:q.name,data:data,size:size,style:style,elemOverlap:q.overlap,suffix:"Q"+i+"-"+data.id,secondary:secondary||0<i,tooltip:onHover&&!(secondary||0<i)?void 0:q.name,setAddons:0===size.sets.addons.length?EMPTY_ARRAY$1:size.sets.addons.map((function(a){return wrapAddon(a,q,q.elemOverlap,secondary||0<i)}))})}))),react_default.a.createElement("g",{transform:"translate("+size.cs.x+","+size.cs.y+")"},qs.map((function(q,i){return react_default.a.createElement(CombinationSelectionChart,{key:q.name,data:data,size:size,style:style,elemOverlap:q.overlap,suffix:"Q"+i+"-"+data.id,secondary:secondary||0<i,tooltip:onHover&&!(secondary||0<i)?void 0:q.name,combinationAddons:0===size.cs.addons.length?EMPTY_ARRAY$1:size.cs.addons.map((function(a){return wrapAddon(a,q,q.elemOverlap,secondary||0<i)}))})}))))}));function LabelsSelection(_ref){var data=_ref.data,size=_ref.size,style=_ref.style,selection=_ref.selection;return selection&&"set"===selection.type?react_default.a.createElement("rect",{y:data.sets.y(selection),width:size.labels.w+size.cs.w+size.sets.after,height:data.sets.bandWidth,className:"selectionHint-"+style.id}):null}function UpSetSelectionChart(_ref){var data=_ref.data,size=_ref.size,style=_ref.style,selection=_ref.selection,cy=data.sets.bandWidth/2,cx=data.cs.cx,r=data.r,height=size.sets.h+size.sets.after,width=data.cs.bandWidth;if(!selection||"set"===selection.type)return null;var d=selection,index=data.cs.keys.indexOf(data.toKey(d));return react_default.a.createElement("g",{transform:"translate("+(size.labels.w+data.cs.x(d))+", 0)","data-upset":"cs-ss","data-i":index},react_default.a.createElement("rect",{width:width,height:height,className:"selectionHint-"+style.id}),data.sets.v.filter((function(s){return data.cs.has(d,s)})).map((function(s){return react_default.a.createElement(UpSetDot,{key:data.toKey(s),r:1.1*r,cx:cx,cy:data.sets.y(s)+cy,name:s.name,className:clsx("fillSelection-"+style.id,"pnone-"+style.id,style.classNames.dot),style:style.styles.dot})})),1<d.sets.size&&react_default.a.createElement("line",{x1:cx,y1:data.sets.y(data.sets.v.find((function(p){return data.cs.has(d,p)})))+cy,x2:cx,y2:data.sets.y(data.sets.rv.find((function(p){return data.cs.has(d,p)})))+cy,className:"upsetSelectionLine-"+data.id}))}var EMPTY_ARRAY$2=[];function react_esm_isSetLike(s){return null!=s&&!Array.isArray(s)}function elemOverlapOf(query,toElemKey){var f=setOverlapFactory(query,toElemKey);return function(s){return f(s.elems).intersection}}function noOverlap(){return 0}function UpSetSelection(_ref){var size=_ref.size,data=_ref.data,style=_ref.style,selection=_ref.selection,onHover=_ref.onHover,empty=style.emptySelection,selectionOverlap=function(){if(!selection)return noOverlap;if("function"==typeof selection)return selection;if(Array.isArray(selection))return elemOverlapOf(selection,data.toElemKey);var ss=selection;if(ss.overlap)return ss.overlap;var f=elemOverlapOf(ss.elems,data.toElemKey);return function(s){return s.overlap?s.overlap(ss):f(s)}}(),selectionName=Array.isArray(selection)?"Array("+selection.length+")":"function"==typeof selection?"?":null==selection?void 0:selection.name,someAddon=size.sets.addons.some((function(s){return null!=s.renderSelection}))||size.cs.addons.some((function(s){return null!=s.renderSelection})),selectionElemOverlap=selection&&"function"!=typeof selection&&someAddon?function elemElemOverlapOf(query,toElemKey){var f=setElemOverlapFactory(query,toElemKey);return function(s){return f(s.elems).intersection}}(Array.isArray(selection)?selection:selection.elems,data.toElemKey):null;function wrapAddon(addon){return react_esm_extends(react_esm_extends({},addon),{},{render:function(props){var overlap=selectionElemOverlap?selectionElemOverlap(props.set):null;return addon.renderSelection?addon.renderSelection(react_esm_extends({selection:selection,selectionColor:style.selectionColor,overlap:overlap},props)):null}})}return react_default.a.createElement("g",{className:onHover?"pnone-"+style.id:void 0},(selection||empty)&&react_default.a.createElement(CombinationSelectionChart,{data:data,size:size,style:style,transform:"translate("+size.cs.x+","+size.cs.y+")",empty:empty&&!selection,elemOverlap:selectionOverlap,suffix:"Selection-"+style.id,tooltip:onHover?void 0:selectionName,combinationAddons:0===size.cs.addons.length?EMPTY_ARRAY$2:size.cs.addons.map(wrapAddon)}),(selection||empty)&&react_default.a.createElement(SetSelectionChart,{data:data,size:size,style:style,transform:"translate("+size.sets.x+","+size.sets.y+")",empty:empty&&!selection,elemOverlap:selectionOverlap,suffix:"Selection-"+style.id,tooltip:onHover?void 0:selectionName,setAddons:0===size.sets.addons.length?EMPTY_ARRAY$2:size.sets.addons.map(wrapAddon)}),react_default.a.createElement("g",{transform:"translate("+size.labels.x+","+size.labels.y+")"},react_esm_isSetLike(selection)&&react_default.a.createElement(LabelsSelection,{data:data,size:size,style:style,selection:selection}),react_esm_isSetLike(selection)&&react_default.a.createElement(UpSetSelectionChart,{data:data,size:size,style:style,selection:selection})))}var lightTheme={selectionColor:"#ffa500",color:"#000000",textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"#0000000d"},darkTheme={selectionColor:"#ffa500",color:"#cccccc",textColor:"#ffffff",hoverHintColor:"#d9d9d9",notMemberColor:"#666666",alternatingBackgroundColor:"#ffffff33"};function fillDefaults(props){var combinations,theme=function getTheme(theme){return"dark"===theme?darkTheme:lightTheme}(props.theme);return Object.assign({theme:"light",padding:20,barPadding:.3,dotPadding:.7,combinations:DEFAULT_COMBINATIONS,selection:null,combinationName:null==props.combinations||(combinations=props.combinations,Array.isArray(combinations))||"union"!==props.combinations.type?"Intersection Size":"Union Size",barLabelOffset:2,setNameAxisOffset:"auto",combinationNameAxisOffset:"auto",setName:"Set Size",fontFamily:"sans-serif",widthRatios:DEFAULT_WIDTH_RATIO,heightRatios:DEFAULT_HEIGHT_RATIO,queries:EMPTY_ARRAY,queryLegend:null!=props.queries&&0<props.queries.length,exportButtons:!0,numericScale:"linear",bandScale:"band",className:"",fontSizes:DEFAULT_FONTSIZES,classNames:EMPTY_OBJECT,style:EMPTY_OBJECT,styles:EMPTY_OBJECT,childrenFactories:EMPTY_OBJECT,setAddons:EMPTY_ARRAY,combinationAddons:EMPTY_ARRAY,emptySelection:!0,toKey:model_esm_toKey},theme,props,props.fontSizes?{fontSizes:Object.assign({},DEFAULT_FONTSIZES,props.fontSizes)}:EMPTY_OBJECT)}var UpSetJS=Object(react.forwardRef)((function(props,ref){var _fillDefaults=fillDefaults(props),id=_fillDefaults.id,className=_fillDefaults.className,style=_fillDefaults.style,width=_fillDefaults.width,height=_fillDefaults.height,margin=_fillDefaults.padding,barPadding=_fillDefaults.barPadding,sets=_fillDefaults.sets,toKey=_fillDefaults.toKey,toElemKey=_fillDefaults.toElemKey,combinations=_fillDefaults.combinations,_fillDefaults$selecti=_fillDefaults.selection,selection=void 0===_fillDefaults$selecti?null:_fillDefaults$selecti,_onClick=_fillDefaults.onClick,onContextMenu=_fillDefaults.onContextMenu,onHover=_fillDefaults.onHover,theme=_fillDefaults.theme,dotPadding=_fillDefaults.dotPadding,setChildrenFactory=_fillDefaults.setChildrenFactory,combinationChildrenFactory=_fillDefaults.combinationChildrenFactory,widthRatios=_fillDefaults.widthRatios,heightRatios=_fillDefaults.heightRatios,_fillDefaults$queries=_fillDefaults.queries,queries=void 0===_fillDefaults$queries?[]:_fillDefaults$queries,setAddons=_fillDefaults.setAddons,combinationAddons=_fillDefaults.combinationAddons,alternatingBackgroundColor=_fillDefaults.alternatingBackgroundColor,bandScale=_fillDefaults.bandScale,barLabelOffset=_fillDefaults.barLabelOffset,classNames=_fillDefaults.classNames,color=_fillDefaults.color,combinationName=_fillDefaults.combinationName,combinationNameAxisOffset=_fillDefaults.combinationNameAxisOffset,exportButtons=_fillDefaults.exportButtons,fontFamily=_fillDefaults.fontFamily,fontSizes=_fillDefaults.fontSizes,hoverHintColor=_fillDefaults.hoverHintColor,notMemberColor=_fillDefaults.notMemberColor,numericScale=_fillDefaults.numericScale,queryLegend=_fillDefaults.queryLegend,selectionColor=_fillDefaults.selectionColor,setName=_fillDefaults.setName,setNameAxisOffset=_fillDefaults.setNameAxisOffset,cStyles=_fillDefaults.styles,textColor=_fillDefaults.textColor,emptySelection=_fillDefaults.emptySelection,fontAxisTick=fontSizes.axisTick,fontBarLabel=fontSizes.barLabel,fontChartLabel=fontSizes.chartLabel,fontLegend=fontSizes.legend,fontSetLabel=fontSizes.setLabel,styleId=Object(react.useMemo)((function(){return id||generateId()}),[id,fontFamily,fontAxisTick,fontBarLabel,fontChartLabel,fontLegend,fontSetLabel,textColor,hoverHintColor,color,selectionColor,notMemberColor,alternatingBackgroundColor]),styleInfo=Object(react.useMemo)((function(){return function deriveStyleDependent(theme,styles,classNames,combinationName,combinationNameAxisOffset,setName,setNameAxisOffset,styleId,barLabelOffset,selectionColor,emptySelection){return{theme:theme,styles:styles,classNames:classNames,cs:{name:combinationName,offset:combinationNameAxisOffset},sets:{name:setName,offset:setNameAxisOffset},emptySelection:emptySelection,id:styleId,barLabelOffset:barLabelOffset,selectionColor:selectionColor}}(theme,cStyles,classNames,combinationName,combinationNameAxisOffset,setName,setNameAxisOffset,styleId,barLabelOffset,selectionColor,emptySelection)}),[theme,cStyles,classNames,barLabelOffset,combinationName,combinationNameAxisOffset,setName,setNameAxisOffset,styleId,selectionColor,emptySelection]),sizeInfo=Object(react.useMemo)((function(){return function deriveSizeDependent(width,height,margin,barPadding,widthRatios,heightRatios,setAddons,combinationAddons,id){var setAddonsBefore=setAddons.reduce((function(acc,a){return acc+("before"===a.position?a.size:0)}),0),setAddonsAfter=setAddons.reduce((function(acc,a){return acc+("before"!==a.position?a.size:0)}),0),combnationAddonsBefore=combinationAddons.reduce((function(acc,a){return acc+("before"===a.position?a.size:0)}),0),combinationAddonsAfter=combinationAddons.reduce((function(acc,a){return acc+("before"!==a.position?a.size:0)}),0),h=height-2*margin-20-combinationAddonsAfter-combnationAddonsBefore,w=width-2*margin-setAddonsBefore-setAddonsAfter,setWidth=w*widthRatios[0],labelsWidth=w*widthRatios[1],combinationHeight=h*heightRatios[0];return{id:id||generateId(),cs:{before:combnationAddonsBefore,after:combinationAddonsAfter,x:setAddonsBefore+setWidth+labelsWidth,y:combnationAddonsBefore,w:w-setWidth-labelsWidth,h:combinationHeight,addons:combinationAddons},labels:{x:setAddonsBefore+setWidth,y:combnationAddonsBefore+combinationHeight,w:labelsWidth,h:h-combinationHeight},sets:{before:setAddonsBefore,after:setAddonsAfter,x:setAddonsBefore,y:combnationAddonsBefore+combinationHeight,w:setWidth,h:h-combinationHeight,addons:setAddons},padding:barPadding,legend:{x:width/2},margin:margin,w:width,h:height}}(width,height,margin,barPadding,widthRatios,heightRatios,setAddons,combinationAddons,id)}),[width,height,margin,barPadding,widthRatios,heightRatios,setAddons,combinationAddons,id]),dataInfo=Object(react.useMemo)((function(){return deriveDataDependent(sets,combinations,sizeInfo,numericScale,bandScale,barLabelOffset+Number.parseInt(null!=fontBarLabel?fontBarLabel:"10"),dotPadding,barPadding,Number.parseInt(null!=fontAxisTick?fontAxisTick:"10"),toKey,toElemKey,id)}),[sets,combinations,sizeInfo,numericScale,bandScale,barLabelOffset,fontBarLabel,dotPadding,barPadding,fontAxisTick,toKey,toElemKey,id]),rules="\n  .root-"+styleId+" {\n    "+(fontFamily?"font-family: "+fontFamily+";":"")+"\n  }\n  .axisTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontAxisTick?"font-size: "+fontAxisTick+";":"")+"\n    text-anchor: middle;\n  }\n  .barTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontBarLabel?"font-size: "+fontBarLabel+";":"")+"\n  }\n  .cBarTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontBarLabel?"font-size: "+fontBarLabel+";":"")+"\n    text-anchor: middle;\n  }\n  .sBarTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontBarLabel?"font-size: "+fontBarLabel+";":"")+"\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-"+styleId+" {\n    "+(fontBarLabel?"font-size: "+fontBarLabel+";":"")+"\n    fill: "+hoverHintColor+";\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontSetLabel?"font-size: "+fontSetLabel+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontChartLabel?"font-size: "+fontChartLabel+";":"")+"\n    text-anchor: middle;\n  }\n  .sChartTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontChartLabel?"font-size: "+fontChartLabel+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n  .exportTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontBarLabel?"font-size: "+fontBarLabel+";":"")+"\n  }\n  .legendTextStyle-"+styleId+" {\n    fill: "+textColor+";\n    "+(fontLegend?"font-size: "+fontLegend+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  .startText-"+styleId+" {\n    text-anchor: start;\n  }\n  .endText-"+styleId+" {\n    text-anchor: end;\n  }\n  .pnone-"+styleId+" {\n    pointer-events: none;\n  }\n  .fillPrimary-"+styleId+" { fill: "+color+"; }\n  .fillSelection-"+styleId+" { fill: "+selectionColor+"; }\n  .fillNotMember-"+styleId+" { fill: "+notMemberColor+"; }\n  .fillAlternating-"+styleId+" { fill: "+(alternatingBackgroundColor||"transparent")+"; }\n  .fillTransparent-"+styleId+" { fill: transparent; }\n\n  .selectionHint-"+styleId+" {\n    fill: transparent;\n    pointer-events: none;\n    stroke: "+selectionColor+";\n  }\n\n  .axisLine-"+styleId+" {\n    fill: none;\n    stroke: "+textColor+";\n  }\n  .clickAble-"+styleId+" {\n    cursor: pointer;\n  }\n\n  .hoverBar-"+styleId+" {\n    fill: transparent;\n  }\n\n  .interactive-"+styleId+":hover > .hoverBar-"+styleId+" {\n    stroke: "+hoverHintColor+";\n  }\n  .interactive-"+styleId+":hover > .hoverBarTextStyle-"+styleId+" {\n    display: unset;\n  }\n\n  .exportButtons-"+styleId+" {\n    text-anchor: middle;\n  }\n  .exportButton-"+styleId+" {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-"+styleId+":hover {\n    opacity: 1;\n  }\n  .exportButton-"+styleId+" > rect {\n    fill: none;\n    stroke: "+textColor+";\n  }\n\n  .upsetLine-"+dataInfo.id+" {\n    stroke-width: "+.6*dataInfo.r+";\n    stroke: "+color+";\n  }\n\n  .upsetSelectionLine-"+dataInfo.id+" {\n    stroke-width: "+.6*dataInfo.r*1.1+";\n    stroke: "+selectionColor+";\n    pointer-events: none;\n  }\n  "+queries.map((function(q,i){return".fillQ"+i+"-"+dataInfo.id+" {\n    fill: "+q.color+";\n  }"})).join("\n")+"\n  ";return react_default.a.createElement("svg",{id:id,className:clsx("root-"+styleId,className),style:style,width:width,height:height,ref:ref,viewBox:"0 0 "+width+" "+height,"data-theme":null!=theme?theme:"light"},react_default.a.createElement("style",null,rules),react_default.a.createElement("defs",null,react_default.a.createElement("clipPath",{id:"clip-"+sizeInfo.id},react_default.a.createElement("rect",{x:sizeInfo.sets.w,y:0,width:sizeInfo.labels.w,height:sizeInfo.sets.h}))),queryLegend&&react_default.a.createElement(QueryLegend,{queries:queries,size:sizeInfo,style:styleInfo,data:dataInfo}),exportButtons&&react_default.a.createElement(ExportButtons,{transform:"translate("+(sizeInfo.w-2)+","+(sizeInfo.h-3)+")",styleId:styleId}),react_default.a.createElement("g",{transform:"translate("+margin+","+margin+")","data-upset":"base"},_onClick&&react_default.a.createElement("rect",{width:sizeInfo.cs.x,height:sizeInfo.sets.y,onClick:function(evt){return _onClick(null,evt.nativeEvent)},className:"fillTransparent-"+styleId}),react_default.a.createElement(UpSetAxis,{size:sizeInfo,style:styleInfo,data:dataInfo}),react_default.a.createElement(UpSetChart,{size:sizeInfo,style:styleInfo,data:dataInfo,onClick:_onClick,onHover:onHover,onContextMenu:onContextMenu,setChildrenFactory:setChildrenFactory,combinationChildrenFactory:combinationChildrenFactory}),react_default.a.createElement(UpSetSelection,{size:sizeInfo,style:styleInfo,data:dataInfo,onHover:onHover,selection:selection}),react_default.a.createElement(UpSetQueries,{size:sizeInfo,style:styleInfo,data:dataInfo,onHover:onHover,queries:queries,secondary:null!=onHover||null!=selection})),props.children)}));UpSetJS.__docgenInfo={description:"UpSetJS main pure functional stateless React component, the generic argument T refers to the type of the elements\r\n\r\nwith React.forwardRef support to specify a reference to the SVG element",methods:[],displayName:"UpSetJS"};var react_esm=UpSetJS;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../.yarn/$$virtual/@upsetjs-react-virtual-66d30e5a77/1/packages/react/dist/react.esm.js"]={name:"UpSetJS",docgenInfo:UpSetJS.__docgenInfo,path:"../../.yarn/$$virtual/@upsetjs-react-virtual-66d30e5a77/1/packages/react/dist/react.esm.js"});__webpack_exports__.default={parameters:{storySource:{source:"/**\n * @upsetjs/addons\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2020 Samuel Gratzl <sam@sgratzl.com>\n */\n\nimport React from 'react';\nimport { boxplotAddon } from './Boxplot';\nimport UpSetJS, { extractSets } from '@upsetjs/react';\n\nexport default {\n  title: 'Box plot Addon',\n};\n\ninterface IElem {\n  name: string;\n  sets: string[];\n  value: number;\n}\n\nexport const Default = () => {\n  const elems: IElem[] = [\n    { name: '1', sets: ['one', 'two', 'three'], value: Math.random() },\n    { name: '2', sets: ['one', 'two'], value: Math.random() },\n    { name: '3', sets: ['one'], value: Math.random() },\n    { name: '4', sets: ['two'], value: Math.random() },\n    { name: '5', sets: ['one', 'two', 'three'], value: Math.random() },\n    { name: '6', sets: ['three'], value: Math.random() },\n    { name: '7', sets: ['one', 'three'], value: Math.random() },\n    { name: '8', sets: ['one', 'three'], value: Math.random() },\n    { name: '9', sets: ['three'], value: Math.random() },\n    { name: '10', sets: ['two', 'three'], value: Math.random() },\n    { name: '11', sets: ['one'], value: Math.random() },\n    { name: '12', sets: ['one', 'three'], value: Math.random() },\n    { name: '13', sets: ['one', 'three'], value: Math.random() },\n  ];\n  const sets = extractSets(elems);\n\n  return (\n    <UpSetJS\n      sets={sets}\n      width={1200}\n      height={500}\n      setAddons={[boxplotAddon('value', elems)]}\n      combinationAddons={[boxplotAddon('value', elems, { orient: 'vertical' })]}\n    />\n  );\n};\n",locationsMap:{"box-plot-addon--default":{startLoc:{col:23,line:22},endLoc:{col:1,line:49},startBody:{col:23,line:22},endBody:{col:1,line:49}}}}},title:"Box plot Addon"};var Default=function(){var elems=[{name:"1",sets:["one","two","three"],value:Math.random()},{name:"2",sets:["one","two"],value:Math.random()},{name:"3",sets:["one"],value:Math.random()},{name:"4",sets:["two"],value:Math.random()},{name:"5",sets:["one","two","three"],value:Math.random()},{name:"6",sets:["three"],value:Math.random()},{name:"7",sets:["one","three"],value:Math.random()},{name:"8",sets:["one","three"],value:Math.random()},{name:"9",sets:["three"],value:Math.random()},{name:"10",sets:["two","three"],value:Math.random()},{name:"11",sets:["one"],value:Math.random()},{name:"12",sets:["one","three"],value:Math.random()},{name:"13",sets:["one","three"],value:Math.random()}],sets=function extractSets(elements,acc){void 0===acc&&(acc=function(e){return e.sets});var sets=new Map;return elements.forEach((function(elem){acc(elem).forEach((function(set){sets.has(set)?sets.get(set).push(elem):sets.set(set,[elem])}))})),Array.from(sets).map((function(_ref){var set=_ref[0],elems=_ref[1];return{type:"set",elems:elems,name:set.toString(),cardinality:elems.length}}))}(elems);return react_default.a.createElement(react_esm,{sets:sets,width:1200,height:500,setAddons:[Object(Boxplot.a)("value",elems)],combinationAddons:[Object(Boxplot.a)("value",elems,{orient:"vertical"})]})};Default.displayName="Default",Default.__docgenInfo={description:"",methods:[],displayName:"Default"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Addon.stories.tsx"]={name:"Default",docgenInfo:Default.__docgenInfo,path:"src/components/Addon.stories.tsx"})},512:function(module,exports,__webpack_require__){__webpack_require__(513),__webpack_require__(655),__webpack_require__(656),__webpack_require__(785),__webpack_require__(1403),__webpack_require__(1435),module.exports=__webpack_require__(1439)},575:function(module,exports){},656:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(222)}},[[512,1,2]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL2JveHBsb3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQm94cGxvdC50c3giLCJ3ZWJwYWNrOi8vLy4uL3NyYy9ub3JtYWxpemUudHMiLCJ3ZWJwYWNrOi8vLy4vLnN0b3J5Ym9vay9wcmV2aWV3LmpzLWdlbmVyYXRlZC1jb25maWctZW50cnkuanMiLCJ3ZWJwYWNrOi8vLy4vLnN0b3J5Ym9vay9wcmV2aWV3LmpzIiwid2VicGFjazovLy8uLy5zdG9yeWJvb2svZ2VuZXJhdGVkLXN0b3JpZXMtZW50cnkuanMiLCJ3ZWJwYWNrOi8vL1xcLikoIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0JveHBsb3Quc3Rvcmllcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnN0b3JpZXMudHN4Iiwid2VicGFjazovLy8uLi9zcmMvZGF0YS9zZXRPdmVybGFwLnRzIiwid2VicGFjazovLy8uLi9zcmMvcXVlcmllcy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3ZhbGlkYXRvcnMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kYXRhL3V0aWxzLnRzIiwid2VicGFjazovLy8uLi9zcmMvZGF0YS9hc0NvbWJpbmF0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RhdGEvcG93ZXJTZXQudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kYXRhL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RhdGEvZ2VuZXJhdGVDb21iaW5hdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NjYWxlcy9iYW5kLnRzIiwid2VicGFjazovLy8uLi9zcmMvc2NhbGVzL251bWVyaWMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zY2FsZXMvbGluZWFyLnRzIiwid2VicGFjazovLy8uLi9zcmMvc2NhbGVzL2xvZy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBvbmVudHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wb25lbnRzL2Rlcml2ZURhdGFEZXBlbmRlbnQudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kZWZhdWx0cy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2V4cG9ydGVyL2V4cG9ydFNWRy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBvbmVudHMvRXhwb3J0QnV0dG9ucy50c3giLCJ3ZWJwYWNrOi8vLy4uL3NyYy9leHBvcnRlci9leHBvcnRWZWdhTGl0ZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBvbmVudHMvUXVlcnlMZWdlbmQudHN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9EM0F4aXMudHN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9VcFNldEF4aXMudHN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9VcFNldERvdC50c3giLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wb25lbnRzL0NvbWJpbmF0aW9uQ2hhcnQudHN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9TZXRDaGFydC50c3giLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wb25lbnRzL1VwU2V0Q2hhcnQudHN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9Db21iaW5hdGlvblNlbGVjdGlvbkNoYXJ0LnRzeCIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBvbmVudHMvU2V0U2VsZWN0aW9uQ2hhcnQudHN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9VcFNldFF1ZXJpZXMudHN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9MYWJlbHNTZWxlY3Rpb24udHN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9VcFNldFNlbGVjdGlvbkNoYXJ0LnRzeCIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBvbmVudHMvVXBTZXRTZWxlY3Rpb24udHN4Iiwid2VicGFjazovLy8uLi9zcmMvZmlsbERlZmF1bHRzLnRzIiwid2VicGFjazovLy8uLi9zcmMvVXBTZXRKUy50c3giLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wb25lbnRzL2Rlcml2ZVN0eWxlRGVwZW5kZW50LnRzIiwid2VicGFjazovLy8uLi9zcmMvY29tcG9uZW50cy9kZXJpdmVTaXplRGVwZW5kZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FkZG9uLnN0b3JpZXMudHN4Iiwid2VicGFjazovLy8uLi9zcmMvZGF0YS9leHRyYWN0U2V0cy50cyIsIndlYnBhY2s6Ly8vLi8uc3Rvcnlib29rL3N0b3J5Ym9vay1pbml0LWZyYW1ld29yay1lbnRyeS5qcyJdLCJuYW1lcyI6WyJxdWFudGlsZXNJbnRlcnBvbGF0ZSIsIm4xIiwibGVuZ3RoIiwiY29tcHV0ZSIsImluZGV4IiwicSIsImxvIiwiTWF0aCIsImgiLCJhIiwiYXJyIiwiaW50ZXJwb2xhdGUiLCJxMSIsIm1lZGlhbiIsInEzIiwicXVhbnRpbGVzVHlwZTciLCJhbHBoYSIsImIiLCJmaXZlbnVtIiwibiIsIm40IiwibWV0aG9kTG9va3VwIiwiaGluZ2VzIiwidHlwZTciLCJxdWFudGlsZXMiLCJsaW5lYXIiLCJxdWFudGlsZXNMaW5lYXIiLCJpIiwiaiIsImxvd2VyIiwicXVhbnRpbGVzTG93ZXIiLCJoaWdoZXIiLCJxdWFudGlsZXNIaWdoZXIiLCJuZWFyZXN0IiwicXVhbnRpbGVzTmVhcmVzdCIsImZyYWN0aW9uIiwibWlkcG9pbnQiLCJxdWFudGlsZXNNaWRwb2ludCIsImJveHBsb3QiLCJkYXRhIiwib3B0aW9ucyIsInYiLCJtaW4iLCJOdW1iZXIiLCJtYXgiLCJzdW0iLCJ2YWxpZCIsImRldGVybWluZVN0YXRzT3B0aW9ucyIsImNvZWYiLCJ2cyIsIkZsb2F0MzJBcnJheSIsIm1pc3NpbmciLCJtZWFuIiwiY291bnQiLCJ3aGlza2VySGlnaCIsIndoaXNrZXJMb3ciLCJvdXRsaWVyIiwiTmFOIiwicyIsImlxciIsImNvZWZWYWxpZCIsImxlZnQiLCJyaWdodCIsInJldmVyc2VkT3V0bGllcnMiLCJyb3VuZDIiLCJyb3VuZCIsImRpc3BsYXlOYW1lIiwiX19kb2NnZW5JbmZvIiwiU1RPUllCT09LX1JFQUNUX0NMQVNTRVMiLCJkb2NnZW5JbmZvIiwibmFtZSIsInBhdGgiLCJfX3JlYWN0X2RvY2dlbl90eXBlc2NyaXB0X2xvYWRlcl9lcnJvciIsIkJveHBsb3QiLCJ0aGVtZSIsIm1vZGUiLCJ2YWx1ZXMiLCJvcmllbnQiLCJ3Iiwid2lkdGgiLCJoZWlnaHQiLCJib3hTdHlsZSIsImxpbmVTdHlsZSIsIm91dGxpZXJTdHlsZSIsImJveFBhZGRpbmciLCJicHAiLCJvdXRsaWVyUmFkaXVzIiwibnVtYmVyRm9ybWF0IiwibmYiLCJ0b0ZpeGVkIiwiaXNOYU4iLCJvIiwiaG9yIiwibm9ybWFsaXplIiwiZG9tYWluIiwiZGVsdGEiLCJkbiIsImRlbm9ybWFsaXplIiwicmFuZ2UiLCJzY2FsZSIsImF2ZyIsIm1lZCIsIndoIiwid2wiLCJ0aXRsZSIsImlubmVyIiwic3R5bGVzIiwiYm94IiwiT2JqZWN0IiwiYXNzaWduIiwiZmlsbCIsImxpbmUiLCJzdHJva2UiLCJjIiwiYnAiLCJocCIsIncxIiwidzIiLCJwIiwiZCIsInN0eWxlIiwieCIsInkiLCJtYXAiLCJrZXkiLCJyIiwiY3kiLCJjeCIsIndwIiwiQm94cGxvdE1lbW8iLCJSZWFjdCIsIm1lbW8iLCJib3hwbG90QWRkb24iLCJwcm9wIiwiZWxlbXMiLCJzaXplIiwicG9zaXRpb24iLCJ0b1N0cmluZyIsImV4dHJhcyIsImFjYyIsIlBPU0lUSVZFX0lORklOSVRZIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiZWxlbSIsInJlbmRlciIsInNldCIsInJlbmRlclNlbGVjdGlvbiIsIm92ZXJsYXAiLCJzZWxlY3Rpb25Db2xvciIsInJlbmRlclF1ZXJ5IiwicXVlcnkiLCJzZWNvbmRhcnkiLCJjb2xvciIsInZhbHVlIiwiX2NsaWVudEFwaSIsInJlcXVpcmUiLCJfY2xpZW50TG9nZ2VyIiwiX2NvbmZpZ0ZpbGVuYW1lIiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsInRhcmdldCIsInNvdXJjZSIsImFyZ3VtZW50cyIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFyZ3MiLCJhcmdUeXBlcyIsImxvZ2dlciIsIndhcm4iLCJKU09OIiwic3RyaW5naWZ5IiwiZGVjb3JhdG9ycyIsImRlY29yYXRvciIsImFkZERlY29yYXRvciIsInBhcmFtZXRlcnMiLCJnbG9iYWxBcmdzIiwiZ2xvYmFsQXJnVHlwZXMiLCJhZGRQYXJhbWV0ZXJzIiwiYXJnVHlwZXNFbmhhbmNlcnMiLCJlbmhhbmNlciIsImFkZEFyZ1R5cGVzRW5oYW5jZXIiLCJkb2NzIiwicGFnZSIsImNyZWF0ZUVsZW1lbnQiLCJGcmFnbWVudCIsIlRpdGxlIiwiU3VidGl0bGUiLCJEZXNjcmlwdGlvbiIsIlByb3BzIiwiU3RvcmllcyIsImluY2x1ZGVQcmltYXJ5IiwiX2ZyYW1ld29yayIsIm1vZHVsZSIsIl9TdG9yeWJvb2tQcmVzZXJ2ZURlY29yYXRvcnMiLCJjb25maWd1cmUiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImUiLCJFcnJvciIsImNvZGUiLCJ3ZWJwYWNrQ29udGV4dEtleXMiLCJyZXNvbHZlIiwiZXhwb3J0cyIsImNvbXBvbmVudCIsIkRlZmF1bHQiLCJyYW5kb20iLCJWZXJ0aWNhbCIsImluZGV4c3RvcmllcyIsImxlbiIsInNldE92ZXJsYXBGYWN0b3J5IiwidG9FbGVtS2V5IiwiU2V0Iiwic2V0QSIsInNhbWUiLCJzZXRCIiwidW5pb24iLCJpbnRlcnNlY3Rpb24iLCJzZXRFbGVtT3ZlcmxhcEZhY3RvcnkiLCJpc0VsZW1RdWVyeSIsImlzQ2FsY1F1ZXJ5IiwiaXNTZXRRdWVyeSIsInF1ZXJ5T3ZlcmxhcCIsIndoYXQiLCJmIiwicXVlcnlFbGVtT3ZlcmxhcCIsInNldEVsZW1JbnRlcnNlY3Rpb25GYWN0b3J5IiwiaXNCYXNlU2V0IiwiaXNTZXQiLCJpc1NldENvbWJpbmF0aW9uIiwidnQiLCJpc1NldExpa2UiLCJieU5hbWUiLCJieUNhcmRpbmFsaXR5IiwiYnlEZWdyZWUiLCJieUNvbXBvc2l0ZSIsImZ1bmMiLCJuZWdhdGUiLCJieUdyb3VwIiwic2V0cyIsImZpeE5vdEZvdW5kIiwicG9zdHByb2Nlc3NDb21iaW5hdGlvbnMiLCJjb21iaW5hdGlvbnMiLCJ0b09yZGVyIiwicG93ZXJTZXROdW1iZXIiLCJvblNldCIsIkluZmluaXR5IiwidG90YWwiLCJsYXN0Qml0IiwibGFzdEJpdEFjYyIsInN1YiIsInBvd2VyU2V0QmlnSW50IiwiemVybyIsIkJpZ0ludCIsIm9uZSIsImJpdHMiLCJwb3dlclNldFJlY3Vyc2l2ZSIsImNoZWNrIiwiaXRlciIsInN1YnNldCIsIlNFVF9KT0lORVJTIiwiY29tcG9zaXRlIiwiaW50ZXJzZWN0aW9uQnVpbGRlciIsInNldEVsZW1zIiwiTWFwIiwic2V0RGlyZWN0RWxlbXMiLCJzZXRLZXlFbGVtcyIsIm5vdFBhcnRPZkFueVNldCIsImxvb2t1cCIsImFsbEVsZW1lbnRzIiwiayIsInNtYWxsZXN0IiwidW5pb25CdWlsZGVyIiwibGFyZ2VzdCIsImFsbCIsImNvbnRhaW5lZCIsImdlbmVyYXRlQ29tYmluYXRpb25zIiwidHlwZSIsImVtcHR5IiwicG9zdHByb2Nlc3MiLCJqb2luZXIiLCJwb3dlclNldCIsImFzRm9yRWFjaCIsIndpbmRvdyIsImNvbWJvIiwiY2FyZGluYWxpdHkiLCJ0aGlzIiwiZGVncmVlIiwidG9LZXkiLCJiYW5kU2NhbGUiLCJibG9ja3MiLCJzdGVwIiwic3RhcnQiLCJoYXNPdmVybGFwIiwicG9zaXRpb25zIiwic3RyaWRlIiwicG9zX2kiLCJwb3NfbiIsImhlaWdodHMiLCJlbnN1cmVMYXN0IiwidGlja3MiLCJoZWlnaHRQZXJUaWNrIiwidG9TdHIiLCJsYXN0IiwicG9zX2wiLCJwb3NfbWF4IiwibGFiZWwiLCJnZW5UaWNrcyIsIlN0cmluZyIsImNoZWNrVmFsdWVzIiwiaW5jIiwiZGlzdHJpYnV0ZVRpY2tzIiwibWF4Q291bnQiLCJuaWNlRmFjdG9ycyIsImRpZ2l0cyIsImZhY3RvciIsImZhY3RvcnMiLCJsaW5lYXJTY2FsZSIsIndpZHRoUGVyQ2hhciIsIm9yZGVycyIsIm9yZGVyIiwiZ2VuZXJhdGVJbm5lclRpY2tzIiwidnYiLCJsb2dTY2FsZSIsIm5vb3AiLCJ3cmFwIiwiZXZ0IiwiY2xzeCIsImNsYXp6ZXMiLCJhZGRvblBvc2l0aW9uR2VuZXJhdG9yIiwiYmVmb3JlQWNjIiwiYWZ0ZXJBY2MiLCJhZGRvbiIsImdlbmVyYXRlSWQiLCJkZXJpdmVEYXRhRGVwZW5kZW50Iiwic2l6ZXMiLCJudW1lcmljU2NhbGUiLCJiYXJMYWJlbEZvbnRTaXplIiwiZG90UGFkZGluZyIsImJhclBhZGRpbmciLCJ0aWNrRm9udFNpemUiLCJudW1lcmljU2NhbGVGYWN0b3J5IiwicmVzb2x2ZU51bWVyaWNTY2FsZSIsImZhY3RvcnkiLCJiYW5kU2NhbGVGYWN0b3J5IiwicmVzb2x2ZUJhbmRTY2FsZSIsImNzIiwiYXJlQ29tYmluYXRpb25zIiwiY29tYmluYXRpb25YIiwibWF4Q1NDYXJkaW5hbGl0eSIsImNvbWJpbmF0aW9uWSIsIm9yaWVudGF0aW9uIiwiZm9udFNpemVIaW50IiwiZ3Vlc3NMYWJlbFdpZHRoIiwibWF4U2V0Q2FyZGluYWxpdHkiLCJsYXJnZXN0U2V0TGFiZWxXaWR0aCIsImxhcmdlc3RDU0xhYmVsV2lkdGgiLCJzZXRYIiwic2V0S2V5cyIsInNldFkiLCJ0cmlhbmdsZVNpemUiLCJydiIsInhBeGlzV2lkdGgiLCJiYW5kV2lkdGgiLCJmb3JtYXQiLCJsYWJlbE9mZnNldCIsInlBeGlzV2lkdGgiLCJoYXMiLCJzayIsIkVNUFRZX09CSkVDVCIsIkVNUFRZX0FSUkFZIiwiREVGQVVMVF9GT05UU0laRVMiLCJzZXRMYWJlbCIsImF4aXNUaWNrIiwiY2hhcnRMYWJlbCIsImJhckxhYmVsIiwibGVnZW5kIiwiREVGQVVMVF9XSURUSF9SQVRJTyIsIkRFRkFVTFRfSEVJR0hUX1JBVElPIiwiREVGQVVMVF9DT01CSU5BVElPTlMiLCJleHBvcnRTVkciLCJub2RlIiwidG9SZW1vdmUiLCJjbG9uZSIsIkJsb2IiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJ1cmwiLCJVUkwiLCJkb3dubG9hZFVybCIsIlByb21pc2UiLCJ0b1BORyIsImNhbnZhcyIsImJiIiwiY3R4IiwiaW1nIiwiSW1hZ2UiLCJwbmciLCJwdXJsIiwiZG9jIiwiZG9jdW1lbnQiLCJleHBvcnRDaGFydCIsInN2ZyIsImV4cG9ydFZlZ2FMaXRlIiwicmVzb2x2ZVN0eWxlIiwic3R5bGVJZCIsImJhckxhYmVsT2Zmc2V0IiwiZmlsbE5vdE1lbWJlciIsInRleHRDb2xvciIsImNzTmFtZSIsInNldE5hbWUiLCJ0cmFuc2xhdGVYIiwiYmFzZSIsInBhZGRpbmciLCJzZXRXaWR0aCIsImNzV2lkdGgiLCJjc0hlaWdodCIsImxhYmVsV2lkdGgiLCJzZXRIZWlnaHQiLCJyYWRpdXMiLCJoYXNQcmltYXJ5U2VsZWN0aW9uIiwiaGFzUXVlcnkiLCJoYXNTZWxlY3Rpb24iLCJoaWdobGlnaHRlZENvbWJpbmF0aW9uIiwiZmllbGQiLCJvbmVPZiIsImVxdWFsIiwic3BlYyIsIiRzY2hlbWEiLCJkYXRhc2V0cyIsInBhcnRPZiIsIm5zZXRzIiwidmNvbmNhdCIsImhjb25jYXQiLCJtYXJrIiwidHJhbnNmb3JtIiwibGF5ZXIiLCJ0b29sdGlwIiwiYWxpZ24iLCJiYXNlbGluZSIsImR5IiwiZW5jb2RpbmciLCJ0ZXh0IiwiYXhpcyIsInNvcnQiLCJncmlkIiwiZHgiLCJmb250U2l6ZSIsImZsYXR0ZW4iLCJhcyIsImNhbGN1bGF0ZSIsInkyIiwiY29uZmlnIiwiYmFja2dyb3VuZCIsImNvbmNhdCIsInNwYWNpbmciLCJ2aWV3IiwiYmFyIiwiY2lyY2xlIiwib3BhY2l0eSIsInJ1bGUiLCJzdHJva2VXaWR0aCIsImxhYmVsQ29sb3IiLCJsYWJlbEZvbnRTaXplIiwidGl0bGVDb2xvciIsInRpdGxlRm9udFNpemUiLCJFeHBvcnRCdXR0b25zIiwiY2xhc3NOYW1lIiwib25DbGljayIsInJ4IiwicnkiLCJRdWVyeUxlZ2VuZCIsInF1ZXJpZXMiLCJEM0hvcml6b250YWxUaWNrIiwicG9zIiwidGlja1NpemVJbm5lciIsIngyIiwiRDNWZXJ0aWNhbFRpY2siLCJEM0F4aXMiLCJ0aWNrU2l6ZU91dGVyIiwidGlja1BhZGRpbmciLCJzaGlmdCIsInJhbmdlMCIsInJhbmdlMSIsIkQzVGljayIsInNldFBvc0dlbiIsImNvbWJpbmF0aW9uUG9zR2VuIiwiY3NOYW1lT2Zmc2V0Iiwic2V0TmFtZU9mZnNldCIsIngxIiwieTEiLCJVcFNldERvdCIsIkNvbWJpbmF0aW9uQ2hhcnQiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJvbkNvbnRleHRNZW51IiwiY2hpbGRyZW4iLCJnZW5Qb3NpdGlvbiIsImJlZm9yZSIsImFmdGVyIiwiZG90IiwiU2V0Q2hhcnQiLCJjbGlwUGF0aCIsIlVwU2V0Q2hhcnQiLCJvbkhvdmVyIiwic2V0Q2hpbGRyZW5GYWN0b3J5IiwiY29tYmluYXRpb25DaGlsZHJlbkZhY3RvcnkiLCJvbkNsaWNrSW1wbCIsIm9uTW91c2VFbnRlckltcGwiLCJvbkNvbnRleHRNZW51SW1wbCIsIm9uTW91c2VMZWF2ZUltcGwiLCJDb21iaW5hdGlvblNlbGVjdGlvbkNoYXJ0IiwiZWxlbU92ZXJsYXAiLCJzdWZmaXgiLCJjb21iaW5hdGlvbkFkZG9ucyIsInRvdGFsSGVpZ2h0IiwiY29udGVudCIsImFkZG9ucyIsIlNldFNlbGVjdGlvbkNoYXJ0Iiwic2V0QWRkb25zIiwidG90YWxXaWR0aCIsInNvbWVBZGRvbiIsInFzIiwidXNlTWVtbyIsIndyYXBBZGRvbiIsIm92ZXJsYXBwZXIiLCJwcm9wcyIsIkxhYmVsc1NlbGVjdGlvbiIsInNlbGVjdGlvbiIsIlVwU2V0U2VsZWN0aW9uQ2hhcnQiLCJlbGVtT3ZlcmxhcE9mIiwibm9PdmVybGFwIiwiVXBTZXRTZWxlY3Rpb24iLCJzZWxlY3Rpb25PdmVybGFwIiwic3MiLCJzZWxlY3Rpb25OYW1lIiwic2VsZWN0aW9uRWxlbU92ZXJsYXAiLCJlbGVtRWxlbU92ZXJsYXBPZiIsImxpZ2h0VGhlbWUiLCJob3ZlckhpbnRDb2xvciIsIm5vdE1lbWJlckNvbG9yIiwiYWx0ZXJuYXRpbmdCYWNrZ3JvdW5kQ29sb3IiLCJkYXJrVGhlbWUiLCJmaWxsRGVmYXVsdHMiLCJnZXRUaGVtZSIsImNvbWJpbmF0aW9uTmFtZSIsInNldE5hbWVBeGlzT2Zmc2V0IiwiY29tYmluYXRpb25OYW1lQXhpc09mZnNldCIsImZvbnRGYW1pbHkiLCJ3aWR0aFJhdGlvcyIsImhlaWdodFJhdGlvcyIsInF1ZXJ5TGVnZW5kIiwiZXhwb3J0QnV0dG9ucyIsImZvbnRTaXplcyIsImNsYXNzTmFtZXMiLCJjaGlsZHJlbkZhY3RvcmllcyIsImVtcHR5U2VsZWN0aW9uIiwiVXBTZXRKUyIsImZvcndhcmRSZWYiLCJtYXJnaW4iLCJjU3R5bGVzIiwiZm9udEF4aXNUaWNrIiwiZm9udEJhckxhYmVsIiwiZm9udENoYXJ0TGFiZWwiLCJmb250TGVnZW5kIiwiZm9udFNldExhYmVsIiwic3R5bGVJbmZvIiwiZGVyaXZlU3R5bGVEZXBlbmRlbnQiLCJvZmZzZXQiLCJzaXplSW5mbyIsImRlcml2ZVNpemVEZXBlbmRlbnQiLCJzZXRBZGRvbnNCZWZvcmUiLCJzZXRBZGRvbnNBZnRlciIsImNvbWJuYXRpb25BZGRvbnNCZWZvcmUiLCJjb21iaW5hdGlvbkFkZG9uc0FmdGVyIiwibGFiZWxzV2lkdGgiLCJjb21iaW5hdGlvbkhlaWdodCIsImxhYmVscyIsImRlZmluZVNpemVEZXBlbmRlbnQiLCJkYXRhSW5mbyIsInJ1bGVzIiwicmVmIiwidmlld0JveCIsImV4dHJhY3RTZXRzIiwiZWxlbWVudHMiXSwibWFwcGluZ3MiOiJzNkNBNEJBLFNBQVNBLHFCQUFxQixJQUE5Qix3QkFLUUMsR0FBS0MsT0FBWCxFQUNNQyxpQkFBVSxPQUNSQyxNQUFRQyxFQUFkLEdBQ01DLEdBQUtDLFdBQVgsT0FDTUMsRUFBSUosTUFBVixHQUNNSyxFQUFJQyxJQUFWLElBRUEsT0FBT0YsUUFBY0csWUFBWUYsRUFBR0MsSUFBSUgsU0FBU0QsR0FBVEMsRUFBUixLQUFoQyxJQUdGLE1BQU8sQ0FDTEssR0FBSVQsUUFEQyxLQUVMVSxPQUFRVixRQUZILElBR0xXLEdBQUlYLFFBQVEsTSxTQVFBWSxlQUFlTCxJQUF3QlIsUUFDckQsWUFEcURBLG9CQUFTUSxJQUFJUixRQUMzREYscUJBQXFCVSxJQUFJLFFBQVMsMkJBQWlCRCxFQUFJTyxPQUFTQyxFQUE5QixNLFNBK0MzQkMsUUFBUVIsSUFBd0JSLGlDQUFTUSxJQUFJUixRQUFiQSxJQUV4Q2lCLEVBQU4sT0FHTUMsR0FBS2IsWUFBWVksRUFBRCxHQUFYWixHQUFYLEVBQ01KLGlCQUFVLFNBQWUsSUFBT08sSUFBSUgsY0FBSkcsR0FBeUJBLElBQUlILGFBQW5ELEtBRWhCLE1BQU8sQ0FDTEssR0FBSVQsUUFEQyxJQUVMVSxPQUFRVixTQUFTZ0IsRUFBRCxHQUZYLEdBR0xMLEdBQUlYLFFBQVFnQixJQUFELEtBY2YsSUFBTUUsYUFBZSxDQUNuQkMsT0FEbUIsUUFFbkJKLFFBRm1CLFFBR25CSyxNQUhtQixlQUluQkMsVUFKbUIsZUFLbkJDLE9BdEVGLFNBQVNDLGdCQUFnQmhCLElBQXpCLFFBQ0UsWUFEK0NSLG9CQUFTUSxJQUFJUixRQUNyREYscUJBQXFCVSxJQUFJLFFBQVMsOEJBQW9CaUIs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T0FBUXhHLE1BQU9wSixLQUFLMk4sVUFDekMsQ0FBRTVKLEtBQU0sS0FBTTZMLEtBQU0sQ0FBQyxNQUFPLFNBQVV4RyxNQUFPcEosS0FBSzJOLFVBQ2xELENBQUU1SixLQUFNLEtBQU02TCxLQUFNLENBQUMsTUFBTyxTQUFVeEcsTUFBT3BKLEtBQUsyTixXQUU5Q2lDLEtDeEJSLFNBQXdCd1YsWUFDdEJDLFNBQ0FqZCx3QkFBTSxtQkFBWStFLEVBQVosT0FFTixJQUFNeUMsS0FBTyxJQUFiLElBV0EsT0FUQXlWLGtCQUFpQixlQUNmamQsbUJBQWtCLGNBQ1h3SCxTQUFMLEtBR0VBLHlCQUZBQSxhQUFjLENBQWRBLGFBTUNySCxNQUFBLGdCQUFxQixtQkFBRUssWUFBS2IsY0FPakMsTUFObUIsQ0FDakJtSyxLQURpQixNQUVqQm5LLE1BRmlCLE1BR2pCaEUsS0FBTTZFLElBSFcsV0FJakI4SixZQUFhM0ssTUFBTXBJLFdESVZ5bEIsQ0FBWXJkLE9BRXpCLE9BQ0UsOEJBQUMsVUFBRCxDQUNFNkgsS0FBTUEsS0FDTnBMLE1BQU8sS0FDUEMsT0FBUSxJQUNSMmMsVUFBVyxDQUFDdlosa0JBQWEsUUFBU0UsUUFDbENnWixrQkFBbUIsQ0FBQ2xaLGtCQUFhLFFBQVNFLE1BQU8sQ0FBRXpELE9BQVEsaUJBeEJwRG9KLFEsOG5CRTdCYixzRSIsImZpbGUiOiJtYWluLmFkMmI2MTM5ZGE2MWEzMzNkZWViLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHVwc2V0anMvbWF0aFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBJQm94UGxvdCB7XG4gIHJlYWRvbmx5IG1pbjogbnVtYmVyO1xuICByZWFkb25seSBtYXg6IG51bWJlcjtcbiAgcmVhZG9ubHkgbWVkaWFuOiBudW1iZXI7XG4gIHJlYWRvbmx5IHExOiBudW1iZXI7XG4gIHJlYWRvbmx5IHEzOiBudW1iZXI7XG4gIHJlYWRvbmx5IG91dGxpZXI6IG51bWJlcltdO1xuICByZWFkb25seSB3aGlza2VyTG93OiBudW1iZXI7XG4gIHJlYWRvbmx5IHdoaXNrZXJIaWdoOiBudW1iZXI7XG5cbiAgcmVhZG9ubHkgbWVhbjogbnVtYmVyO1xuXG4gIHJlYWRvbmx5IG1pc3Npbmc6IG51bWJlcjtcbiAgcmVhZG9ubHkgY291bnQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBjb21wdXRlcyB0aGUgYm94cGxvdCBzdGF0cyB1c2luZyB0aGUgZ2l2ZW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiBpZiBuZWVkZWRcbiAqIEBwYXJhbSB7bnVtYmVyW119IGFyciBzb3J0ZWQgYXJyYXkgb2YgbnVtYmVyXG4gKiBAcGFyYW0geyhpOiBudW1iZXIsIGo6IG51bWJlciwgZnJhY3Rpb246IG51bWJlcil9IGludGVycG9sYXRlIGludGVycG9sYXRpb24gZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gcXVhbnRpbGVzSW50ZXJwb2xhdGUoXG4gIGFycjogQXJyYXlMaWtlPG51bWJlcj4sXG4gIGxlbmd0aDogbnVtYmVyLFxuICBpbnRlcnBvbGF0ZTogKGk6IG51bWJlciwgajogbnVtYmVyLCBmcmFjdGlvbjogbnVtYmVyKSA9PiBudW1iZXJcbikge1xuICBjb25zdCBuMSA9IGxlbmd0aCAtIDE7XG4gIGNvbnN0IGNvbXB1dGUgPSAocTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBxICogbjE7XG4gICAgY29uc3QgbG8gPSBNYXRoLmZsb29yKGluZGV4KTtcbiAgICBjb25zdCBoID0gaW5kZXggLSBsbztcbiAgICBjb25zdCBhID0gYXJyW2xvXTtcblxuICAgIHJldHVybiBoID09PSAwID8gYSA6IGludGVycG9sYXRlKGEsIGFycltNYXRoLm1pbihsbyArIDEsIG4xKV0sIGgpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcTE6IGNvbXB1dGUoMC4yNSksXG4gICAgbWVkaWFuOiBjb21wdXRlKDAuNSksXG4gICAgcTM6IGNvbXB1dGUoMC43NSksXG4gIH07XG59XG5cbi8qKlxuICogVXNlcyBSJ3MgcXVhbnRpbGUgYWxnb3JpdGhtIHR5cGU9Ny5cbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1F1YW50aWxlI1F1YW50aWxlc19vZl9hX3BvcHVsYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlc1R5cGU3KGFycjogQXJyYXlMaWtlPG51bWJlcj4sIGxlbmd0aCA9IGFyci5sZW5ndGgpIHtcbiAgcmV0dXJuIHF1YW50aWxlc0ludGVycG9sYXRlKGFyciwgbGVuZ3RoLCAoYSwgYiwgYWxwaGEpID0+IGEgKyBhbHBoYSAqIChiIC0gYSkpO1xufVxuXG4vKipcbiAqIOKAmGxpbmVhcuKAmTogaSArIChqIC0gaSkgKiBmcmFjdGlvbiwgd2hlcmUgZnJhY3Rpb24gaXMgdGhlIGZyYWN0aW9uYWwgcGFydCBvZiB0aGUgaW5kZXggc3Vycm91bmRlZCBieSBpIGFuZCBqLlxuICogKHNhbWUgYXMgdHlwZSA3KVxuICovXG5mdW5jdGlvbiBxdWFudGlsZXNMaW5lYXIoYXJyOiBBcnJheUxpa2U8bnVtYmVyPiwgbGVuZ3RoID0gYXJyLmxlbmd0aCkge1xuICByZXR1cm4gcXVhbnRpbGVzSW50ZXJwb2xhdGUoYXJyLCBsZW5ndGgsIChpLCBqLCBmcmFjdGlvbikgPT4gaSArIChqIC0gaSkgKiBmcmFjdGlvbik7XG59XG5cbi8qKlxuICog4oCYbG93ZXLigJk6IGkuXG4gKi9cbmZ1bmN0aW9uIHF1YW50aWxlc0xvd2VyKGFycjogQXJyYXlMaWtlPG51bWJlcj4sIGxlbmd0aCA9IGFyci5sZW5ndGgpIHtcbiAgcmV0dXJuIHF1YW50aWxlc0ludGVycG9sYXRlKGFyciwgbGVuZ3RoLCAoaSkgPT4gaSk7XG59XG5cbi8qKlxuICogJ2hpZ2hlcic6IGouXG4gKi9cbmZ1bmN0aW9uIHF1YW50aWxlc0hpZ2hlcihhcnI6IEFycmF5TGlrZTxudW1iZXI+LCBsZW5ndGggPSBhcnIubGVuZ3RoKSB7XG4gIHJldHVybiBxdWFudGlsZXNJbnRlcnBvbGF0ZShhcnIsIGxlbmd0aCwgKF8sIGopID0+IGopO1xufVxuXG4vKipcbiAqIOKAmG5lYXJlc3TigJk6IGkgb3Igaiwgd2hpY2hldmVyIGlzIG5lYXJlc3RcbiAqL1xuZnVuY3Rpb24gcXVhbnRpbGVzTmVhcmVzdChhcnI6IEFycmF5TGlrZTxudW1iZXI+LCBsZW5ndGggPSBhcnIubGVuZ3RoKSB7XG4gIHJldHVybiBxdWFudGlsZXNJbnRlcnBvbGF0ZShhcnIsIGxlbmd0aCwgKGksIGosIGZyYWN0aW9uKSA9PiAoZnJhY3Rpb24gPCAwLjUgPyBpIDogaikpO1xufVxuXG4vKipcbiAqIOKAmG1pZHBvaW504oCZOiAoaSArIGopIC8gMlxuICovXG5mdW5jdGlvbiBxdWFudGlsZXNNaWRwb2ludChhcnI6IEFycmF5TGlrZTxudW1iZXI+LCBsZW5ndGggPSBhcnIubGVuZ3RoKSB7XG4gIHJldHVybiBxdWFudGlsZXNJbnRlcnBvbGF0ZShhcnIsIGxlbmd0aCwgKGksIGopID0+IChpICsgaikgKiAwLjUpO1xufVxuXG4vKipcbiAqIFRoZSBoaW5nZXMgZXF1YWwgdGhlIHF1YXJ0aWxlcyBmb3Igb2RkIG4gKHdoZXJlIG4gPC0gbGVuZ3RoKHgpKVxuICogYW5kIGRpZmZlciBmb3IgZXZlbiBuLiBXaGVyZWFzIHRoZSBxdWFydGlsZXMgb25seSBlcXVhbCBvYnNlcnZhdGlvbnNcbiAqIGZvciBuICUlIDQgPT0gMSAobiA9IDEgbW9kIDQpLCB0aGUgaGluZ2VzIGRvIHNvIGFkZGl0aW9uYWxseVxuICogZm9yIG4gJSUgNCA9PSAyIChuID0gMiBtb2QgNCksIGFuZCBhcmUgaW4gdGhlIG1pZGRsZSBvZlxuICogdHdvIG9ic2VydmF0aW9ucyBvdGhlcndpc2UuXG4gKiBAcGFyYW0ge251bWJlcltdfSBhcnIgc29ydGVkIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXZlbnVtKGFycjogQXJyYXlMaWtlPG51bWJlcj4sIGxlbmd0aCA9IGFyci5sZW5ndGgpIHtcbiAgLy8gYmFzZWQgb24gUiBmaXZlbnVtXG4gIGNvbnN0IG4gPSBsZW5ndGg7XG5cbiAgLy8gYXNzdW1pbmcgUiAxIGluZGV4IHN5c3RlbSwgc28gYXJyWzFdIGlzIHRoZSBmaXJzdCBlbGVtZW50XG4gIGNvbnN0IG40ID0gTWF0aC5mbG9vcigobiArIDMpIC8gMikgLyAyO1xuICBjb25zdCBjb21wdXRlID0gKGQ6IG51bWJlcikgPT4gMC41ICogKGFycltNYXRoLmZsb29yKGQpIC0gMV0gKyBhcnJbTWF0aC5jZWlsKGQpIC0gMV0pO1xuXG4gIHJldHVybiB7XG4gICAgcTE6IGNvbXB1dGUobjQpLFxuICAgIG1lZGlhbjogY29tcHV0ZSgobiArIDEpIC8gMiksXG4gICAgcTM6IGNvbXB1dGUobiArIDEgLSBuNCksXG4gIH07XG59XG5leHBvcnQgZGVjbGFyZSB0eXBlIFF1YW50aWxlc01ldGhvZCA9XG4gIHwgJ2hpbmdlcydcbiAgfCAnZml2ZW51bSdcbiAgfCAndHlwZTcnXG4gIHwgJ3F1YW50aWxlcydcbiAgfCAnbGluZWFyJ1xuICB8ICdsb3dlcidcbiAgfCAnaGlnaGVyJ1xuICB8ICduZWFyZXN0J1xuICB8ICdtaWRwb2ludCc7XG5cbmNvbnN0IG1ldGhvZExvb2t1cCA9IHtcbiAgaGluZ2VzOiBmaXZlbnVtLFxuICBmaXZlbnVtOiBmaXZlbnVtLFxuICB0eXBlNzogcXVhbnRpbGVzVHlwZTcsXG4gIHF1YW50aWxlczogcXVhbnRpbGVzVHlwZTcsXG4gIGxpbmVhcjogcXVhbnRpbGVzTGluZWFyLFxuICBsb3dlcjogcXVhbnRpbGVzTG93ZXIsXG4gIGhpZ2hlcjogcXVhbnRpbGVzSGlnaGVyLFxuICBuZWFyZXN0OiBxdWFudGlsZXNOZWFyZXN0LFxuICBtaWRwb2ludDogcXVhbnRpbGVzTWlkcG9pbnQsXG59O1xuXG5leHBvcnQgZGVjbGFyZSB0eXBlIEN1c3RvbVF1YW50aWxlTWV0aG9kID0gKFxuICBhcnI6IEFycmF5TGlrZTxudW1iZXI+LFxuICBsZW5ndGg6IG51bWJlclxuKSA9PiB7IHExOiBudW1iZXI7IG1lZGlhbjogbnVtYmVyOyBxMzogbnVtYmVyIH07XG5cbmZ1bmN0aW9uIGRldGVybWluZVF1YW50aWxlcyhxOiBRdWFudGlsZXNNZXRob2QgfCBDdXN0b21RdWFudGlsZU1ldGhvZCkge1xuICBpZiAodHlwZW9mIHEgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcTtcbiAgfVxuICByZXR1cm4gbWV0aG9kTG9va3VwW3FdIHx8IHF1YW50aWxlc1R5cGU3O1xufVxuXG5leHBvcnQgZGVjbGFyZSB0eXBlIEJveHBsb3RTdGF0c09wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBAZGVmYXVsdCAxLjVcbiAgICovXG4gIGNvZWY/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBkZWZhdWx0IHR5cGU3XG4gICAqL1xuICBxdWFudGlsZXM/OiBRdWFudGlsZXNNZXRob2QgfCBDdXN0b21RdWFudGlsZU1ldGhvZDtcbn07XG5cbmZ1bmN0aW9uIGRldGVybWluZVN0YXRzT3B0aW9ucyhvcHRpb25zOiBQYXJ0aWFsPEJveHBsb3RTdGF0c09wdGlvbnM+ID0ge30pIHtcbiAgcmV0dXJuIHtcbiAgICBjb2VmOiBvcHRpb25zLmNvZWYgPz8gMS41LFxuICAgIHF1YW50aWxlczogZGV0ZXJtaW5lUXVhbnRpbGVzKG9wdGlvbnMucXVhbnRpbGVzID8/ICd0eXBlNycpLFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBib3hwbG90KGRhdGE6IFJlYWRvbmx5QXJyYXk8bnVtYmVyPiwgb3B0aW9uczogQm94cGxvdFN0YXRzT3B0aW9ucyA9IHt9KTogSUJveFBsb3Qge1xuICBsZXQgbWluID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICBsZXQgbWF4ID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICBsZXQgc3VtID0gMDtcbiAgbGV0IHZhbGlkID0gMDtcbiAgbGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIGNvbnN0IHsgcXVhbnRpbGVzLCBjb2VmIH0gPSBkZXRlcm1pbmVTdGF0c09wdGlvbnMob3B0aW9ucyk7XG5cbiAgLy8gaWYgZml4ZWQgc2l6ZSB1c2UgdGhlIHR5cGVkIGFycmF5IGVsc2UgYSByZWd1bGFyIGFycmF5XG4gIGNvbnN0IHZzID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCB2ID0gZGF0YVtpXTtcbiAgICBpZiAodiA9PSBudWxsIHx8IE51bWJlci5pc05hTih2KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZzW3ZhbGlkXSA9IHY7XG4gICAgdmFsaWQrKztcblxuICAgIGlmICh2IDwgbWluKSB7XG4gICAgICBtaW4gPSB2O1xuICAgIH1cbiAgICBpZiAodiA+IG1heCkge1xuICAgICAgbWF4ID0gdjtcbiAgICB9XG4gICAgc3VtICs9IHY7XG4gIH1cblxuICBjb25zdCBtaXNzaW5nID0gbGVuZ3RoIC0gdmFsaWQ7XG5cbiAgY29uc3QgaW52YWxpZCA9IHtcbiAgICBtaW46IE5hTixcbiAgICBtYXg6IE5hTixcbiAgICBtZWFuOiBOYU4sXG4gICAgbWlzc2luZyxcbiAgICBjb3VudDogbGVuZ3RoLFxuICAgIHdoaXNrZXJIaWdoOiBOYU4sXG4gICAgd2hpc2tlckxvdzogTmFOLFxuICAgIG91dGxpZXI6IFtdLFxuICAgIG1lZGlhbjogTmFOLFxuICAgIHExOiBOYU4sXG4gICAgcTM6IE5hTixcbiAgfTtcblxuICBpZiAodmFsaWQgPT09IDApIHtcbiAgICByZXR1cm4gaW52YWxpZDtcbiAgfVxuXG4gIC8vIGFkZCBjb21wYXJhdG9yIHNpbmNlIHRoZSBwb2x5ZmlsbCBkb2Vzbid0IHRvIGEgcmVhbCBzb3J0aW5nXG4gIGNvbnN0IHMgPSB2cy5zdWJhcnJheSgwLCB2YWxpZCkuc29ydCgoYSwgYikgPT4gKGEgPT09IGIgPyAwIDogYSA8IGIgPyAtMSA6IDEpKTtcbiAgY29uc3QgeyBtZWRpYW4sIHExLCBxMyB9ID0gcXVhbnRpbGVzKHMsIHZhbGlkKTtcbiAgY29uc3QgaXFyID0gcTMgLSBxMTtcbiAgY29uc3QgY29lZlZhbGlkID0gdHlwZW9mIGNvZWYgPT09ICdudW1iZXInICYmIGNvZWYgPiAwO1xuICBjb25zdCBsZWZ0ID0gY29lZlZhbGlkID8gTWF0aC5tYXgobWluLCBxMSAtIGNvZWYgKiBpcXIpIDogbWluO1xuICBjb25zdCByaWdodCA9IGNvZWZWYWxpZCA/IE1hdGgubWluKG1heCwgcTMgKyBjb2VmICogaXFyKSA6IG1heDtcblxuICBjb25zdCBvdXRsaWVyOiBudW1iZXJbXSA9IFtdO1xuICAvLyBsb29rIGZvciB0aGUgY2xvc2VzdCB2YWx1ZSB3aGljaCBpcyBiaWdnZXIgdGhhbiB0aGUgY29tcHV0ZWQgbGVmdFxuICBsZXQgd2hpc2tlckxvdyA9IGxlZnQ7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsaWQ7ICsraSkge1xuICAgIGNvbnN0IHYgPSBzW2ldO1xuICAgIGlmIChsZWZ0IDwgdikge1xuICAgICAgd2hpc2tlckxvdyA9IHY7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gb3V0bGllclxuICAgIGlmIChvdXRsaWVyLmxlbmd0aCA9PT0gMCB8fCBvdXRsaWVyW291dGxpZXIubGVuZ3RoIC0gMV0gIT09IHYpIHtcbiAgICAgIG91dGxpZXIucHVzaCh2KTtcbiAgICB9XG4gIH1cbiAgLy8gbG9vayBmb3IgdGhlIGNsb3Nlc3QgdmFsdWUgd2hpY2ggaXMgc21hbGxlciB0aGFuIHRoZSBjb21wdXRlZCByaWdodFxuICBsZXQgd2hpc2tlckhpZ2ggPSByaWdodDtcbiAgY29uc3QgcmV2ZXJzZWRPdXRsaWVyczogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IHZhbGlkIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICBjb25zdCB2ID0gc1tpXTtcbiAgICBpZiAodiA8IHJpZ2h0KSB7XG4gICAgICB3aGlza2VySGlnaCA9IHY7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gb3V0bGllclxuICAgIGlmIChcbiAgICAgIChyZXZlcnNlZE91dGxpZXJzLmxlbmd0aCA9PT0gMCB8fCByZXZlcnNlZE91dGxpZXJzW3JldmVyc2VkT3V0bGllcnMubGVuZ3RoIC0gMV0gIT09IHYpICYmXG4gICAgICAob3V0bGllci5sZW5ndGggPT09IDAgfHwgb3V0bGllcltvdXRsaWVyLmxlbmd0aCAtIDFdICE9PSB2KVxuICAgICkge1xuICAgICAgcmV2ZXJzZWRPdXRsaWVycy5wdXNoKHYpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWluLFxuICAgIG1heCxcbiAgICBjb3VudDogbGVuZ3RoLFxuICAgIG1pc3NpbmcsXG4gICAgbWVhbjogc3VtIC8gdmFsaWQsXG4gICAgd2hpc2tlckhpZ2gsXG4gICAgd2hpc2tlckxvdyxcbiAgICBvdXRsaWVyOiBvdXRsaWVyLmNvbmNhdChyZXZlcnNlZE91dGxpZXJzLnJldmVyc2UoKSksXG4gICAgbWVkaWFuLFxuICAgIHExLFxuICAgIHEzLFxuICB9O1xufVxuIiwiLyoqXG4gKiBAdXBzZXRqcy9hZGRvbnNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZDIodjogbnVtYmVyKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHYgKiAxMDApIC8gMTAwO1xufVxudHJ5IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcm91bmQyLmRpc3BsYXlOYW1lID0gXCJyb3VuZDJcIjtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcm91bmQyLl9fZG9jZ2VuSW5mbyA9IHsgXCJkZXNjcmlwdGlvblwiOiBcIkB1cHNldGpzIC9hZGRvbnNcXG5odHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXFxuXFxuQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbVxcbkBzZ3JhdHpsIC5jb20+XCIsIFwiZGlzcGxheU5hbWVcIjogXCJyb3VuZDJcIiwgXCJwcm9wc1wiOiB7IFwidG9TdHJpbmdcIjogeyBcImRlZmF1bHRWYWx1ZVwiOiBudWxsLCBcImRlc2NyaXB0aW9uXCI6IFwiUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBvYmplY3QuXFxuQHBhcmFtIHJhZGl4IFNwZWNpZmllcyBhIHJhZGl4IGZvciBjb252ZXJ0aW5nIG51bWVyaWMgdmFsdWVzIHRvIHN0cmluZ3MuIFRoaXMgdmFsdWUgaXMgb25seSB1c2VkIGZvciBudW1iZXJzLlwiLCBcIm5hbWVcIjogXCJ0b1N0cmluZ1wiLCBcInJlcXVpcmVkXCI6IGZhbHNlLCBcInR5cGVcIjogeyBcIm5hbWVcIjogXCIocmFkaXg/OiBudW1iZXIpID0+IHN0cmluZ1wiIH0gfSwgXCJ0b0ZpeGVkXCI6IHsgXCJkZWZhdWx0VmFsdWVcIjogbnVsbCwgXCJkZXNjcmlwdGlvblwiOiBcIlJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgbnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uLlxcbkBwYXJhbSBmcmFjdGlvbkRpZ2l0cyBOdW1iZXIgb2YgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBNdXN0IGJlIGluIHRoZSByYW5nZSAwIC0gMjAsIGluY2x1c2l2ZS5cIiwgXCJuYW1lXCI6IFwidG9GaXhlZFwiLCBcInJlcXVpcmVkXCI6IHRydWUsIFwidHlwZVwiOiB7IFwibmFtZVwiOiBcIihmcmFjdGlvbkRpZ2l0cz86IG51bWJlcikgPT4gc3RyaW5nXCIgfSB9LCBcInRvRXhwb25lbnRpYWxcIjogeyBcImRlZmF1bHRWYWx1ZVwiOiBudWxsLCBcImRlc2NyaXB0aW9uXCI6IFwiUmV0dXJucyBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyIHJlcHJlc2VudGVkIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxcbkBwYXJhbSBmcmFjdGlvbkRpZ2l0cyBOdW1iZXIgb2YgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBNdXN0IGJlIGluIHRoZSByYW5nZSAwIC0gMjAsIGluY2x1c2l2ZS5cIiwgXCJuYW1lXCI6IFwidG9FeHBvbmVudGlhbFwiLCBcInJlcXVpcmVkXCI6IHRydWUsIFwidHlwZVwiOiB7IFwibmFtZVwiOiBcIihmcmFjdGlvbkRpZ2l0cz86IG51bWJlcikgPT4gc3RyaW5nXCIgfSB9LCBcInRvUHJlY2lzaW9uXCI6IHsgXCJkZWZhdWx0VmFsdWVcIjogbnVsbCwgXCJkZXNjcmlwdGlvblwiOiBcIlJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlciByZXByZXNlbnRlZCBlaXRoZXIgaW4gZXhwb25lbnRpYWwgb3IgZml4ZWQtcG9pbnQgbm90YXRpb24gd2l0aCBhIHNwZWNpZmllZCBudW1iZXIgb2YgZGlnaXRzLlxcbkBwYXJhbSBwcmVjaXNpb24gTnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cy4gTXVzdCBiZSBpbiB0aGUgcmFuZ2UgMSAtIDIxLCBpbmNsdXNpdmUuXCIsIFwibmFtZVwiOiBcInRvUHJlY2lzaW9uXCIsIFwicmVxdWlyZWRcIjogdHJ1ZSwgXCJ0eXBlXCI6IHsgXCJuYW1lXCI6IFwiKHByZWNpc2lvbj86IG51bWJlcikgPT4gc3RyaW5nXCIgfSB9LCBcInZhbHVlT2ZcIjogeyBcImRlZmF1bHRWYWx1ZVwiOiBudWxsLCBcImRlc2NyaXB0aW9uXCI6IFwiUmV0dXJucyB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgb2JqZWN0LlwiLCBcIm5hbWVcIjogXCJ2YWx1ZU9mXCIsIFwicmVxdWlyZWRcIjogZmFsc2UsIFwidHlwZVwiOiB7IFwibmFtZVwiOiBcIigpID0+IG51bWJlclwiIH0gfSwgXCJ0b0xvY2FsZVN0cmluZ1wiOiB7IFwiZGVmYXVsdFZhbHVlXCI6IG51bGwsIFwiZGVzY3JpcHRpb25cIjogXCJDb252ZXJ0cyBhIG51bWJlciB0byBhIHN0cmluZyBieSB1c2luZyB0aGUgY3VycmVudCBvciBzcGVjaWZpZWQgbG9jYWxlLlxcbkBwYXJhbSBsb2NhbGVzIEEgbG9jYWxlIHN0cmluZyBvciBhcnJheSBvZiBsb2NhbGUgc3RyaW5ncyB0aGF0IGNvbnRhaW4gb25lIG9yIG1vcmUgbGFuZ3VhZ2Ugb3IgbG9jYWxlIHRhZ3MuIElmIHlvdSBpbmNsdWRlIG1vcmUgdGhhbiBvbmUgbG9jYWxlIHN0cmluZywgbGlzdCB0aGVtIGluIGRlc2NlbmRpbmcgb3JkZXIgb2YgcHJpb3JpdHkgc28gdGhhdCB0aGUgZmlyc3QgZW50cnkgaXMgdGhlIHByZWZlcnJlZCBsb2NhbGUuIElmIHlvdSBvbWl0IHRoaXMgcGFyYW1ldGVyLCB0aGUgZGVmYXVsdCBsb2NhbGUgb2YgdGhlIEphdmFTY3JpcHQgcnVudGltZSBpcyB1c2VkLlxcbkBwYXJhbSBvcHRpb25zIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIG9uZSBvciBtb3JlIHByb3BlcnRpZXMgdGhhdCBzcGVjaWZ5IGNvbXBhcmlzb24gb3B0aW9ucy5cIiwgXCJuYW1lXCI6IFwidG9Mb2NhbGVTdHJpbmdcIiwgXCJyZXF1aXJlZFwiOiBmYWxzZSwgXCJ0eXBlXCI6IHsgXCJuYW1lXCI6IFwiKGxvY2FsZXM/OiBzdHJpbmcgfCBzdHJpbmdbXSwgb3B0aW9ucz86IE51bWJlckZvcm1hdE9wdGlvbnMpID0+IHN0cmluZ1wiIH0gfSB9IH07XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmICh0eXBlb2YgU1RPUllCT09LX1JFQUNUX0NMQVNTRVMgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgU1RPUllCT09LX1JFQUNUX0NMQVNTRVNbXCJzcmMvY29tcG9uZW50cy91dGlscy50cyNyb3VuZDJcIl0gPSB7IGRvY2dlbkluZm86IHJvdW5kMi5fX2RvY2dlbkluZm8sIG5hbWU6IFwicm91bmQyXCIsIHBhdGg6IFwic3JjL2NvbXBvbmVudHMvdXRpbHMudHMjcm91bmQyXCIgfTtcbn1cbmNhdGNoIChfX3JlYWN0X2RvY2dlbl90eXBlc2NyaXB0X2xvYWRlcl9lcnJvcikgeyB9IiwiLyoqXG4gKiBAdXBzZXRqcy9hZGRvbnNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCBSZWFjdCwgeyBDU1NQcm9wZXJ0aWVzIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXBTZXRBZGRvbiwgSVNldExpa2UgfSBmcm9tICdAdXBzZXRqcy9yZWFjdCc7XG5pbXBvcnQgeyBib3hwbG90LCBCb3hwbG90U3RhdHNPcHRpb25zLCBub3JtYWxpemUsIGRlbm9ybWFsaXplIH0gZnJvbSAnQHVwc2V0anMvbWF0aCc7XG5pbXBvcnQgeyByb3VuZDIgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBJQm94cGxvdFN0eWxlUHJvcHMgZXh0ZW5kcyBCb3hwbG90U3RhdHNPcHRpb25zIHtcbiAgdGhlbWU/OiAnbGlnaHQnIHwgJ2RhcmsnO1xuICAvKipcbiAgICogdGhlIHJlbmRlciBtb2RlIGFuZCBsZXZlbCBvZiBkZXRhaWwgdG8gcmVuZGVyXG4gICAqIEBkZWZhdWx0IG5vcm1hbFxuICAgKi9cbiAgbW9kZT86ICdub3JtYWwnIHwgJ2JveCcgfCAnaW5kaWNhdG9yJztcbiAgLyoqXG4gICAqIG9yaWVudGF0aW9uIG9mIHRoZSBib3ggcGxvdFxuICAgKiBAZGVmYXVsdCBob3Jpem9udGFsXG4gICAqL1xuICBvcmllbnQ/OiAnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnO1xuICAvKipcbiAgICogY3VzdG9tIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBib3ggZWxlbWVudFxuICAgKi9cbiAgYm94U3R5bGU/OiBDU1NQcm9wZXJ0aWVzO1xuICAvKipcbiAgICogY3VzdG9tIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSB3aGlza2VyIGVsZW1lbnRcbiAgICovXG4gIGxpbmVTdHlsZT86IENTU1Byb3BlcnRpZXM7XG4gIC8qKlxuICAgKiBjdXN0b20gc3R5bGVzIGFwcGxpZWQgdG8gdGhlIG91dGxpZXIgZWxlbWVudHNcbiAgICovXG4gIG91dGxpZXJTdHlsZT86IENTU1Byb3BlcnRpZXM7XG4gIC8qKlxuICAgKiBwYWRkaW5nIG9mIHRoZSBib3ggZnJvbSBpdHMgY29ybmVyc1xuICAgKiBAZGVmYXVsdCAwLjFcbiAgICovXG4gIGJveFBhZGRpbmc/OiBudW1iZXI7XG4gIC8qKlxuICAgKiByYWRpdXMgb2YgdGhlIG91dGxpZXIgY2lyY2xlc1xuICAgKiBAZGVmYXVsdCAzXG4gICAqL1xuICBvdXRsaWVyUmFkaXVzPzogbnVtYmVyO1xuICAvKipcbiAgICogbnVtYmVyIGZvcm1hdCB1c2VkIGZvciB0aGUgdG9vbHRpcFxuICAgKiBAZGVmYXVsdCAudG9GaXhlZCgyKVxuICAgKi9cbiAgbnVtYmVyRm9ybWF0Pyh2OiBudW1iZXIpOiBzdHJpbmc7XG59XG5cbmRlY2xhcmUgdHlwZSBCb3hwbG90UHJvcHMgPSB7XG4gIC8qKlxuICAgKiB0aGUgdmFsdWVzIHRvIHJlbmRlciBhcyBhIGJveCBwbG90XG4gICAqL1xuICB2YWx1ZXM6IG51bWJlcltdO1xuICAvKipcbiAgICogd2lkdGggb2YgdGhlIGJveCBwbG90XG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xuICAvKipcbiAgICogaGVpZ2h0IG9mIHRoZSBib3ggcGxvdFxuICAgKi9cbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBkb21haW4gbWluaW11bSB2YWx1ZVxuICAgKi9cbiAgbWluOiBudW1iZXI7XG4gIC8qKlxuICAgKiBkb21haW4gbWF4aW11bSB2YWx1ZVxuICAgKi9cbiAgbWF4OiBudW1iZXI7XG5cbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG59ICYgSUJveHBsb3RTdHlsZVByb3BzO1xuXG5leHBvcnQgY29uc3QgQm94cGxvdCA9ICh7XG4gIHRoZW1lID0gJ2xpZ2h0JyxcbiAgbW9kZSA9ICdub3JtYWwnLFxuICB2YWx1ZXMsXG4gIG9yaWVudCA9ICdob3Jpem9udGFsJyxcbiAgd2lkdGg6IHcsXG4gIGhlaWdodDogaCxcbiAgbWluLFxuICBtYXgsXG4gIGJveFN0eWxlLFxuICBsaW5lU3R5bGUsXG4gIG91dGxpZXJTdHlsZSxcbiAgYm94UGFkZGluZzogYnBwID0gMC4xLFxuICBvdXRsaWVyUmFkaXVzID0gMyxcbiAgbnVtYmVyRm9ybWF0OiBuZiA9ICh2KSA9PiB2LnRvRml4ZWQoMiksXG4gIC4uLm9wdGlvbnNcbn06IEJveHBsb3RQcm9wcykgPT4ge1xuICBjb25zdCBiID0gYm94cGxvdCh2YWx1ZXMsIG9wdGlvbnMpO1xuICBpZiAoTnVtYmVyLmlzTmFOKGIubWVkaWFuKSkge1xuICAgIHJldHVybiA8Zz48L2c+O1xuICB9XG4gIGNvbnN0IG8gPSBtb2RlID09PSAnaW5kaWNhdG9yJyA/IDEgOiAwOyAvLyBldmVyeXRoaW5nIG9uZSBwaXhlbCBpbm5lciBpZiBqdXN0IHRoZSBpbmRpY2F0b3JcbiAgY29uc3QgaG9yID0gb3JpZW50ID09PSAnaG9yaXpvbnRhbCc7XG4gIGNvbnN0IG4gPSBub3JtYWxpemUoW21pbiwgbWF4XSk7XG4gIGNvbnN0IGRuID0gZGVub3JtYWxpemUoWzAsIGhvciA/IHcgOiBoXSk7XG4gIGNvbnN0IHNjYWxlID0gKHY6IG51bWJlcikgPT4gcm91bmQyKGRuKG4odikpKTtcblxuICBjb25zdCBzID0ge1xuICAgIG1heDogc2NhbGUoYi5tYXgpLFxuICAgIGF2Zzogc2NhbGUoYi5tZWFuKSxcbiAgICBtZWQ6IHNjYWxlKGIubWVkaWFuKSxcbiAgICBtaW46IHNjYWxlKGIubWluKSxcbiAgICBxMTogc2NhbGUoYi5xMSksXG4gICAgcTM6IHNjYWxlKGIucTMpLFxuICAgIHdoOiBzY2FsZShiLndoaXNrZXJIaWdoKSxcbiAgICB3bDogc2NhbGUoYi53aGlza2VyTG93KSxcbiAgfTtcblxuICBjb25zdCB0aXRsZSA9IChcbiAgICA8dGl0bGU+e2BNaW46ICR7bmYoYi5taW4pfSwgMjUlIFF1YW50aWxlOiAke25mKGIucTEpfSwgTWVkaWFuOiAke25mKGIubWVkaWFuKX0sIDc1JSBRdWFudGlsZTogJHtuZihcbiAgICAgIGIucTNcbiAgICApfSwgTWF4OiAke25mKGIubWF4KX1gfTwvdGl0bGU+XG4gICk7XG4gIGNvbnN0IGlubmVyID0gdGhlbWUgPT09ICdsaWdodCcgPyAnI2QzZDNkMycgOiAnIzY2NjY2Nic7XG4gIGNvbnN0IHN0eWxlcyA9IHtcbiAgICBib3g6IE9iamVjdC5hc3NpZ24oeyBmaWxsOiBpbm5lciB9LCBib3hTdHlsZSksXG4gICAgbGluZTogT2JqZWN0LmFzc2lnbih7IGZpbGw6ICdub25lJywgc3Ryb2tlOiB0aGVtZSA9PT0gJ2xpZ2h0JyA/ICdibGFjaycgOiAnI2NjY2NjYycgfSwgbGluZVN0eWxlKSxcbiAgICBvdXRsaWVyOiBPYmplY3QuYXNzaWduKHsgZmlsbDogaW5uZXIgfSwgb3V0bGllclN0eWxlKSxcbiAgfTtcblxuICBpZiAoaG9yKSB7XG4gICAgY29uc3QgYyA9IGggLyAyO1xuICAgIGNvbnN0IGJwID0gcm91bmQyKGggKiBicHApICsgbztcbiAgICBjb25zdCBocCA9IGggLSBicCAtIG87XG4gICAgY29uc3QgdzEgPSBgTSR7cy53bH0sJHtvfSBsMCwke2ggLSBvICogMn0gTSR7cy53bH0sJHtjfSBMJHtzLnExfSwke2N9YDtcbiAgICBjb25zdCB3MiA9IGBNJHtzLnEzfSwke2N9IEwke3Mud2h9LCR7Y30gTSR7cy53aH0sJHtvfSBMJHtzLndofSwke2ggLSBvfWA7XG4gICAgY29uc3QgYm94ID0gYE0ke3MucTF9LCR7YnB9IEwke3MucTN9LCR7YnB9IEwke3MucTN9LCR7aHB9IEwke3MucTF9LCR7aHB9IEwke3MucTF9LCR7YnB9IE0ke3MubWVkfSwke2JwfSBsMCwke1xuICAgICAgaHAgLSBicFxuICAgIH1gO1xuICAgIGNvbnN0IHAgPSA8cGF0aCBkPXtgJHt3MX0gICR7dzJ9ICR7Ym94fWB9IHN0eWxlPXtzdHlsZXMubGluZX0gLz47XG4gICAgaWYgKG1vZGUgPT09ICdpbmRpY2F0b3InKSB7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxnPlxuICAgICAgICB7dGl0bGV9XG4gICAgICAgIHttb2RlID09PSAnbm9ybWFsJyAmJiA8cmVjdCB4PXtzLnExfSB5PXticH0gd2lkdGg9e3MucTMgLSBzLnExfSBoZWlnaHQ9e2ggLSAyICogYnB9IHN0eWxlPXtzdHlsZXMuYm94fSAvPn1cbiAgICAgICAge3B9O1xuICAgICAgICB7Yi5vdXRsaWVyLm1hcCgobykgPT4gKFxuICAgICAgICAgIDxjaXJjbGUga2V5PXtvfSByPXtvdXRsaWVyUmFkaXVzfSBjeT17Y30gY3g9e3NjYWxlKG8pfSBzdHlsZT17c3R5bGVzLm91dGxpZXJ9PlxuICAgICAgICAgICAgPHRpdGxlPiR7bmYobyl9PC90aXRsZT5cbiAgICAgICAgICA8L2NpcmNsZT5cbiAgICAgICAgKSl9XG4gICAgICA8L2c+XG4gICAgKTtcbiAgfVxuICB7XG4gICAgY29uc3QgYyA9IHcgLyAyO1xuICAgIGNvbnN0IGJwID0gcm91bmQyKHcgKiBicHApICsgbztcbiAgICBjb25zdCB3cCA9IHcgLSBicCAtIG87XG4gICAgY29uc3QgdzEgPSBgTSR7b30sJHtzLndsfSBsJHt3IC0gMiAqIG99LDAgTSR7Y30sJHtzLndsfSBMJHtjfSwke3MucTF9YDtcbiAgICBjb25zdCB3MiA9IGBNJHtjfSwke3MucTN9IEwke2N9LCR7cy53aH0gTSR7b30sJHtzLndofSBMJHt3IC0gb30sJHtzLndofWA7XG4gICAgY29uc3QgYm94ID0gYE0ke2JwfSwke3MucTF9IEwke2JwfSwke3MucTN9IGwke3dwIC0gYnB9LDAgTCR7d3B9LCR7cy5xMX0gTCR7YnB9LCR7cy5xMX0gTSR7YnB9LCR7cy5tZWR9IGwke1xuICAgICAgd3AgLSBicFxuICAgIH0sMGA7XG4gICAgY29uc3QgcCA9IDxwYXRoIGQ9e2Ake3cxfSAke3cyfSAke2JveH1gfSBzdHlsZT17c3R5bGVzLmxpbmV9IC8+O1xuXG4gICAgaWYgKG1vZGUgPT09ICdpbmRpY2F0b3InKSB7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxnPlxuICAgICAgICB7dGl0bGV9XG4gICAgICAgIHttb2RlID09PSAnbm9ybWFsJyAmJiA8cmVjdCB5PXtzLnExfSB4PXticH0gaGVpZ2h0PXtzLnEzIC0gcy5xMX0gd2lkdGg9e3cgLSAyICogYnB9IHN0eWxlPXtzdHlsZXMuYm94fSAvPn1cbiAgICAgICAge3B9XG4gICAgICAgIHtiLm91dGxpZXIubWFwKChvKSA9PiAoXG4gICAgICAgICAgPGNpcmNsZSBrZXk9e299IHI9e291dGxpZXJSYWRpdXN9IGN4PXtjfSBjeT17c2NhbGUobyl9IHN0eWxlPXtzdHlsZXMub3V0bGllcn0+XG4gICAgICAgICAgICA8dGl0bGU+JHtuZihvKX08L3RpdGxlPlxuICAgICAgICAgIDwvY2lyY2xlPlxuICAgICAgICApKX1cbiAgICAgIDwvZz5cbiAgICApO1xuICB9XG59O1xuXG5jb25zdCBCb3hwbG90TWVtbyA9IFJlYWN0Lm1lbW8oQm94cGxvdCk7XG5cbmV4cG9ydCBkZWZhdWx0IEJveHBsb3Q7XG5cbi8qKlxuICogZ2VuZXJhdGVzIGEgYm94cGxvdCBhZGRvbiB0byByZW5kZXIgYm94IHBsb3RzIGFzIFVwU2V0LmpzIGFkZG9uIGZvciBhZ2dyZWdhdGVkIHNldCBkYXRhXG4gKiBAcGFyYW0gcHJvcCBhY2Nlc3NvciBvciBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB3aXRoaW4gdGhlIGVsZW1lbnRcbiAqIEBwYXJhbSBlbGVtcyBsaXN0IG9mIGVsZW1lbnRzIG9yIHRoZWlyIG1pbmltdW0gLyBtYXhpbXVtIHZhbHVlIGZvciBzcGVjaWZ5aW5nIHRoZSBkYXRhIGRvbWFpblxuICogQHBhcmFtIG9wdGlvbnMgYWRkaXRpb25hbCBvcHRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3hwbG90QWRkb248VD4oXG4gIHByb3A6IGtleW9mIFQgfCAoKHY6IFQpID0+IG51bWJlciksXG4gIGVsZW1zOiBSZWFkb25seUFycmF5PFQ+IHwgeyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXIgfSxcbiAge1xuICAgIHNpemUgPSAxMDAsXG4gICAgcG9zaXRpb24sXG4gICAgbmFtZSA9IHByb3AudG9TdHJpbmcoKSxcbiAgICAuLi5leHRyYXNcbiAgfTogUGFydGlhbDxQaWNrPFVwU2V0QWRkb248SVNldExpa2U8VD4sIFQ+LCAnc2l6ZScgfCAncG9zaXRpb24nIHwgJ25hbWUnPj4gJiBJQm94cGxvdFN0eWxlUHJvcHMgPSB7fVxuKTogVXBTZXRBZGRvbjxJU2V0TGlrZTxUPiwgVD4ge1xuICBjb25zdCBhY2MgPSB0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJyA/IHByb3AgOiAodjogVCkgPT4gKHZbcHJvcCBhcyBrZXlvZiBUXSBhcyB1bmtub3duKSBhcyBudW1iZXI7XG4gIGxldCBtaW4gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gIGxldCBtYXggPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gIGlmIChBcnJheS5pc0FycmF5KGVsZW1zKSkge1xuICAgIGVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGNvbnN0IHYgPSBhY2MoZWxlbSk7XG4gICAgICBpZiAodiA9PSBudWxsIHx8IE51bWJlci5pc05hTih2KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodiA8IG1pbikge1xuICAgICAgICBtaW4gPSB2O1xuICAgICAgfVxuICAgICAgaWYgKHYgPiBtYXgpIHtcbiAgICAgICAgbWF4ID0gdjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkID0gZWxlbXMgYXMgeyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXIgfTtcbiAgICBtaW4gPSBkLm1pbjtcbiAgICBtYXggPSBkLm1heDtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgcG9zaXRpb24sXG4gICAgc2l6ZSxcbiAgICByZW5kZXI6ICh7IHdpZHRoLCBoZWlnaHQsIHNldCwgdGhlbWUgfSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWVzID0gc2V0LmVsZW1zLm1hcChhY2MpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEJveHBsb3RNZW1vIHZhbHVlcz17dmFsdWVzfSB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBtaW49e21pbn0gbWF4PXttYXh9IHRoZW1lPXt0aGVtZX0gey4uLmV4dHJhc30gLz5cbiAgICAgICk7XG4gICAgfSxcbiAgICByZW5kZXJTZWxlY3Rpb246ICh7IHdpZHRoLCBoZWlnaHQsIG92ZXJsYXAsIHNlbGVjdGlvbkNvbG9yLCB0aGVtZSB9KSA9PiB7XG4gICAgICBpZiAob3ZlcmxhcCA9PSBudWxsIHx8IG92ZXJsYXAubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gb3ZlcmxhcC5tYXAoYWNjKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxCb3hwbG90TWVtb1xuICAgICAgICAgIHZhbHVlcz17dmFsdWVzfVxuICAgICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgICBtaW49e21pbn1cbiAgICAgICAgICBtYXg9e21heH1cbiAgICAgICAgICBtb2RlPVwiYm94XCJcbiAgICAgICAgICBsaW5lU3R5bGU9e3sgc3Ryb2tlOiBzZWxlY3Rpb25Db2xvciB9fVxuICAgICAgICAgIG91dGxpZXJTdHlsZT17eyBmaWxsOiBzZWxlY3Rpb25Db2xvciB9fVxuICAgICAgICAgIHRoZW1lPXt0aGVtZX1cbiAgICAgICAgICB7Li4uZXh0cmFzfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9LFxuICAgIHJlbmRlclF1ZXJ5OiAoeyB3aWR0aCwgaGVpZ2h0LCBvdmVybGFwLCBxdWVyeSwgc2Vjb25kYXJ5LCB0aGVtZSB9KSA9PiB7XG4gICAgICBpZiAob3ZlcmxhcCA9PSBudWxsIHx8IG92ZXJsYXAubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gb3ZlcmxhcC5tYXAoYWNjKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxCb3hwbG90TWVtb1xuICAgICAgICAgIHZhbHVlcz17dmFsdWVzfVxuICAgICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgICBtaW49e21pbn1cbiAgICAgICAgICBtYXg9e21heH1cbiAgICAgICAgICBtb2RlPXtzZWNvbmRhcnkgPyAnaW5kaWNhdG9yJyA6ICdib3gnfVxuICAgICAgICAgIGxpbmVTdHlsZT17eyBzdHJva2U6IHF1ZXJ5LmNvbG9yIH19XG4gICAgICAgICAgb3V0bGllclN0eWxlPXt7IGZpbGw6IHF1ZXJ5LmNvbG9yIH19XG4gICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgIHsuLi5leHRyYXN9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0sXG4gIH07XG59XG50cnkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBib3hwbG90QWRkb24uZGlzcGxheU5hbWUgPSBcImJveHBsb3RBZGRvblwiO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBib3hwbG90QWRkb24uX19kb2NnZW5JbmZvID0geyBcImRlc2NyaXB0aW9uXCI6IFwiZ2VuZXJhdGVzIGEgYm94cGxvdCBhZGRvbiB0byByZW5kZXIgYm94IHBsb3RzIGFzIFVwU2V0LmpzIGFkZG9uIGZvciBhZ2dyZWdhdGVkIHNldCBkYXRhXFxuQHBhcmFtIHByb3AgYWNjZXNzb3Igb3IgbmFtZSBvZiB0aGUgcHJvcGVydHkgd2l0aGluIHRoZSBlbGVtZW50XFxuQHBhcmFtIGVsZW1zIGxpc3Qgb2YgZWxlbWVudHMgb3IgdGhlaXIgbWluaW11bSAvIG1heGltdW0gdmFsdWUgZm9yIHNwZWNpZnlpbmcgdGhlIGRhdGEgZG9tYWluXFxuQHBhcmFtIG9wdGlvbnMgYWRkaXRpb25hbCBvcHRpb25zXCIsIFwiZGlzcGxheU5hbWVcIjogXCJib3hwbG90QWRkb25cIiwgXCJwcm9wc1wiOiB7fSB9O1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAodHlwZW9mIFNUT1JZQk9PS19SRUFDVF9DTEFTU0VTICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIFNUT1JZQk9PS19SRUFDVF9DTEFTU0VTW1wic3JjL2NvbXBvbmVudHMvQm94cGxvdC50c3gjYm94cGxvdEFkZG9uXCJdID0geyBkb2NnZW5JbmZvOiBib3hwbG90QWRkb24uX19kb2NnZW5JbmZvLCBuYW1lOiBcImJveHBsb3RBZGRvblwiLCBwYXRoOiBcInNyYy9jb21wb25lbnRzL0JveHBsb3QudHN4I2JveHBsb3RBZGRvblwiIH07XG59XG5jYXRjaCAoX19yZWFjdF9kb2NnZW5fdHlwZXNjcmlwdF9sb2FkZXJfZXJyb3IpIHsgfXRyeSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIEJveHBsb3QuZGlzcGxheU5hbWUgPSBcIkJveHBsb3RcIjtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgQm94cGxvdC5fX2RvY2dlbkluZm8gPSB7IFwiZGVzY3JpcHRpb25cIjogXCJcIiwgXCJkaXNwbGF5TmFtZVwiOiBcIkJveHBsb3RcIiwgXCJwcm9wc1wiOiB7IFwidmFsdWVzXCI6IHsgXCJkZWZhdWx0VmFsdWVcIjogbnVsbCwgXCJkZXNjcmlwdGlvblwiOiBcInRoZSB2YWx1ZXMgdG8gcmVuZGVyIGFzIGEgYm94IHBsb3RcIiwgXCJuYW1lXCI6IFwidmFsdWVzXCIsIFwicmVxdWlyZWRcIjogdHJ1ZSwgXCJ0eXBlXCI6IHsgXCJuYW1lXCI6IFwibnVtYmVyW11cIiB9IH0sIFwid2lkdGhcIjogeyBcImRlZmF1bHRWYWx1ZVwiOiBudWxsLCBcImRlc2NyaXB0aW9uXCI6IFwid2lkdGggb2YgdGhlIGJveCBwbG90XCIsIFwibmFtZVwiOiBcIndpZHRoXCIsIFwicmVxdWlyZWRcIjogdHJ1ZSwgXCJ0eXBlXCI6IHsgXCJuYW1lXCI6IFwibnVtYmVyXCIgfSB9LCBcImhlaWdodFwiOiB7IFwiZGVmYXVsdFZhbHVlXCI6IG51bGwsIFwiZGVzY3JpcHRpb25cIjogXCJoZWlnaHQgb2YgdGhlIGJveCBwbG90XCIsIFwibmFtZVwiOiBcImhlaWdodFwiLCBcInJlcXVpcmVkXCI6IHRydWUsIFwidHlwZVwiOiB7IFwibmFtZVwiOiBcIm51bWJlclwiIH0gfSwgXCJtaW5cIjogeyBcImRlZmF1bHRWYWx1ZVwiOiBudWxsLCBcImRlc2NyaXB0aW9uXCI6IFwiZG9tYWluIG1pbmltdW0gdmFsdWVcIiwgXCJuYW1lXCI6IFwibWluXCIsIFwicmVxdWlyZWRcIjogdHJ1ZSwgXCJ0eXBlXCI6IHsgXCJuYW1lXCI6IFwibnVtYmVyXCIgfSB9LCBcIm1heFwiOiB7IFwiZGVmYXVsdFZhbHVlXCI6IG51bGwsIFwiZGVzY3JpcHRpb25cIjogXCJkb21haW4gbWF4aW11bSB2YWx1ZVwiLCBcIm5hbWVcIjogXCJtYXhcIiwgXCJyZXF1aXJlZFwiOiB0cnVlLCBcInR5cGVcIjogeyBcIm5hbWVcIjogXCJudW1iZXJcIiB9IH0sIFwidGhlbWVcIjogeyBcImRlZmF1bHRWYWx1ZVwiOiB7IHZhbHVlOiBcImxpZ2h0XCIgfSwgXCJkZXNjcmlwdGlvblwiOiBcIlwiLCBcIm5hbWVcIjogXCJ0aGVtZVwiLCBcInJlcXVpcmVkXCI6IGZhbHNlLCBcInR5cGVcIjogeyBcIm5hbWVcIjogXCJcXFwibGlnaHRcXFwiIHwgXFxcImRhcmtcXFwiXCIgfSB9LCBcIm1vZGVcIjogeyBcImRlZmF1bHRWYWx1ZVwiOiB7IHZhbHVlOiBcIm5vcm1hbFwiIH0sIFwiZGVzY3JpcHRpb25cIjogXCJ0aGUgcmVuZGVyIG1vZGUgYW5kIGxldmVsIG9mIGRldGFpbCB0byByZW5kZXJcIiwgXCJuYW1lXCI6IFwibW9kZVwiLCBcInJlcXVpcmVkXCI6IGZhbHNlLCBcInR5cGVcIjogeyBcIm5hbWVcIjogXCJcXFwibm9ybWFsXFxcIiB8IFxcXCJib3hcXFwiIHwgXFxcImluZGljYXRvclxcXCJcIiB9IH0sIFwib3JpZW50XCI6IHsgXCJkZWZhdWx0VmFsdWVcIjogeyB2YWx1ZTogXCJob3Jpem9udGFsXCIgfSwgXCJkZXNjcmlwdGlvblwiOiBcIm9yaWVudGF0aW9uIG9mIHRoZSBib3ggcGxvdFwiLCBcIm5hbWVcIjogXCJvcmllbnRcIiwgXCJyZXF1aXJlZFwiOiBmYWxzZSwgXCJ0eXBlXCI6IHsgXCJuYW1lXCI6IFwiXFxcImhvcml6b250YWxcXFwiIHwgXFxcInZlcnRpY2FsXFxcIlwiIH0gfSwgXCJib3hTdHlsZVwiOiB7IFwiZGVmYXVsdFZhbHVlXCI6IG51bGwsIFwiZGVzY3JpcHRpb25cIjogXCJjdXN0b20gc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGJveCBlbGVtZW50XCIsIFwibmFtZVwiOiBcImJveFN0eWxlXCIsIFwicmVxdWlyZWRcIjogZmFsc2UsIFwidHlwZVwiOiB7IFwibmFtZVwiOiBcIkNTU1Byb3BlcnRpZXNcIiB9IH0sIFwibGluZVN0eWxlXCI6IHsgXCJkZWZhdWx0VmFsdWVcIjogbnVsbCwgXCJkZXNjcmlwdGlvblwiOiBcImN1c3RvbSBzdHlsZXMgYXBwbGllZCB0byB0aGUgd2hpc2tlciBlbGVtZW50XCIsIFwibmFtZVwiOiBcImxpbmVTdHlsZVwiLCBcInJlcXVpcmVkXCI6IGZhbHNlLCBcInR5cGVcIjogeyBcIm5hbWVcIjogXCJDU1NQcm9wZXJ0aWVzXCIgfSB9LCBcIm91dGxpZXJTdHlsZVwiOiB7IFwiZGVmYXVsdFZhbHVlXCI6IG51bGwsIFwiZGVzY3JpcHRpb25cIjogXCJjdXN0b20gc3R5bGVzIGFwcGxpZWQgdG8gdGhlIG91dGxpZXIgZWxlbWVudHNcIiwgXCJuYW1lXCI6IFwib3V0bGllclN0eWxlXCIsIFwicmVxdWlyZWRcIjogZmFsc2UsIFwidHlwZVwiOiB7IFwibmFtZVwiOiBcIkNTU1Byb3BlcnRpZXNcIiB9IH0sIFwiYm94UGFkZGluZ1wiOiB7IFwiZGVmYXVsdFZhbHVlXCI6IHsgdmFsdWU6IFwiMC4xXCIgfSwgXCJkZXNjcmlwdGlvblwiOiBcInBhZGRpbmcgb2YgdGhlIGJveCBmcm9tIGl0cyBjb3JuZXJzXCIsIFwibmFtZVwiOiBcImJveFBhZGRpbmdcIiwgXCJyZXF1aXJlZFwiOiBmYWxzZSwgXCJ0eXBlXCI6IHsgXCJuYW1lXCI6IFwibnVtYmVyXCIgfSB9LCBcIm91dGxpZXJSYWRpdXNcIjogeyBcImRlZmF1bHRWYWx1ZVwiOiB7IHZhbHVlOiAzIH0sIFwiZGVzY3JpcHRpb25cIjogXCJyYWRpdXMgb2YgdGhlIG91dGxpZXIgY2lyY2xlc1wiLCBcIm5hbWVcIjogXCJvdXRsaWVyUmFkaXVzXCIsIFwicmVxdWlyZWRcIjogZmFsc2UsIFwidHlwZVwiOiB7IFwibmFtZVwiOiBcIm51bWJlclwiIH0gfSwgXCJudW1iZXJGb3JtYXRcIjogeyBcImRlZmF1bHRWYWx1ZVwiOiB7IHZhbHVlOiBcIi50b0ZpeGVkKDIpXCIgfSwgXCJkZXNjcmlwdGlvblwiOiBcIm51bWJlciBmb3JtYXQgdXNlZCBmb3IgdGhlIHRvb2x0aXBcIiwgXCJuYW1lXCI6IFwibnVtYmVyRm9ybWF0XCIsIFwicmVxdWlyZWRcIjogZmFsc2UsIFwidHlwZVwiOiB7IFwibmFtZVwiOiBcIih2OiBudW1iZXIpID0+IHN0cmluZ1wiIH0gfSwgXCJjb2VmXCI6IHsgXCJkZWZhdWx0VmFsdWVcIjogeyB2YWx1ZTogXCIxLjVcIiB9LCBcImRlc2NyaXB0aW9uXCI6IFwiXCIsIFwibmFtZVwiOiBcImNvZWZcIiwgXCJyZXF1aXJlZFwiOiBmYWxzZSwgXCJ0eXBlXCI6IHsgXCJuYW1lXCI6IFwibnVtYmVyXCIgfSB9LCBcInF1YW50aWxlc1wiOiB7IFwiZGVmYXVsdFZhbHVlXCI6IHsgdmFsdWU6IFwidHlwZTdcIiB9LCBcImRlc2NyaXB0aW9uXCI6IFwiXCIsIFwibmFtZVwiOiBcInF1YW50aWxlc1wiLCBcInJlcXVpcmVkXCI6IGZhbHNlLCBcInR5cGVcIjogeyBcIm5hbWVcIjogXCJcXFwicXVhbnRpbGVzXFxcIiB8IFxcXCJoaW5nZXNcXFwiIHwgXFxcImZpdmVudW1cXFwiIHwgXFxcInR5cGU3XFxcIiB8IFxcXCJsaW5lYXJcXFwiIHwgXFxcImxvd2VyXFxcIiB8IFxcXCJoaWdoZXJcXFwiIHwgXFxcIm5lYXJlc3RcXFwiIHwgXFxcIm1pZHBvaW50XFxcIiB8IEN1c3RvbVF1YW50aWxlTWV0aG9kXCIgfSB9IH0gfTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHR5cGVvZiBTVE9SWUJPT0tfUkVBQ1RfQ0xBU1NFUyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBTVE9SWUJPT0tfUkVBQ1RfQ0xBU1NFU1tcInNyYy9jb21wb25lbnRzL0JveHBsb3QudHN4I0JveHBsb3RcIl0gPSB7IGRvY2dlbkluZm86IEJveHBsb3QuX19kb2NnZW5JbmZvLCBuYW1lOiBcIkJveHBsb3RcIiwgcGF0aDogXCJzcmMvY29tcG9uZW50cy9Cb3hwbG90LnRzeCNCb3hwbG90XCIgfTtcbn1cbmNhdGNoIChfX3JlYWN0X2RvY2dlbl90eXBlc2NyaXB0X2xvYWRlcl9lcnJvcikgeyB9IiwiLyoqXG4gKiBAdXBzZXRqcy9tYXRoXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVub3JtYWxpemUocmFuZ2U6IFtudW1iZXIsIG51bWJlcl0pIHtcbiAgY29uc3QgZGVsdGEgPSByYW5nZVsxXSAtIHJhbmdlWzBdO1xuICByZXR1cm4gKHY6IG51bWJlcikgPT4gdiAqIGRlbHRhICsgcmFuZ2VbMF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5vcm1hbGl6ZShkb21haW46IFtudW1iZXIsIG51bWJlcl0pIHtcbiAgY29uc3QgZGVsdGEgPSBkb21haW5bMV0gLSBkb21haW5bMF07XG4gIHJldHVybiAodjogbnVtYmVyKSA9PiAodiAtIGRvbWFpblswXSkgLyBkZWx0YTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NsaWVudEFwaSA9IHJlcXVpcmUoXCIvaG9tZS9ydW5uZXIvd29yay91cHNldGpzL3Vwc2V0anMvLnlhcm4vJCR2aXJ0dWFsL0BzdG9yeWJvb2stY2xpZW50LWFwaS12aXJ0dWFsLTYyNDVhOGM5MDMvMC9jYWNoZS9Ac3Rvcnlib29rLWNsaWVudC1hcGktbnBtLTYuMC4wLWJldGEuMS1mNjI5YzNiYzMyLTMuemlwL25vZGVfbW9kdWxlcy9Ac3Rvcnlib29rL2NsaWVudC1hcGkvZGlzdC9pbmRleC5qc1wiKTtcblxudmFyIF9jbGllbnRMb2dnZXIgPSByZXF1aXJlKFwiL2hvbWUvcnVubmVyL3dvcmsvdXBzZXRqcy91cHNldGpzLy55YXJuL2NhY2hlL0BzdG9yeWJvb2stY2xpZW50LWxvZ2dlci1ucG0tNi4wLjAtYmV0YS4xLWIzNmY4YmY1OGUtMy56aXAvbm9kZV9tb2R1bGVzL0BzdG9yeWJvb2svY2xpZW50LWxvZ2dlci9kaXN0L2luZGV4LmpzXCIpO1xuXG52YXIgX2NvbmZpZ0ZpbGVuYW1lID0gcmVxdWlyZShcIi9ob21lL3J1bm5lci93b3JrL3Vwc2V0anMvdXBzZXRqcy9wYWNrYWdlcy9hZGRvbnMvLnN0b3J5Ym9vay9wcmV2aWV3LmpzXCIpO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaWYgKF9jb25maWdGaWxlbmFtZS5hcmdzIHx8IF9jb25maWdGaWxlbmFtZS5hcmdUeXBlcykge1xuICBfY2xpZW50TG9nZ2VyLmxvZ2dlci53YXJuKCdJbnZhbGlkIGFyZ3MvYXJnVHlwZXMgaW4gY29uZmlnLCBpZ25vcmluZy4nLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgYXJnczogX2NvbmZpZ0ZpbGVuYW1lLmFyZ3MsXG4gICAgYXJnVHlwZXM6IF9jb25maWdGaWxlbmFtZS5hcmdUeXBlc1xuICB9KSk7XG59XG5cbmlmIChfY29uZmlnRmlsZW5hbWUuZGVjb3JhdG9ycykge1xuICBfY29uZmlnRmlsZW5hbWUuZGVjb3JhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gKDAsIF9jbGllbnRBcGkuYWRkRGVjb3JhdG9yKShkZWNvcmF0b3IpO1xuICB9KTtcbn1cblxuaWYgKF9jb25maWdGaWxlbmFtZS5wYXJhbWV0ZXJzIHx8IF9jb25maWdGaWxlbmFtZS5nbG9iYWxBcmdzIHx8IF9jb25maWdGaWxlbmFtZS5nbG9iYWxBcmdUeXBlcykge1xuICAoMCwgX2NsaWVudEFwaS5hZGRQYXJhbWV0ZXJzKShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9jb25maWdGaWxlbmFtZS5wYXJhbWV0ZXJzKSwge30sIHtcbiAgICBnbG9iYWxBcmdzOiBfY29uZmlnRmlsZW5hbWUuZ2xvYmFsQXJncyxcbiAgICBnbG9iYWxBcmdUeXBlczogX2NvbmZpZ0ZpbGVuYW1lLmdsb2JhbEFyZ1R5cGVzXG4gIH0pKTtcbn1cblxuaWYgKF9jb25maWdGaWxlbmFtZS5hcmdUeXBlc0VuaGFuY2Vycykge1xuICBfY29uZmlnRmlsZW5hbWUuYXJnVHlwZXNFbmhhbmNlcnMuZm9yRWFjaChmdW5jdGlvbiAoZW5oYW5jZXIpIHtcbiAgICByZXR1cm4gKDAsIF9jbGllbnRBcGkuYWRkQXJnVHlwZXNFbmhhbmNlcikoZW5oYW5jZXIpO1xuICB9KTtcbn0iLCJpbXBvcnQgeyBhZGRQYXJhbWV0ZXJzIH0gZnJvbSAnQHN0b3J5Ym9vay9yZWFjdCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVGl0bGUsIFN1YnRpdGxlLCBEZXNjcmlwdGlvbiwgUHJvcHMsIFN0b3JpZXMgfSBmcm9tICdAc3Rvcnlib29rL2FkZG9uLWRvY3MvYmxvY2tzJztcblxuYWRkUGFyYW1ldGVycyh7XG4gIGRvY3M6IHtcbiAgICBwYWdlOiAoKSA9PlxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwge30sIFtcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaXRsZSwge30pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN1YnRpdGxlLCB7fSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVzY3JpcHRpb24sIHt9KSxcbiAgICAgICAgLy8gUmVhY3QuY3JlYXRlRWxlbWVudChTb3VyY2UsIHt9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChQcm9wcywge30pLFxuICAgICAgICAvLyBSZWFjdC5jcmVhdGVFbGVtZW50KFByaW1hcnksIHt9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdG9yaWVzLCB7IGluY2x1ZGVQcmltYXJ5OiB0cnVlIH0pLFxuICAgICAgXSksXG4gIH0sXG59KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ZyYW1ld29yayA9IHJlcXVpcmUoXCJAc3Rvcnlib29rL3JlYWN0XCIpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcbm1vZHVsZS5fU3Rvcnlib29rUHJlc2VydmVEZWNvcmF0b3JzID0gdHJ1ZTtcbigwLCBfZnJhbWV3b3JrLmNvbmZpZ3VyZSkoW3JlcXVpcmUuY29udGV4dCgnLi4vc3JjJywgdHJ1ZSwgL14oPzooPzpcXC5bXFxcXC9dKD89LikpPyg/Oig/IVxcLikoPzooPyEoPzpbXFxcXC9dfF4pXFwuKS4pKj9bXFxcXC9dKT8oPyFcXC4pKD89LilbXlxcXFwvXSo/XFwuc3Rvcmllc1xcLih0c3x0c3gpKD86W1xcXFwvXXwkKSkkLyldLCBtb2R1bGUpOyIsInZhciBtYXAgPSB7XG5cdFwiLi9jb21wb25lbnRzL0FkZG9uLnN0b3JpZXMudHN4XCI6IDE0ODksXG5cdFwiLi9jb21wb25lbnRzL0JveHBsb3Quc3Rvcmllcy50c3hcIjogMTQ4NCxcblx0XCIuL2luZGV4LnN0b3JpZXMudHN4XCI6IDE0ODVcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxNDQwOyIsIlxuICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgIC8vIEB0cy1ub2NoZWNrXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB2YXIgX19TVE9SWV9fID0gXCIvKipcXG4gKiBAdXBzZXRqcy9hZGRvbnNcXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXFxuICpcXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxcbiAqL1xcblxcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XFxuaW1wb3J0IEJveHBsb3QgZnJvbSAnLi9Cb3hwbG90JztcXG5cXG5leHBvcnQgZGVmYXVsdCB7XFxuICBjb21wb25lbnQ6IEJveHBsb3QsXFxuICB0aXRsZTogJ0JveCBwbG90IENvbXBvbmVudCcsXFxufTtcXG5cXG5leHBvcnQgY29uc3QgRGVmYXVsdCA9ICgpID0+IHtcXG4gIGNvbnN0IHZhbHVlcyA9IEFycmF5KDEwMClcXG4gICAgLmZpbGwoMClcXG4gICAgLm1hcCgoKSA9PiBNYXRoLnJhbmRvbSgpKTtcXG4gIHJldHVybiAoXFxuICAgIDxzdmcgd2lkdGg9ezIwMH0gaGVpZ2h0PXs1MH0+XFxuICAgICAgPEJveHBsb3Qgd2lkdGg9ezIwMH0gaGVpZ2h0PXs1MH0gbWluPXswfSBtYXg9ezF9IHZhbHVlcz17dmFsdWVzfSAvPlxcbiAgICA8L3N2Zz5cXG4gICk7XFxufTtcXG5cXG5leHBvcnQgY29uc3QgVmVydGljYWwgPSAoKSA9PiB7XFxuICBjb25zdCB2YWx1ZXMgPSBBcnJheSgxMDApXFxuICAgIC5maWxsKDApXFxuICAgIC5tYXAoKCkgPT4gTWF0aC5yYW5kb20oKSk7XFxuICByZXR1cm4gKFxcbiAgICA8c3ZnIHdpZHRoPXs1MH0gaGVpZ2h0PXsyMDB9PlxcbiAgICAgIDxCb3hwbG90IHdpZHRoPXs1MH0gaGVpZ2h0PXsyMDB9IG1pbj17MH0gbWF4PXsxfSB2YWx1ZXM9e3ZhbHVlc30gb3JpZW50PVxcXCJ2ZXJ0aWNhbFxcXCIgLz5cXG4gICAgPC9zdmc+XFxuICApO1xcbn07XFxuXCI7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB2YXIgX19MT0NBVElPTlNfTUFQX18gPSB7XCJib3gtcGxvdC1jb21wb25lbnQtLWRlZmF1bHRcIjp7XCJzdGFydExvY1wiOntcImNvbFwiOjIzLFwibGluZVwiOjE2fSxcImVuZExvY1wiOntcImNvbFwiOjEsXCJsaW5lXCI6MjV9LFwic3RhcnRCb2R5XCI6e1wiY29sXCI6MjMsXCJsaW5lXCI6MTZ9LFwiZW5kQm9keVwiOntcImNvbFwiOjEsXCJsaW5lXCI6MjV9fSxcImJveC1wbG90LWNvbXBvbmVudC0tdmVydGljYWxcIjp7XCJzdGFydExvY1wiOntcImNvbFwiOjI0LFwibGluZVwiOjI3fSxcImVuZExvY1wiOntcImNvbFwiOjEsXCJsaW5lXCI6MzZ9LFwic3RhcnRCb2R5XCI6e1wiY29sXCI6MjQsXCJsaW5lXCI6Mjd9LFwiZW5kQm9keVwiOntcImNvbFwiOjEsXCJsaW5lXCI6MzZ9fX07XG4gICAgXG4vKipcbiAqIEB1cHNldGpzL2FkZG9uc1xuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCb3hwbG90IGZyb20gJy4vQm94cGxvdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtwYXJhbWV0ZXJzOiB7XCJzdG9yeVNvdXJjZVwiOntcInNvdXJjZVwiOlwiLyoqXFxuICogQHVwc2V0anMvYWRkb25zXFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xcbiAqXFxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cXG4gKi9cXG5cXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xcbmltcG9ydCBCb3hwbG90IGZyb20gJy4vQm94cGxvdCc7XFxuXFxuZXhwb3J0IGRlZmF1bHQge1xcbiAgY29tcG9uZW50OiBCb3hwbG90LFxcbiAgdGl0bGU6ICdCb3ggcGxvdCBDb21wb25lbnQnLFxcbn07XFxuXFxuZXhwb3J0IGNvbnN0IERlZmF1bHQgPSAoKSA9PiB7XFxuICBjb25zdCB2YWx1ZXMgPSBBcnJheSgxMDApXFxuICAgIC5maWxsKDApXFxuICAgIC5tYXAoKCkgPT4gTWF0aC5yYW5kb20oKSk7XFxuICByZXR1cm4gKFxcbiAgICA8c3ZnIHdpZHRoPXsyMDB9IGhlaWdodD17NTB9PlxcbiAgICAgIDxCb3hwbG90IHdpZHRoPXsyMDB9IGhlaWdodD17NTB9IG1pbj17MH0gbWF4PXsxfSB2YWx1ZXM9e3ZhbHVlc30gLz5cXG4gICAgPC9zdmc+XFxuICApO1xcbn07XFxuXFxuZXhwb3J0IGNvbnN0IFZlcnRpY2FsID0gKCkgPT4ge1xcbiAgY29uc3QgdmFsdWVzID0gQXJyYXkoMTAwKVxcbiAgICAuZmlsbCgwKVxcbiAgICAubWFwKCgpID0+IE1hdGgucmFuZG9tKCkpO1xcbiAgcmV0dXJuIChcXG4gICAgPHN2ZyB3aWR0aD17NTB9IGhlaWdodD17MjAwfT5cXG4gICAgICA8Qm94cGxvdCB3aWR0aD17NTB9IGhlaWdodD17MjAwfSBtaW49ezB9IG1heD17MX0gdmFsdWVzPXt2YWx1ZXN9IG9yaWVudD1cXFwidmVydGljYWxcXFwiIC8+XFxuICAgIDwvc3ZnPlxcbiAgKTtcXG59O1xcblwiLFwibG9jYXRpb25zTWFwXCI6e1wiYm94LXBsb3QtY29tcG9uZW50LS1kZWZhdWx0XCI6e1wic3RhcnRMb2NcIjp7XCJjb2xcIjoyMyxcImxpbmVcIjoxNn0sXCJlbmRMb2NcIjp7XCJjb2xcIjoxLFwibGluZVwiOjI1fSxcInN0YXJ0Qm9keVwiOntcImNvbFwiOjIzLFwibGluZVwiOjE2fSxcImVuZEJvZHlcIjp7XCJjb2xcIjoxLFwibGluZVwiOjI1fX0sXCJib3gtcGxvdC1jb21wb25lbnQtLXZlcnRpY2FsXCI6e1wic3RhcnRMb2NcIjp7XCJjb2xcIjoyNCxcImxpbmVcIjoyN30sXCJlbmRMb2NcIjp7XCJjb2xcIjoxLFwibGluZVwiOjM2fSxcInN0YXJ0Qm9keVwiOntcImNvbFwiOjI0LFwibGluZVwiOjI3fSxcImVuZEJvZHlcIjp7XCJjb2xcIjoxLFwibGluZVwiOjM2fX19fSx9LFxuICBjb21wb25lbnQ6IEJveHBsb3QsXG4gIHRpdGxlOiAnQm94IHBsb3QgQ29tcG9uZW50Jyxcbn07XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0ID0gKCkgPT4ge1xuICBjb25zdCB2YWx1ZXMgPSBBcnJheSgxMDApXG4gICAgLmZpbGwoMClcbiAgICAubWFwKCgpID0+IE1hdGgucmFuZG9tKCkpO1xuICByZXR1cm4gKFxuICAgIDxzdmcgd2lkdGg9ezIwMH0gaGVpZ2h0PXs1MH0+XG4gICAgICA8Qm94cGxvdCB3aWR0aD17MjAwfSBoZWlnaHQ9ezUwfSBtaW49ezB9IG1heD17MX0gdmFsdWVzPXt2YWx1ZXN9IC8+XG4gICAgPC9zdmc+XG4gICk7XG59OztcblxuZXhwb3J0IGNvbnN0IFZlcnRpY2FsID0gKCkgPT4ge1xuICBjb25zdCB2YWx1ZXMgPSBBcnJheSgxMDApXG4gICAgLmZpbGwoMClcbiAgICAubWFwKCgpID0+IE1hdGgucmFuZG9tKCkpO1xuICByZXR1cm4gKFxuICAgIDxzdmcgd2lkdGg9ezUwfSBoZWlnaHQ9ezIwMH0+XG4gICAgICA8Qm94cGxvdCB3aWR0aD17NTB9IGhlaWdodD17MjAwfSBtaW49ezB9IG1heD17MX0gdmFsdWVzPXt2YWx1ZXN9IG9yaWVudD1cInZlcnRpY2FsXCIgLz5cbiAgICA8L3N2Zz5cbiAgKTtcbn07XG4iLCIvKipcbiAqIEB1cHNldGpzL2FkZG9uc1xuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuICB0aXRsZTogJ1dlbGNvbWUgVXBTZXQuanMgUmVhY3QgQm94IFBsb3QgQWRkb24nLFxufTtcbnRyeSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGluZGV4c3Rvcmllcy5kaXNwbGF5TmFtZSA9IFwiaW5kZXhzdG9yaWVzXCI7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGluZGV4c3Rvcmllcy5fX2RvY2dlbkluZm8gPSB7IFwiZGVzY3JpcHRpb25cIjogXCJAdXBzZXRqcyAvYWRkb25zXFxuaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xcblxcbkNvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1cXG5Ac2dyYXR6bCAuY29tPlwiLCBcImRpc3BsYXlOYW1lXCI6IFwiaW5kZXhzdG9yaWVzXCIsIFwicHJvcHNcIjoge30gfTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHR5cGVvZiBTVE9SWUJPT0tfUkVBQ1RfQ0xBU1NFUyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBTVE9SWUJPT0tfUkVBQ1RfQ0xBU1NFU1tcInNyYy9pbmRleC5zdG9yaWVzLnRzeCNpbmRleHN0b3JpZXNcIl0gPSB7IGRvY2dlbkluZm86IGluZGV4c3Rvcmllcy5fX2RvY2dlbkluZm8sIG5hbWU6IFwiaW5kZXhzdG9yaWVzXCIsIHBhdGg6IFwic3JjL2luZGV4LnN0b3JpZXMudHN4I2luZGV4c3Rvcmllc1wiIH07XG59XG5jYXRjaCAoX19yZWFjdF9kb2NnZW5fdHlwZXNjcmlwdF9sb2FkZXJfZXJyb3IpIHsgfSIsIi8qKlxuICogQHVwc2V0anMvbW9kZWxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmV4cG9ydCBkZWNsYXJlIHR5cGUgU2V0T3ZlcmxhcCA9IHtcbiAgc2V0QTogbnVtYmVyO1xuICBzZXRCOiBudW1iZXI7XG4gIHVuaW9uOiBudW1iZXI7XG4gIGludGVyc2VjdGlvbjogbnVtYmVyO1xufTtcblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBTZXRFbGVtT3ZlcmxhcDxUPiA9IHtcbiAgc2V0QTogUmVhZG9ubHlBcnJheTxUPjtcbiAgc2V0QjogUmVhZG9ubHlBcnJheTxUPjtcbiAgdW5pb246IFJlYWRvbmx5QXJyYXk8VD47XG4gIGludGVyc2VjdGlvbjogUmVhZG9ubHlBcnJheTxUPjtcbn07XG5cbmZ1bmN0aW9uIGxlbjxUPihhOiBTZXQ8VD4gfCBSZWFkb25seUFycmF5PFQ+KSB7XG4gIHJldHVybiBhIGluc3RhbmNlb2YgU2V0ID8gYS5zaXplIDogYS5sZW5ndGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPdmVybGFwRmFjdG9yeTxUPihhOiBTZXQ8VD4gfCBSZWFkb25seUFycmF5PFQ+LCB0b0VsZW1LZXk/OiAoZTogVCkgPT4gc3RyaW5nKSB7XG4gIGNvbnN0IGVsZW1zID0gIXRvRWxlbUtleVxuICAgID8gYSBpbnN0YW5jZW9mIFNldFxuICAgICAgPyBhXG4gICAgICA6IG5ldyBTZXQoYSlcbiAgICA6IG5ldyBTZXQoKGEgaW5zdGFuY2VvZiBTZXQgPyBBcnJheS5mcm9tKGEpIDogYSkubWFwKHRvRWxlbUtleSkpO1xuICBjb25zdCBzZXRBID0gZWxlbXMuc2l6ZTtcbiAgY29uc3Qgc2FtZTogU2V0T3ZlcmxhcCA9IHtcbiAgICBzZXRBLFxuICAgIHNldEI6IHNldEEsXG4gICAgdW5pb246IHNldEEsXG4gICAgaW50ZXJzZWN0aW9uOiBzZXRBLFxuICB9O1xuXG4gIHJldHVybiAoYjogU2V0PFQ+IHwgUmVhZG9ubHlBcnJheTxUPik6IFNldE92ZXJsYXAgPT4ge1xuICAgIGlmIChiID09PSBhKSB7XG4gICAgICByZXR1cm4gc2FtZTtcbiAgICB9XG4gICAgbGV0IGludGVyc2VjdGlvbiA9IDA7XG4gICAgYi5mb3JFYWNoKChlOiBUKSA9PiB7XG4gICAgICBpZiAoKHRvRWxlbUtleSAmJiAoZWxlbXMgYXMgU2V0PHN0cmluZz4pLmhhcyh0b0VsZW1LZXkoZSkpKSB8fCAoIXRvRWxlbUtleSAmJiAoZWxlbXMgYXMgU2V0PFQ+KS5oYXMoZSkpKSB7XG4gICAgICAgIGludGVyc2VjdGlvbisrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHNldEIgPSBsZW4oYik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldEEsXG4gICAgICBzZXRCLFxuICAgICAgaW50ZXJzZWN0aW9uLFxuICAgICAgdW5pb246IHNldEEgKyBzZXRCIC0gaW50ZXJzZWN0aW9uLFxuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldE92ZXJsYXA8VD4oXG4gIGE6IFNldDxUPiB8IFJlYWRvbmx5QXJyYXk8VD4sXG4gIGI6IFNldDxUPiB8IFJlYWRvbmx5QXJyYXk8VD4sXG4gIHRvRWxlbUtleT86IChlOiBUKSA9PiBzdHJpbmdcbikge1xuICBpZiAobGVuKGEpIDwgbGVuKGIpIHx8IGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICByZXR1cm4gc2V0T3ZlcmxhcEZhY3RvcnkoYSwgdG9FbGVtS2V5KShiKTtcbiAgfVxuICBjb25zdCByID0gc2V0T3ZlcmxhcEZhY3RvcnkoYiwgdG9FbGVtS2V5KShhKTtcbiAgLy8gc3dhcCBiYWNrXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCByLCB7XG4gICAgc2V0QTogci5zZXRCLFxuICAgIHNldEI6IHIuc2V0QSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRFbGVtT3ZlcmxhcEZhY3Rvcnk8VD4oYTogU2V0PFQ+IHwgUmVhZG9ubHlBcnJheTxUPiwgdG9FbGVtS2V5PzogKGU6IFQpID0+IHN0cmluZykge1xuICBjb25zdCBlbGVtcyA9ICF0b0VsZW1LZXlcbiAgICA/IGEgaW5zdGFuY2VvZiBTZXRcbiAgICAgID8gYVxuICAgICAgOiBuZXcgU2V0KGEpXG4gICAgOiBuZXcgU2V0KChhIGluc3RhbmNlb2YgU2V0ID8gQXJyYXkuZnJvbShhKSA6IGEpLm1hcCh0b0VsZW1LZXkpKTtcbiAgY29uc3Qgc2V0QTogUmVhZG9ubHlBcnJheTxUPiA9IEFycmF5LmlzQXJyYXkoYSkgPyBhIDogQXJyYXkuZnJvbShhKTtcbiAgY29uc3Qgc2FtZTogU2V0RWxlbU92ZXJsYXA8VD4gPSB7XG4gICAgc2V0QSxcbiAgICBzZXRCOiBzZXRBLFxuICAgIHVuaW9uOiBzZXRBLFxuICAgIGludGVyc2VjdGlvbjogc2V0QSxcbiAgfTtcblxuICByZXR1cm4gKGI6IFNldDxUPiB8IFJlYWRvbmx5QXJyYXk8VD4pOiBTZXRFbGVtT3ZlcmxhcDxUPiA9PiB7XG4gICAgaWYgKGIgPT09IGEpIHtcbiAgICAgIHJldHVybiBzYW1lO1xuICAgIH1cbiAgICBjb25zdCBpbnRlcnNlY3Rpb246IFRbXSA9IFtdO1xuICAgIGNvbnN0IHVuaW9uOiBUW10gPSBzZXRBLnNsaWNlKCk7XG4gICAgYi5mb3JFYWNoKChlOiBUKSA9PiB7XG4gICAgICBpZiAoKHRvRWxlbUtleSAmJiAoZWxlbXMgYXMgU2V0PHN0cmluZz4pLmhhcyh0b0VsZW1LZXkoZSkpKSB8fCAoIXRvRWxlbUtleSAmJiAoZWxlbXMgYXMgU2V0PFQ+KS5oYXMoZSkpKSB7XG4gICAgICAgIGludGVyc2VjdGlvbi5wdXNoKGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5pb24ucHVzaChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgc2V0QTogc2V0QSxcbiAgICAgIHNldEI6IEFycmF5LmlzQXJyYXkoYikgPyBiIDogQXJyYXkuZnJvbShiKSxcbiAgICAgIGludGVyc2VjdGlvbixcbiAgICAgIHVuaW9uLFxuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRFbGVtT3ZlcmxhcDxUPihcbiAgYTogU2V0PFQ+IHwgUmVhZG9ubHlBcnJheTxUPixcbiAgYjogU2V0PFQ+IHwgUmVhZG9ubHlBcnJheTxUPixcbiAgdG9FbGVtS2V5PzogKGU6IFQpID0+IHN0cmluZ1xuKSB7XG4gIGlmIChsZW4oYSkgPCBsZW4oYikgfHwgYSBpbnN0YW5jZW9mIFNldCkge1xuICAgIHJldHVybiBzZXRFbGVtT3ZlcmxhcEZhY3RvcnkoYSwgdG9FbGVtS2V5KShiKTtcbiAgfVxuICBjb25zdCByID0gc2V0RWxlbU92ZXJsYXBGYWN0b3J5KGIsIHRvRWxlbUtleSkoYSk7XG4gIC8vIHN3YXAgYmFja1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgciwge1xuICAgIHNldEE6IHIuc2V0QixcbiAgICBzZXRCOiByLnNldEEsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RWxlbUludGVyc2VjdGlvbkZhY3Rvcnk8VD4oYTogU2V0PFQ+IHwgUmVhZG9ubHlBcnJheTxUPiwgdG9FbGVtS2V5PzogKGU6IFQpID0+IHN0cmluZykge1xuICBjb25zdCBhcnIgPSBhIGluc3RhbmNlb2YgU2V0ID8gQXJyYXkuZnJvbShhKSA6IGE7XG4gIGNvbnN0IGVsZW1zID0gIXRvRWxlbUtleSA/IChhIGluc3RhbmNlb2YgU2V0ID8gYSA6IG5ldyBTZXQoYSkpIDogbmV3IFNldChhcnIubWFwKHRvRWxlbUtleSkpO1xuICByZXR1cm4gKGI6IFNldDxUPiB8IFJlYWRvbmx5QXJyYXk8VD4pOiBSZWFkb25seUFycmF5PFQ+ID0+IHtcbiAgICBpZiAoYiA9PT0gYSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uOiBUW10gPSBbXTtcbiAgICBiLmZvckVhY2goKGU6IFQpID0+IHtcbiAgICAgIGlmICgodG9FbGVtS2V5ICYmIChlbGVtcyBhcyBTZXQ8c3RyaW5nPikuaGFzKHRvRWxlbUtleShlKSkpIHx8ICghdG9FbGVtS2V5ICYmIChlbGVtcyBhcyBTZXQ8VD4pLmhhcyhlKSkpIHtcbiAgICAgICAgaW50ZXJzZWN0aW9uLnB1c2goZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGludGVyc2VjdGlvbjtcbiAgfTtcbn1cbiIsIi8qKlxuICogQHVwc2V0anMvbW9kZWxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCB7IElTZXRMaWtlIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQge1xuICBzZXRPdmVybGFwRmFjdG9yeSxcbiAgU2V0T3ZlcmxhcCxcbiAgc2V0RWxlbU92ZXJsYXBGYWN0b3J5LFxuICBTZXRFbGVtT3ZlcmxhcCxcbiAgc2V0RWxlbUludGVyc2VjdGlvbkZhY3RvcnksXG59IGZyb20gJy4vZGF0YS9zZXRPdmVybGFwJztcblxuZXhwb3J0IHR5cGUgVXBTZXRFbGVtUXVlcnk8VCA9IGFueT4gPSB7XG4gIC8qKlxuICAgKiBuYW1lIG9mIHRoaXMgcXVlcnkgZm9yIHRoZSB0b29sdGlwXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBjb2xvciBmb3IgaGlnaGxpZ2h0aW5nXG4gICAqL1xuICBjb2xvcjogc3RyaW5nO1xuICAvKipcbiAgICogZWxlbWVudHMgd2l0aGluIHRoaXMgcXVlcnlcbiAgICovXG4gIGVsZW1zOiBSZWFkb25seUFycmF5PFQ+IHwgU2V0PFQ+O1xufTtcblxuZXhwb3J0IHR5cGUgVXBTZXRTZXRRdWVyeTxUID0gYW55PiA9IHtcbiAgLyoqXG4gICAqIG5hbWUgb2YgdGhpcyBxdWVyeSBmb3IgdGhlIHRvb2x0aXBcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIGNvbG9yIGZvciBoaWdobGlnaHRpbmdcbiAgICovXG4gIGNvbG9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBzZXQgdG8gaGlnaGxpZ2h0XG4gICAqL1xuICBzZXQ6IElTZXRMaWtlPFQ+O1xufTtcblxuZXhwb3J0IHR5cGUgVXBTZXRDYWxjUXVlcnk8VCA9IGFueT4gPSB7XG4gIC8qKlxuICAgKiBuYW1lIG9mIHRoaXMgcXVlcnkgZm9yIHRoZSB0b29sdGlwXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBjb2xvciBmb3IgaGlnaGxpZ2h0aW5nXG4gICAqL1xuICBjb2xvcjogc3RyaW5nO1xuICAvKipcbiAgICogY29tcHV0ZXMgdGhlIG92ZXJsYXAgb2YgdGhlIGdpdmVuIHNldCB0byB0aGlzIHF1ZXJ5XG4gICAqIEBwYXJhbSBzIHRoZSBjdXJyZW50IHNldCB0byBldmFsdWF0ZVxuICAgKiBAcmV0dXJuIGF0IG1vc3QgYHMuY2FyZGluYWxpdHlgXG4gICAqL1xuICBvdmVybGFwKHM6IElTZXRMaWtlPFQ+IHwgUmVhZG9ubHlBcnJheTxUPik6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFVwU2V0UXVlcnk8VCA9IGFueT4gPSBVcFNldEVsZW1RdWVyeTxUPiB8IFVwU2V0Q2FsY1F1ZXJ5PFQ+IHwgVXBTZXRTZXRRdWVyeTxUPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbVF1ZXJ5PFQ+KHE6IFVwU2V0UXVlcnk8VD4pOiBxIGlzIFVwU2V0RWxlbVF1ZXJ5PFQ+IHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoKHEgYXMgVXBTZXRFbGVtUXVlcnk8VD4pLmVsZW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2FsY1F1ZXJ5PFQ+KHE6IFVwU2V0UXVlcnk8VD4pOiBxIGlzIFVwU2V0Q2FsY1F1ZXJ5PFQ+IHtcbiAgcmV0dXJuIHR5cGVvZiAocSBhcyBVcFNldENhbGNRdWVyeTxUPikub3ZlcmxhcCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2V0UXVlcnk8VD4ocTogVXBTZXRRdWVyeTxUPik6IHEgaXMgVXBTZXRTZXRRdWVyeTxUPiB7XG4gIHJldHVybiAocSBhcyBVcFNldFNldFF1ZXJ5PFQ+KS5zZXQgIT0gbnVsbDtcbn1cblxuLyoqXG4gKiBoZWxwZXIgbWV0aG9kIHRvIGNyZWF0ZSBhbiBvdmVybGFwIGZ1bmN0aW9uIGZvciBhIGdpdmVuIHF1ZXJ5XG4gKiBAcGFyYW0gcSB0aGUgcXVlcnlcbiAqIEBwYXJhbSB3aGF0IHR5cGUgb2Ygb3ZlcmxhcFxuICogQHBhcmFtIHRvRWxlbUtleSBvcHRpb25hbCBrZXkgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5T3ZlcmxhcDxUPihxOiBVcFNldFF1ZXJ5PFQ+LCB3aGF0OiBrZXlvZiBTZXRPdmVybGFwLCB0b0VsZW1LZXk/OiAoZTogVCkgPT4gc3RyaW5nKSB7XG4gIGlmIChpc0NhbGNRdWVyeShxKSkge1xuICAgIHJldHVybiBxLm92ZXJsYXA7XG4gIH1cbiAgaWYgKGlzU2V0UXVlcnkocSkgJiYgcS5zZXQub3ZlcmxhcCkge1xuICAgIHJldHVybiBxLnNldC5vdmVybGFwO1xuICB9XG4gIGNvbnN0IGYgPSBzZXRPdmVybGFwRmFjdG9yeShpc0VsZW1RdWVyeShxKSA/IHEuZWxlbXMgOiBxLnNldC5lbGVtcywgdG9FbGVtS2V5KTtcbiAgcmV0dXJuIChzOiBJU2V0TGlrZTxUPikgPT4ge1xuICAgIGlmIChzLm92ZXJsYXAgJiYgaXNFbGVtUXVlcnkocSkgJiYgQXJyYXkuaXNBcnJheShxLmVsZW1zKSkge1xuICAgICAgcmV0dXJuIHMub3ZlcmxhcChxLmVsZW1zKTtcbiAgICB9XG4gICAgaWYgKHMub3ZlcmxhcCAmJiBpc1NldFF1ZXJ5KHEpKSB7XG4gICAgICByZXR1cm4gcy5vdmVybGFwKHEuc2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIGYocy5lbGVtcylbd2hhdF07XG4gIH07XG59XG5cbi8qKlxuICogaGVscGVyIG1ldGhvZCB0byBjcmVhdGUgYW4gb3ZlcmxhcCBmdW5jdGlvbiBvZiBlbGVtZW50cyBmb3IgYSBnaXZlbiBxdWVyeVxuICogQHBhcmFtIHEgdGhlIHF1ZXJ5XG4gKiBAcGFyYW0gd2hhdCB0eXBlIG9mIG92ZXJsYXBcbiAqIEBwYXJhbSB0b0VsZW1LZXkgb3B0aW9uYWwga2V5IGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUVsZW1PdmVybGFwPFQ+KFxuICBxOiBVcFNldFF1ZXJ5PFQ+LFxuICB3aGF0OiBrZXlvZiBTZXRFbGVtT3ZlcmxhcDxUPixcbiAgdG9FbGVtS2V5PzogKGU6IFQpID0+IHN0cmluZ1xuKTogKHM6IElTZXRMaWtlPFQ+KSA9PiBSZWFkb25seUFycmF5PFQ+IHwgbnVsbCB7XG4gIGlmIChpc0NhbGNRdWVyeShxKSkge1xuICAgIHJldHVybiAoKSA9PiBudWxsO1xuICB9XG4gIGlmICh3aGF0ID09PSAnaW50ZXJzZWN0aW9uJykge1xuICAgIGNvbnN0IGYgPSBzZXRFbGVtSW50ZXJzZWN0aW9uRmFjdG9yeShpc0VsZW1RdWVyeShxKSA/IHEuZWxlbXMgOiBxLnNldC5lbGVtcywgdG9FbGVtS2V5KTtcbiAgICByZXR1cm4gKHM6IElTZXRMaWtlPFQ+KSA9PiBmKHMuZWxlbXMpO1xuICB9XG4gIGNvbnN0IGYgPSBzZXRFbGVtT3ZlcmxhcEZhY3RvcnkoaXNFbGVtUXVlcnkocSkgPyBxLmVsZW1zIDogcS5zZXQuZWxlbXMsIHRvRWxlbUtleSk7XG4gIHJldHVybiAoczogSVNldExpa2U8VD4pID0+IHtcbiAgICByZXR1cm4gZihzLmVsZW1zKVt3aGF0XTtcbiAgfTtcbn1cbiIsIi8qKlxuICogQHVwc2V0anMvbW9kZWxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCB7IElTZXQsIElTZXRDb21iaW5hdGlvbiwgSVNldExpa2UsIElCYXNlU2V0IH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgeyBHZW5lcmF0ZVNldENvbWJpbmF0aW9uc09wdGlvbnMgfSBmcm9tICcuL2RhdGEnO1xuaW1wb3J0IHsgVXBTZXRRdWVyeSwgaXNFbGVtUXVlcnksIGlzQ2FsY1F1ZXJ5IH0gZnJvbSAnLi9xdWVyaWVzJztcblxuZnVuY3Rpb24gaXNCYXNlU2V0KHY6IGFueSk6IHYgaXMgSUJhc2VTZXQ8YW55PiB7XG4gIGNvbnN0IHZ0OiBJQmFzZVNldDxhbnk+ID0gdjtcbiAgcmV0dXJuIHYgIT0gbnVsbCAmJiB0eXBlb2YgdnQuY2FyZGluYWxpdHkgPT09ICdudW1iZXInICYmIHR5cGVvZiB2Lm5hbWUgPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkodi5lbGVtcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NldCh2OiBhbnkpOiB2IGlzIElTZXQ8YW55PiB7XG4gIHJldHVybiBpc0Jhc2VTZXQodikgJiYgKHYgYXMgSVNldDxhbnk+KS50eXBlID09PSAnc2V0Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2V0Q29tYmluYXRpb24odjogYW55KTogdiBpcyBJU2V0Q29tYmluYXRpb248YW55PiB7XG4gIGNvbnN0IHZ0OiBJU2V0Q29tYmluYXRpb248YW55PiA9IHY7XG4gIHJldHVybiAoXG4gICAgaXNCYXNlU2V0KHYpICYmXG4gICAgWydjb21wb3NpdGUnLCAndW5pb24nLCAnaW50ZXJzZWN0aW9uJ10uaW5jbHVkZXModnQudHlwZSkgJiZcbiAgICB2dC5zZXRzIGluc3RhbmNlb2YgU2V0ICYmXG4gICAgdHlwZW9mIHZ0LmRlZ3JlZSA9PT0gJ251bWJlcidcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2V0TGlrZSh2OiBhbnkpOiB2IGlzIElTZXRMaWtlPGFueT4ge1xuICByZXR1cm4gaXNTZXQodikgfHwgaXNTZXRDb21iaW5hdGlvbih2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzR2VuZXJhdGVTZXRDb21iaW5hdGlvbk9wdGlvbnModjogYW55KTogdiBpcyBHZW5lcmF0ZVNldENvbWJpbmF0aW9uc09wdGlvbnM8YW55PiB7XG4gIGNvbnN0IHZ0OiBHZW5lcmF0ZVNldENvbWJpbmF0aW9uc09wdGlvbnM8YW55PiA9IHY7XG4gIHJldHVybiB2ICE9IG51bGwgJiYgKHZ0LnR5cGUgPT0gbnVsbCB8fCBbJ2ludGVyc2VjdGlvbicsICd1bmlvbiddLmluY2x1ZGVzKHZ0LnR5cGUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2V0UXVlcnkodjogYW55KTogdiBpcyBVcFNldFF1ZXJ5PGFueT4ge1xuICBjb25zdCB2dDogVXBTZXRRdWVyeTxhbnk+ID0gdjtcbiAgcmV0dXJuIChcbiAgICB2ICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdnQubmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgdnQuY29sb3IgPT09ICdzdHJpbmcnICYmXG4gICAgKGlzRWxlbVF1ZXJ5KHZ0KSB8fCBpc1NldFF1ZXJ5KHZ0KSB8fCBpc0NhbGNRdWVyeSh2dCkpXG4gICk7XG59XG4iLCIvKipcbiAqIEB1cHNldGpzL21vZGVsXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYnlOYW1lPFQgZXh0ZW5kcyB7IG5hbWU6IHN0cmluZyB9PihhOiBULCBiOiBUKSB7XG4gIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnlDYXJkaW5hbGl0eTxUIGV4dGVuZHMgeyBjYXJkaW5hbGl0eTogbnVtYmVyIH0+KGE6IFQsIGI6IFQpIHtcbiAgLy8gZGVjcmVhc2luZ1xuICByZXR1cm4gYi5jYXJkaW5hbGl0eSAtIGEuY2FyZGluYWxpdHk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBieURlZ3JlZTxUIGV4dGVuZHMgeyBkZWdyZWU6IG51bWJlciB9PihhOiBULCBiOiBUKSB7XG4gIC8vIGluY3JlYXNpbmdcbiAgcmV0dXJuIGEuZGVncmVlIC0gYi5kZWdyZWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBieUNvbXBvc2l0ZTxUPihmdW5jOiAoKGE6IFQsIGI6IFQpID0+IG51bWJlcilbXSkge1xuICByZXR1cm4gKGE6IFQsIGI6IFQpID0+IHtcbiAgICByZXR1cm4gZnVuYy5yZWR1Y2UoKGFjYywgZikgPT4gKGFjYyA9PT0gMCA/IGYoYSwgYikgOiBhY2MpLCAwKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZTxUPihmdW5jOiAoYTogVCwgYjogVCkgPT4gbnVtYmVyKSB7XG4gIHJldHVybiAoYTogVCwgYjogVCkgPT4gLWZ1bmMoYSwgYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBieUdyb3VwPEUsIFMgZXh0ZW5kcyB7IHNldHM6IFJlYWRvbmx5U2V0PEU+IH0+KHNldHM6IFJlYWRvbmx5QXJyYXk8RT4pIHtcbiAgcmV0dXJuIChhOiBTLCBiOiBTKSA9PiB7XG4gICAgY29uc3QgZml4Tm90Rm91bmQgPSAodjogbnVtYmVyKSA9PiAodiA8IDAgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiB2KTtcbiAgICBjb25zdCBhSW5kZXggPSBmaXhOb3RGb3VuZChzZXRzLmZpbmRJbmRleCgocykgPT4gYS5zZXRzLmhhcyhzKSkpO1xuICAgIGNvbnN0IGJJbmRleCA9IGZpeE5vdEZvdW5kKHNldHMuZmluZEluZGV4KChzKSA9PiBiLnNldHMuaGFzKHMpKSk7XG4gICAgcmV0dXJuIGFJbmRleCAtIGJJbmRleDtcbiAgfTtcbn1cbiIsIi8qKlxuICogQHVwc2V0anMvbW9kZWxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCB7IElTZXQsIElTZXRDb21iaW5hdGlvbiB9IGZyb20gJy4uL21vZGVsJztcbmltcG9ydCB7IGJ5Q2FyZGluYWxpdHksIGJ5Q29tcG9zaXRlLCBieURlZ3JlZSwgYnlHcm91cCwgYnlOYW1lLCBuZWdhdGUgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IFNvcnRTZXRPcmRlciB9IGZyb20gJy4vYXNTZXRzJztcblxuLyoqXG4gKiBoZWxwZXIgbWV0aG9kIHRvIGV4dHJhY3QgdGhlIHNldHMgaW4gYSBzZXQgY29tYmluYXRpb24gZnJvbSBpdHMgbmFtZSwgZS5nLiBTMSZTMiA9PiBTMSxTMlxuICogQHBhcmFtIHNldHMgdGhlIGxpc3Qgb2YgcG9zc2libGUgc2V0c1xuICogQHBhcmFtIHN5bWJvbCB0aGUgcmVnZXggdG8gc3BsaXQgYSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2V0TmFtZTxUPihzZXRzOiBSZWFkb25seUFycmF5PElTZXQ8VD4+LCBzeW1ib2wgPSAvW+KIqeKIqiZ8XS8pIHtcbiAgY29uc3QgYnlOYW1lID0gbmV3IE1hcChzZXRzLm1hcCgocykgPT4gW3MubmFtZSwgc10pKTtcbiAgcmV0dXJuIChzOiB7IG5hbWU6IHN0cmluZyB9KSA9PiB7XG4gICAgcmV0dXJuIHMubmFtZS5zcGxpdChzeW1ib2wpLm1hcCgoc2V0TmFtZSkgPT4gYnlOYW1lLmdldChzZXROYW1lLnRyaW0oKSkhKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBzb3J0IG9yZGVycyBmb3Igc2V0IGNvbWJpbmF0aW9uc1xuICovXG5leHBvcnQgZGVjbGFyZSB0eXBlIFNvcnRDb21iaW5hdGlvbk9yZGVyID1cbiAgfCBTb3J0U2V0T3JkZXJcbiAgfCAnZ3JvdXAnXG4gIHwgJ2RlZ3JlZSdcbiAgfCAnZ3JvdXA6YXNjJ1xuICB8ICdncm91cDpkZXNjJ1xuICB8ICdkZWdyZWU6YXNjJ1xuICB8ICdkZWdyZWU6ZGVzYyc7XG5cbmV4cG9ydCBkZWNsYXJlIHR5cGUgUG9zdHByb2Nlc3NDb21iaW5hdGlvbnNPcHRpb25zID0ge1xuICAvKipcbiAgICogb3JkZXIgdGhlIHNldHMgY29tYmluYXRpb25zIGJ5IHRoZSBnaXZlbiBjcml0ZXJpYVxuICAgKi9cbiAgb3JkZXI/OiBTb3J0Q29tYmluYXRpb25PcmRlciB8IFJlYWRvbmx5QXJyYXk8U29ydENvbWJpbmF0aW9uT3JkZXI+O1xuICAvKipcbiAgICogbGltaXQgdG8gdGhlIHRvcCBOIGFmdGVyIHNvcnRpbmdcbiAgICovXG4gIGxpbWl0PzogbnVtYmVyO1xufTtcblxuZnVuY3Rpb24gdG9PcmRlcjxULCBTIGV4dGVuZHMgSVNldENvbWJpbmF0aW9uPFQ+PihcbiAgc2V0czogUmVhZG9ubHlBcnJheTxJU2V0PFQ+PixcbiAgb3JkZXI/OiBTb3J0Q29tYmluYXRpb25PcmRlciB8IFJlYWRvbmx5QXJyYXk8U29ydENvbWJpbmF0aW9uT3JkZXI+XG4pOiAoYTogUywgYjogUykgPT4gbnVtYmVyIHtcbiAgaWYgKCFvcmRlcikge1xuICAgIHJldHVybiBieU5hbWU7XG4gIH1cbiAgY29uc3QgYXJyOiBSZWFkb25seUFycmF5PFNvcnRDb21iaW5hdGlvbk9yZGVyPiA9IEFycmF5LmlzQXJyYXkob3JkZXIpID8gb3JkZXIgOiBbb3JkZXJdO1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBieU5hbWU7XG4gIH1cbiAgcmV0dXJuIGJ5Q29tcG9zaXRlPFM+KFxuICAgIGFyci5tYXAoKG8pID0+IHtcbiAgICAgIHN3aXRjaCAobykge1xuICAgICAgICBjYXNlICdjYXJkaW5hbGl0eSc6XG4gICAgICAgIGNhc2UgJ2NhcmRpbmFsaXR5OmRlc2MnOlxuICAgICAgICAgIHJldHVybiBieUNhcmRpbmFsaXR5O1xuICAgICAgICBjYXNlICdjYXJkaW5hbGl0eTphc2MnOlxuICAgICAgICAgIHJldHVybiBuZWdhdGUoYnlDYXJkaW5hbGl0eSk7XG4gICAgICAgIGNhc2UgJ25hbWU6ZGVzYyc6XG4gICAgICAgICAgcmV0dXJuIG5lZ2F0ZShieU5hbWUpO1xuICAgICAgICBjYXNlICdkZWdyZWUnOlxuICAgICAgICBjYXNlICdkZWdyZWU6YXNjJzpcbiAgICAgICAgICByZXR1cm4gYnlEZWdyZWU7XG4gICAgICAgIGNhc2UgJ2RlZ3JlZTpkZXNjJzpcbiAgICAgICAgICByZXR1cm4gbmVnYXRlKGJ5RGVncmVlKTtcbiAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICBjYXNlICdncm91cDphc2MnOlxuICAgICAgICAgIHJldHVybiBieUdyb3VwKHNldHMpO1xuICAgICAgICBjYXNlICdncm91cDpkZXNjJzpcbiAgICAgICAgICByZXR1cm4gbmVnYXRlKGJ5R3JvdXAoc2V0cykpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBieU5hbWU7XG4gICAgICB9XG4gICAgfSlcbiAgKTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvc3Rwcm9jZXNzQ29tYmluYXRpb25zPFQsIFMgZXh0ZW5kcyBJU2V0Q29tYmluYXRpb248VD4+KFxuICBzZXRzOiBSZWFkb25seUFycmF5PElTZXQ8VD4+LFxuICBjb21iaW5hdGlvbnM6IFNbXSxcbiAgb3B0aW9uczogUG9zdHByb2Nlc3NDb21iaW5hdGlvbnNPcHRpb25zID0ge31cbikge1xuICBsZXQgciA9IGNvbWJpbmF0aW9ucyBhcyBTW107XG4gIGlmIChvcHRpb25zLm9yZGVyKSB7XG4gICAgciA9IHIuc29ydCh0b09yZGVyKHNldHMsIG9wdGlvbnMub3JkZXIpKTtcbiAgfVxuICBpZiAob3B0aW9ucy5saW1pdCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHIuc2xpY2UoMCwgb3B0aW9ucy5saW1pdCk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogaGVscGVyIHRvIGNyZWF0ZSBhIHByb3BlciBkYXRhIHN0cnVjdHVyZXMgZm9yIFVwU2V0LmpzIHNldHMgYnkgYWRkaW5nIGV4dHJhIHByb3BlcnRpZXNcbiAqIEBwYXJhbSBzZXRzIHNldCBsaWtlIHN0cnVjdHVyZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQ29tYmluYXRpb248VCwgUyBleHRlbmRzIHsgbmFtZTogc3RyaW5nOyBlbGVtczogUmVhZG9ubHlBcnJheTxUPiB9PihcbiAgc2V0OiBTLFxuICB0eXBlOiAnaW50ZXJzZWN0aW9uJyB8ICd1bmlvbicgfCAnY29tcG9zaXRlJyxcbiAgdG9TZXRzOiAoczogUykgPT4gUmVhZG9ubHlBcnJheTxJU2V0PFQ+PlxuKTogUyAmIElTZXRDb21iaW5hdGlvbjxUPiB7XG4gIGNvbnN0IHNldHMgPSB0b1NldHMoc2V0KTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAge1xuICAgICAgdHlwZSxcbiAgICAgIGNhcmRpbmFsaXR5OiBzZXQuZWxlbXMubGVuZ3RoLFxuICAgICAgc2V0czogbmV3IFNldChzZXRzKSxcbiAgICAgIGRlZ3JlZTogc2V0cy5sZW5ndGgsXG4gICAgfSxcbiAgICBzZXRcbiAgKTtcbn1cblxuLyoqXG4gKiBoZWxwZXIgdG8gY3JlYXRlIGEgcHJvcGVyIGRhdGEgc3RydWN0dXJlcyBmb3IgVXBTZXQuanMgc2V0cyBieSBhZGRpbmcgZXh0cmEgcHJvcGVydGllc1xuICogQHBhcmFtIHNldHMgc2V0IGxpa2Ugc3RydWN0dXJlc1xuICogQHBhcmFtIHR5cGUgaGludCBmb3IgdGhlIHR5cGUgb2YgY29tYmluYXRpb25zXG4gKiBAcGFyYW0gdG9TZXRzIHJlc29sdmVyIG9mIHRoZSBjb250YWluZWQgc2V0c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhc0NvbWJpbmF0aW9uczxULCBTIGV4dGVuZHMgeyBuYW1lOiBzdHJpbmc7IGVsZW1zOiBSZWFkb25seUFycmF5PFQ+IH0+KFxuICBzZXRzOiBSZWFkb25seUFycmF5PFM+LFxuICB0eXBlOiAnaW50ZXJzZWN0aW9uJyB8ICd1bmlvbicgfCAnY29tcG9zaXRlJyxcbiAgdG9TZXRzOiAoczogUykgPT4gUmVhZG9ubHlBcnJheTxJU2V0PFQ+PlxuKTogKFMgJiBJU2V0Q29tYmluYXRpb248VD4pW10ge1xuICByZXR1cm4gc2V0cy5tYXAoKHNldCkgPT4gYXNDb21iaW5hdGlvbihzZXQsIHR5cGUsIHRvU2V0cykpO1xufVxuIiwiLyoqXG4gKiBAdXBzZXRqcy9tb2RlbFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBQb3dlclNldE9wdGlvbnMgPSB7XG4gIG1pbjogbnVtYmVyO1xuICBtYXg6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3dlclNldE51bWJlcjxUPihcbiAgYXJyOiBSZWFkb25seUFycmF5PFQ+LFxuICBvblNldDogKHNldDogUmVhZG9ubHlBcnJheTxUPikgPT4gdm9pZCxcbiAgeyBtaW4gPSAwLCBtYXggPSBJbmZpbml0eSB9ID0ge31cbikge1xuICBjb25zdCB0b3RhbCA9IDIgKiogYXJyLmxlbmd0aDtcbiAgbGV0IGxhc3RCaXQgPSAwO1xuICBsZXQgbGFzdEJpdEFjYyA9IDE7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgIGlmIChpID49IGxhc3RCaXRBY2MpIHtcbiAgICAgIC8vIGp1c3QgbWF4aW1hbCBnb2VzIHVwIHRvIHRoaXMgYml0XG4gICAgICAvLyAwIC4uLiAwIGJpdFxuICAgICAgLy8gMSAuLi4gMSBiaXRcbiAgICAgIC8vIDIgLi4uIDIgYml0c1xuICAgICAgLy8gNCAuLi4gMyBiaXRzXG4gICAgICBsYXN0Qml0Kys7XG4gICAgICBsYXN0Qml0QWNjID0gbGFzdEJpdEFjYyA8PCAxO1xuICAgIH1cbiAgICBjb25zdCBzdWIgPSBbXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxhc3RCaXQ7IGorKykge1xuICAgICAgaWYgKGkgJiAoMSA8PCBqKSkge1xuICAgICAgICAvLyBqdGggYml0IHNldCBpbiBpXG4gICAgICAgIHN1Yi5wdXNoKGFycltqXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdWIubGVuZ3RoID49IG1pbiAmJiBzdWIubGVuZ3RoIDw9IG1heCkge1xuICAgICAgb25TZXQoc3ViKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvd2VyU2V0QmlnSW50PFQ+KFxuICBhcnI6IFJlYWRvbmx5QXJyYXk8VD4sXG4gIG9uU2V0OiAoc2V0OiBSZWFkb25seUFycmF5PFQ+KSA9PiB2b2lkLFxuICB7IG1pbiA9IDAsIG1heCA9IEluZmluaXR5IH0gPSB7fVxuKSB7XG4gIGNvbnN0IHplcm8gPSBCaWdJbnQoMCk7XG4gIGNvbnN0IG9uZSA9IEJpZ0ludCgxKTtcbiAgY29uc3QgdHdvID0gQmlnSW50KDIpO1xuICBjb25zdCB0b3RhbCA9IHR3byA8PCBCaWdJbnQoYXJyLmxlbmd0aCk7XG4gIGxldCBsYXN0Qml0ID0gMDtcbiAgbGV0IGxhc3RCaXRBY2MgPSBvbmU7XG4gIGNvbnN0IGJpdHMgPSBhcnIubWFwKChfLCBpKSA9PiBvbmUgPDwgQmlnSW50KGkpKTtcbiAgZm9yIChsZXQgaSA9IHplcm87IGkgPCB0b3RhbDsgaSArPSBvbmUpIHtcbiAgICBpZiAoaSA+PSBsYXN0Qml0QWNjKSB7XG4gICAgICAvLyBqdXN0IG1heGltYWwgZ29lcyB1cCB0byB0aGlzIGJpdFxuICAgICAgLy8gMCAuLi4gMCBiaXRcbiAgICAgIC8vIDEgLi4uIDEgYml0XG4gICAgICAvLyAyIC4uLiAyIGJpdHNcbiAgICAgIC8vIDQgLi4uIDMgYml0c1xuICAgICAgbGFzdEJpdCsrO1xuICAgICAgbGFzdEJpdEFjYyA9IGxhc3RCaXRBY2MgPDwgb25lO1xuICAgIH1cbiAgICBjb25zdCBzdWIgPSBbXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxhc3RCaXQ7IGorKykge1xuICAgICAgaWYgKChpICYgYml0c1tqXSkgIT09IHplcm8pIHtcbiAgICAgICAgLy8ganRoIGJpdCBzZXQgaW4gaVxuICAgICAgICBzdWIucHVzaChhcnJbal0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3ViLmxlbmd0aCA+PSBtaW4gJiYgc3ViLmxlbmd0aCA8PSBtYXgpIHtcbiAgICAgIG9uU2V0KHN1Yik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3dlclNldFJlY3Vyc2l2ZTxUPihcbiAgYXJyOiBSZWFkb25seUFycmF5PFQ+LFxuICBvblNldDogKHNldDogUmVhZG9ubHlBcnJheTxUPikgPT4gdm9pZCxcbiAgeyBtaW4gPSAwLCBtYXggPSBJbmZpbml0eSB9ID0ge31cbikge1xuICBjb25zdCBjaGVjayA9IChsZW46IG51bWJlcikgPT4gbGVuID49IG1pbiAmJiBsZW4gPD0gbWF4O1xuICBmdW5jdGlvbiBpdGVyKHN1YnNldDogVFtdLCBzdGFydDogbnVtYmVyKSB7XG4gICAgaWYgKHN1YnNldC5sZW5ndGggPj0gbWF4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgc3Vic2V0LnB1c2goYXJyW2ldKTtcbiAgICAgIGlmIChjaGVjayhzdWJzZXQubGVuZ3RoKSkge1xuICAgICAgICBvblNldChzdWJzZXQuc2xpY2UoKSk7XG4gICAgICB9XG4gICAgICBpdGVyKHN1YnNldCwgaSArIDEpO1xuICAgICAgc3Vic2V0LnBvcCgpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjaGVjaygwKSkge1xuICAgIG9uU2V0KFtdKTtcbiAgfVxuXG4gIGl0ZXIoW10sIDApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb3dlclNldDxUPihcbiAgYXJyOiBSZWFkb25seUFycmF5PFQ+LFxuICBvcHRpb25zOiBQYXJ0aWFsPFBvd2VyU2V0T3B0aW9ucz4gPSB7fVxuKTogeyBmb3JFYWNoKGNiOiAoc2V0OiBSZWFkb25seUFycmF5PFQ+KSA9PiB2b2lkKTogdm9pZCB9IHtcbiAgY29uc3QgdG90YWwgPSBNYXRoLnBvdygyLCBhcnIubGVuZ3RoKTtcblxuICBjb25zdCBhc0ZvckVhY2ggPSAoZjogdHlwZW9mIHBvd2VyU2V0TnVtYmVyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvckVhY2g6IChjYjogKHNldDogUmVhZG9ubHlBcnJheTxUPikgPT4gdm9pZCkgPT4gZihhcnIsIGNiLCBvcHRpb25zKSxcbiAgICB9O1xuICB9O1xuXG4gIGlmICh0b3RhbCA8IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgcmV0dXJuIGFzRm9yRWFjaChwb3dlclNldE51bWJlcik7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cuQmlnSW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBhc0ZvckVhY2gocG93ZXJTZXRCaWdJbnQpO1xuICB9XG5cbiAgcmV0dXJuIGFzRm9yRWFjaChwb3dlclNldFJlY3Vyc2l2ZSk7XG59XG4iLCIvKipcbiAqIEB1cHNldGpzL21vZGVsXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5leHBvcnQgY29uc3QgU0VUX0pPSU5FUlMgPSB7XG4gIGludGVyc2VjdGlvbjogJyDiiKkgJyxcbiAgdW5pb246ICcg4oiqICcsXG4gIGNvbXBvc2l0ZTogJywnLFxufTtcbiIsIi8qKlxuICogQHVwc2V0anMvbW9kZWxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCB7IElTZXRDb21iaW5hdGlvbiwgSVNldENvbWJpbmF0aW9ucywgSVNldHMsIElTZXQgfSBmcm9tICcuLi9tb2RlbCc7XG5pbXBvcnQgeyBpc1NldExpa2UgfSBmcm9tICcuLi92YWxpZGF0b3JzJztcbmltcG9ydCB7IHBvc3Rwcm9jZXNzQ29tYmluYXRpb25zLCBQb3N0cHJvY2Vzc0NvbWJpbmF0aW9uc09wdGlvbnMgfSBmcm9tICcuL2FzQ29tYmluYXRpb25zJztcbmltcG9ydCBwb3dlclNldCBmcm9tICcuL3Bvd2VyU2V0JztcbmltcG9ydCB7IFNFVF9KT0lORVJTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVjbGFyZSB0eXBlIEdlbmVyYXRlU2V0Q29tYmluYXRpb25zT3B0aW9uczxUID0gYW55PiA9IHtcbiAgLyoqXG4gICAqIHR5cGUgb2Ygc2V0IGNvbWJpbmF0aW9uXG4gICAqIEBkZWZhdWx0IGludGVyc2VjdGlvblxuICAgKi9cbiAgdHlwZT86ICdpbnRlcnNlY3Rpb24nIHwgJ3VuaW9uJztcbiAgLyoqXG4gICAqIG1pbmltdW0gbnVtYmVyIG9mIGludGVyc2VjdGluZyBzZXRzXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIG1pbj86IG51bWJlcjtcbiAgLyoqXG4gICAqIG1heGltdW0gbnVtYmVyIG9mIGludGVyc2VjdGluZyBzZXRzXG4gICAqIEBkZWZhdWx0IEluZmluaXR5XG4gICAqL1xuICBtYXg/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBpbmNsdWRlIGVtcHR5IGludGVyc2VjdGlvbnNcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGVtcHR5PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGxpc3Qgb2YgYWxsIGVsZW1lbnRzIHVzZWQgdG8gY29tcHV0ZSB0aGUgZWxlbWVudHMgd2hpY2ggYXJlbid0IHBhcnQgb2YgYW55IGdpdmVuIHNldFxuICAgKi9cbiAgZWxlbXM/OiBSZWFkb25seUFycmF5PFQ+O1xuICAvKipcbiAgICogYWx0ZXJuYXRpdmUgdG8gYC5lbGVtc2AgYnkgZGlyZWN0bHkgc3BlY2lmeWluZyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgbm90IHBhcnQgb2YgYW55IHNldFxuICAgKiBqdXN0IG1ha2VzIHNlbnNlIHdpdGggbWluPTBcbiAgICovXG4gIG5vdFBhcnRPZkFueVNldD86IFJlYWRvbmx5QXJyYXk8VD4gfCBudW1iZXI7XG4gIC8qKlxuICAgKiBvcHRpb25hbCBlbGVtIGtleSBmdW5jdGlvblxuICAgKiBAcGFyYW0gdlxuICAgKi9cbiAgdG9FbGVtS2V5Pyh2OiBUKTogc3RyaW5nO1xufSAmIFBvc3Rwcm9jZXNzQ29tYmluYXRpb25zT3B0aW9ucztcblxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uQnVpbGRlcjxUPihcbiAgc2V0czogSVNldHM8VD4sXG4gIGFsbEVsZW1lbnRzOiBSZWFkb25seUFycmF5PFQ+LFxuICBub3RQYXJ0T2ZBbnlTZXQ/OiBSZWFkb25seUFycmF5PFQ+IHwgbnVtYmVyLFxuICB0b0VsZW1LZXk/OiAodjogVCkgPT4gc3RyaW5nXG4pIHtcbiAgY29uc3Qgc2V0RWxlbXMgPSBuZXcgTWFwKHNldHMubWFwKChzKSA9PiBbcywgdG9FbGVtS2V5ID8gbmV3IFNldChzLmVsZW1zLm1hcCh0b0VsZW1LZXkhKSkgOiBuZXcgU2V0KHMuZWxlbXMpXSkpO1xuICBjb25zdCBzZXREaXJlY3RFbGVtcyA9IHRvRWxlbUtleSA/IG51bGwgOiAoc2V0RWxlbXMgYXMgTWFwPElTZXQ8VD4sIFNldDxUPj4pO1xuICBjb25zdCBzZXRLZXlFbGVtcyA9IHRvRWxlbUtleSA/IChzZXRFbGVtcyBhcyBNYXA8SVNldDxUPiwgU2V0PHN0cmluZz4+KSA6IG51bGw7XG5cbiAgZnVuY3Rpb24gY29tcHV0ZUludGVyc2VjdGlvbihpbnRlcnNlY3Rpb246IElTZXRzPFQ+KSB7XG4gICAgaWYgKGludGVyc2VjdGlvbi5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vdFBhcnRPZkFueVNldCkpIHtcbiAgICAgICAgcmV0dXJuIG5vdFBhcnRPZkFueVNldDtcbiAgICAgIH1cbiAgICAgIGlmIChzZXRLZXlFbGVtcyAmJiB0b0VsZW1LZXkpIHtcbiAgICAgICAgY29uc3QgbG9va3VwID0gQXJyYXkuZnJvbShzZXRLZXlFbGVtcy52YWx1ZXMoKSk7XG4gICAgICAgIHJldHVybiBhbGxFbGVtZW50cy5maWx0ZXIoKGUpID0+IHtcbiAgICAgICAgICBjb25zdCBrID0gdG9FbGVtS2V5KGUpO1xuICAgICAgICAgIHJldHVybiBsb29rdXAuZXZlcnkoKHMpID0+ICFzLmhhcyhrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgbG9va3VwID0gQXJyYXkuZnJvbShzZXREaXJlY3RFbGVtcyEudmFsdWVzKCkpO1xuICAgICAgcmV0dXJuIGFsbEVsZW1lbnRzLmZpbHRlcigoZSkgPT4gbG9va3VwLmV2ZXJ5KChzKSA9PiAhcy5oYXMoZSkpKTtcbiAgICB9XG4gICAgaWYgKGludGVyc2VjdGlvbi5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25bMF0uZWxlbXM7XG4gICAgfVxuICAgIGNvbnN0IHNtYWxsZXN0ID0gaW50ZXJzZWN0aW9uLnJlZHVjZShcbiAgICAgIChhY2MsIGQpID0+ICghYWNjIHx8IGFjYy5sZW5ndGggPiBkLmVsZW1zLmxlbmd0aCA/IGQuZWxlbXMgOiBhY2MpLFxuICAgICAgbnVsbCBhcyBSZWFkb25seUFycmF5PFQ+IHwgbnVsbFxuICAgICkhO1xuICAgIGlmIChzZXRLZXlFbGVtcyAmJiB0b0VsZW1LZXkpIHtcbiAgICAgIHJldHVybiBzbWFsbGVzdC5maWx0ZXIoKGVsZW0pID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gdG9FbGVtS2V5KGVsZW0pO1xuICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uLmV2ZXJ5KChzKSA9PiBzZXRLZXlFbGVtcy5nZXQocykhLmhhcyhrZXkpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc21hbGxlc3QuZmlsdGVyKChlbGVtKSA9PiBpbnRlcnNlY3Rpb24uZXZlcnkoKHMpID0+IHNldERpcmVjdEVsZW1zIS5nZXQocykhLmhhcyhlbGVtKSkpO1xuICB9XG4gIHJldHVybiBjb21wdXRlSW50ZXJzZWN0aW9uO1xufVxuXG5mdW5jdGlvbiB1bmlvbkJ1aWxkZXI8VD4oXG4gIHNldHM6IElTZXRzPFQ+LFxuICBhbGxFbGVtZW50czogUmVhZG9ubHlBcnJheTxUPixcbiAgbm90UGFydE9mQW55U2V0PzogUmVhZG9ubHlBcnJheTxUPiB8IG51bWJlcixcbiAgdG9FbGVtS2V5PzogKHY6IFQpID0+IHN0cmluZ1xuKSB7XG4gIGZ1bmN0aW9uIGNvbXB1dGVVbmlvbih1bmlvbjogSVNldHM8VD4pIHtcbiAgICBpZiAodW5pb24ubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShub3RQYXJ0T2ZBbnlTZXQpKSB7XG4gICAgICAgIHJldHVybiBub3RQYXJ0T2ZBbnlTZXQ7XG4gICAgICB9XG4gICAgICBpZiAodG9FbGVtS2V5KSB7XG4gICAgICAgIGNvbnN0IGxvb2t1cCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBzZXRzLmZvckVhY2goKHNldCkgPT4ge1xuICAgICAgICAgIHNldC5lbGVtcy5mb3JFYWNoKChlKSA9PiBsb29rdXAuYWRkKHRvRWxlbUtleShlKSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFsbEVsZW1lbnRzLmZpbHRlcigoZSkgPT4gIWxvb2t1cC5oYXModG9FbGVtS2V5KGUpKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBsb29rdXAgPSBuZXcgU2V0PFQ+KCk7XG4gICAgICBzZXRzLmZvckVhY2goKHNldCkgPT4ge1xuICAgICAgICBzZXQuZWxlbXMuZm9yRWFjaCgoZSkgPT4gbG9va3VwLmFkZChlKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGxFbGVtZW50cy5maWx0ZXIoKGUpID0+ICFsb29rdXAuaGFzKGUpKTtcbiAgICB9XG4gICAgaWYgKHVuaW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHVuaW9uWzBdLmVsZW1zO1xuICAgIH1cbiAgICBjb25zdCBsYXJnZXN0ID0gdW5pb24ucmVkdWNlKFxuICAgICAgKGFjYywgZCkgPT4gKCFhY2MgfHwgYWNjLmxlbmd0aCA8IGQuZWxlbXMubGVuZ3RoID8gZC5lbGVtcyA6IGFjYyksXG4gICAgICBudWxsIGFzIFJlYWRvbmx5QXJyYXk8VD4gfCBudWxsXG4gICAgKSE7XG5cbiAgICBjb25zdCBhbGw6IFRbXSA9IGxhcmdlc3Quc2xpY2UoKTtcbiAgICBjb25zdCBjb250YWluZWQgPSB0b0VsZW1LZXkgPyBuZXcgU2V0KGFsbC5tYXAodG9FbGVtS2V5KSkgOiBuZXcgU2V0KGFsbCk7XG5cbiAgICB1bmlvbi5mb3JFYWNoKChzZXQpID0+IHtcbiAgICAgIGlmIChzZXQuZWxlbXMgPT09IGxhcmdlc3QpIHtcbiAgICAgICAgLy8gYWxyZWFkeSBpbmNsdWRlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXQuZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAodG9FbGVtS2V5KSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gdG9FbGVtS2V5KGVsZW0pO1xuICAgICAgICAgIGlmICghKGNvbnRhaW5lZCBhcyBTZXQ8c3RyaW5nPikuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGFsbC5wdXNoKGVsZW0pO1xuICAgICAgICAgICAgKGNvbnRhaW5lZCBhcyBTZXQ8c3RyaW5nPikuYWRkKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEoY29udGFpbmVkIGFzIFNldDxUPikuaGFzKGVsZW0pKSB7XG4gICAgICAgICAgYWxsLnB1c2goZWxlbSk7XG4gICAgICAgICAgKGNvbnRhaW5lZCBhcyBTZXQ8VD4pLmFkZChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWxsO1xuICB9XG4gIHJldHVybiBjb21wdXRlVW5pb247XG59XG5cbi8qKlxuICogZ2VuZXJhdGUgc2V0IGludGVyc2VjdGlvbi91bmlvbnMgZm9yIGEgZ2l2ZW4gbGlzdCBvZiBzZXRzXG4gKiBAcGFyYW0gc2V0cyB0aGUgc2V0cyB3aXRoIHRoZWlyIGVsZW1lbnRzXG4gKiBAcGFyYW0gb3B0aW9ucyBhZGRpdGlvbmFsIGN1c3RvbWl6YXRpb24gb3B0aW9uc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5lcmF0ZUNvbWJpbmF0aW9uczxUID0gYW55PihcbiAgc2V0czogSVNldHM8VD4sXG4gIHtcbiAgICB0eXBlID0gJ2ludGVyc2VjdGlvbicsXG4gICAgbWluID0gMCxcbiAgICBtYXggPSBJbmZpbml0eSxcbiAgICBlbXB0eSA9IGZhbHNlLFxuICAgIGVsZW1zOiBhbGxFbGVtZW50cyA9IFtdLFxuICAgIG5vdFBhcnRPZkFueVNldCxcbiAgICB0b0VsZW1LZXksXG4gICAgLi4ucG9zdHByb2Nlc3NcbiAgfTogR2VuZXJhdGVTZXRDb21iaW5hdGlvbnNPcHRpb25zPFQ+ID0ge31cbik6IElTZXRDb21iaW5hdGlvbnM8VD4ge1xuICBjb25zdCBqb2luZXIgPSBTRVRfSk9JTkVSU1t0eXBlXSA/PyBTRVRfSk9JTkVSUy5pbnRlcnNlY3Rpb247XG4gIGNvbnN0IGNvbWJpbmF0aW9uczogSVNldENvbWJpbmF0aW9uPFQ+W10gPSBbXTtcblxuICBjb25zdCBjb21wdXRlID0gKHR5cGUgPT09ICd1bmlvbicgPyB1bmlvbkJ1aWxkZXIgOiBpbnRlcnNlY3Rpb25CdWlsZGVyKShcbiAgICBzZXRzLFxuICAgIGFsbEVsZW1lbnRzLFxuICAgIG5vdFBhcnRPZkFueVNldCxcbiAgICB0b0VsZW1LZXlcbiAgKTtcblxuICBwb3dlclNldChzZXRzLCB7IG1pbiwgbWF4IH0pLmZvckVhY2goKGNvbWJvKSA9PiB7XG4gICAgaWYgKGNvbWJvLmxlbmd0aCA9PT0gMCAmJiB0eXBlb2Ygbm90UGFydE9mQW55U2V0ID09PSAnbnVtYmVyJyAmJiBub3RQYXJ0T2ZBbnlTZXQgPiAwKSB7XG4gICAgICBjb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdjb21wb3NpdGUnLFxuICAgICAgICBlbGVtczogW10sXG4gICAgICAgIHNldHM6IG5ldyBTZXQoKSxcbiAgICAgICAgbmFtZTogYCgpYCxcbiAgICAgICAgY2FyZGluYWxpdHk6IG5vdFBhcnRPZkFueVNldCxcbiAgICAgICAgb3ZlcmxhcChzKSB7XG4gICAgICAgICAgcmV0dXJuIHMgPT09IHRoaXMgfHwgKGlzU2V0TGlrZShzKSAmJiBzLm5hbWUgPT09IHRoaXMubmFtZSAmJiBzLmNhcmRpbmFsaXR5ID09PSB0aGlzLmNhcmRpbmFsaXR5KVxuICAgICAgICAgICAgPyB0aGlzLmNhcmRpbmFsaXR5XG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZ3JlZTogMCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbGVtcyA9IGNvbXB1dGUoY29tYm8pO1xuICAgIGlmICghZW1wdHkgJiYgZWxlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgIHR5cGU6IGNvbWJvLmxlbmd0aCA9PT0gMCA/ICdjb21wb3NpdGUnIDogdHlwZSxcbiAgICAgIGVsZW1zLFxuICAgICAgc2V0czogbmV3IFNldChjb21ibyksXG4gICAgICBuYW1lOiBjb21iby5sZW5ndGggPT09IDEgPyBjb21ib1swXS5uYW1lIDogYCgke2NvbWJvLm1hcCgoZCkgPT4gZC5uYW1lKS5qb2luKGpvaW5lcil9KWAsXG4gICAgICBjYXJkaW5hbGl0eTogZWxlbXMubGVuZ3RoLFxuICAgICAgZGVncmVlOiBjb21iby5sZW5ndGgsXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBwb3N0cHJvY2Vzc0NvbWJpbmF0aW9ucyhzZXRzLCBjb21iaW5hdGlvbnMsIHBvc3Rwcm9jZXNzKTtcbn1cbiIsIi8qKlxuICogQHVwc2V0anMvbW9kZWxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJhc2VTZXQ8VCA9IGFueT4ge1xuICAvKipcbiAgICogbmFtZSBvZiB0aGUgc2V0XG4gICAqL1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBlbGVtZW50cyBpbiB0aGlzIHNldFxuICAgKi9cbiAgcmVhZG9ubHkgZWxlbXM6IFJlYWRvbmx5QXJyYXk8VD47XG4gIC8qKlxuICAgKiBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIHNldFxuICAgKi9cbiAgcmVhZG9ubHkgY2FyZGluYWxpdHk6IG51bWJlcjtcbiAgLyoqXG4gICAqIGN1c3RvbSBvdmVybGFwIGNvbXB1dGF0aW9uIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSBvIHRvIGNvbXBhcmUgd2l0aFxuICAgKi9cbiAgb3ZlcmxhcD8obzogSVNldExpa2U8VD4gfCBSZWFkb25seUFycmF5PFQ+KTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTZXQ8VCA9IGFueT4gZXh0ZW5kcyBJQmFzZVNldDxUPiB7XG4gIC8qKlxuICAgKiBhIGZpeGVkIHNldCB0eXBlIHRvIHNlcGFyYXRlIGJldHdlZW4gc2V0cyBhbmQgc2V0IGNvbWJpbmF0aW9uc1xuICAgKi9cbiAgcmVhZG9ubHkgdHlwZTogJ3NldCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNldEludGVyc2VjdGlvbjxUID0gYW55PiBleHRlbmRzIElCYXNlU2V0PFQ+IHtcbiAgLyoqXG4gICAqIHdoZXRoZXIgaXQgaXMgYSBzZXQgb3IgYW4gaW50ZXJzZWN0aW9uXG4gICAqL1xuICByZWFkb25seSB0eXBlOiAnaW50ZXJzZWN0aW9uJztcbiAgLyoqXG4gICAqIHNldHMgdGhpcyBzZXQgaW50ZXJzZWN0aW9uIGlzIGNvbXBvc2VkIG9mXG4gICAqL1xuICByZWFkb25seSBzZXRzOiBSZWFkb25seVNldDxJU2V0PFQ+PjtcbiAgLyoqXG4gICAqIG51bWJlciBvZiBzZXQgaW4gdGhpcyBzZXQgaW50ZXJzZWN0aW9uXG4gICAqL1xuICByZWFkb25seSBkZWdyZWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU2V0VW5pb248VCA9IGFueT4gZXh0ZW5kcyBJQmFzZVNldDxUPiB7XG4gIC8qKlxuICAgKiB3aGV0aGVyIGl0IGlzIGEgc2V0IG9yIGFuIGludGVyc2VjdGlvblxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZTogJ3VuaW9uJztcbiAgLyoqXG4gICAqIHNldHMgdGhpcyBzZXQgaW50ZXJzZWN0aW9uIGlzIGNvbXBvc2VkIG9mXG4gICAqL1xuICByZWFkb25seSBzZXRzOiBSZWFkb25seVNldDxJU2V0PFQ+PjtcbiAgLyoqXG4gICAqIG51bWJlciBvZiBzZXQgaW4gdGhpcyBzZXQgaW50ZXJzZWN0aW9uXG4gICAqL1xuICByZWFkb25seSBkZWdyZWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU2V0Q29tcG9zaXRlPFQgPSBhbnk+IGV4dGVuZHMgSUJhc2VTZXQ8VD4ge1xuICAvKipcbiAgICogd2hldGhlciBpdCBpcyBhIHNldCBvciBhbiBpbnRlcnNlY3Rpb25cbiAgICovXG4gIHJlYWRvbmx5IHR5cGU6ICdjb21wb3NpdGUnO1xuICAvKipcbiAgICogc2V0cyB0aGlzIHNldCBpbnRlcnNlY3Rpb24gaXMgY29tcG9zZWQgb2ZcbiAgICovXG4gIHJlYWRvbmx5IHNldHM6IFJlYWRvbmx5U2V0PElTZXQ8VD4+O1xuICAvKipcbiAgICogbnVtYmVyIG9mIHNldCBpbiB0aGlzIHNldCBpbnRlcnNlY3Rpb25cbiAgICovXG4gIHJlYWRvbmx5IGRlZ3JlZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIHVuaW9uIG9mIGFsbCBzZXQgY29tYmluYXRpb24gdHlwZXNcbiAqL1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBJU2V0Q29tYmluYXRpb248VCA9IGFueT4gPSBJU2V0SW50ZXJzZWN0aW9uPFQ+IHwgSVNldFVuaW9uPFQ+IHwgSVNldENvbXBvc2l0ZTxUPjtcbi8qKlxuICogdW5pb24gb2YgYSBzZXQgb3IgYSBzZXQgY29tYmluYXRpb25cbiAqL1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBJU2V0TGlrZTxUID0gYW55PiA9IElTZXQ8VD4gfCBJU2V0Q29tYmluYXRpb248VD47XG5cbi8qKlxuICogcmVhZG9ubHkgYXJyYXkgb2Ygc2V0c1xuICovXG5leHBvcnQgZGVjbGFyZSB0eXBlIElTZXRzPFQgPSBhbnk+ID0gUmVhZG9ubHlBcnJheTxJU2V0PFQ+Pjtcbi8qKlxuICogcmVhZG9ubHkgYXJyYXkgb2Ygc2V0IGNvbWJpbmF0aW9uc1xuICovXG5leHBvcnQgZGVjbGFyZSB0eXBlIElTZXRDb21iaW5hdGlvbnM8VCA9IGFueT4gPSBSZWFkb25seUFycmF5PElTZXRDb21iaW5hdGlvbjxUPj47XG4vKipcbiAqIHJlYWRvbmx5IGFycmF5IG9mIHNldCBsaWtlIG9iamVjdHNcbiAqL1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBJU2V0TGlrZXM8VCA9IGFueT4gPSBSZWFkb25seUFycmF5PElTZXRMaWtlPFQ+PjtcblxuLyoqXG4gKiBoZWxwZXIgbWV0aG9kIHRvIGdlbmVyYXRlIGEga2V5IGZvciBhIGdpdmVuIHNldFxuICogQHBhcmFtIHMgdGhlIHNldCB0byBjb21wdXRlIHRoZSBrZXkgZm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0tleShzOiBJU2V0TGlrZTxhbnk+KSB7XG4gIHJldHVybiBgJHtzLm5hbWV9OiR7cy50eXBlfSMke3MuY2FyZGluYWxpdHl9YDtcbn1cbiIsIi8qKlxuICogQHVwc2V0anMvbW9kZWxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmV4cG9ydCBkZWNsYXJlIHR5cGUgQmFuZFNjYWxlTGlrZSA9IHtcbiAgKHY6IHN0cmluZyk6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgYmFuZHdpZHRoKCk6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBkZWNsYXJlIHR5cGUgQmFuZFNjYWxlRmFjdG9yeSA9IHtcbiAgKGRvbWFpbjogc3RyaW5nW10sIHNpemU6IG51bWJlciwgcGFkZGluZzogbnVtYmVyKTogQmFuZFNjYWxlTGlrZTtcbn07XG5cbmV4cG9ydCBjb25zdCBiYW5kU2NhbGU6IEJhbmRTY2FsZUZhY3RvcnkgPSAoZG9tYWluOiBzdHJpbmdbXSwgc2l6ZTogbnVtYmVyLCBwYWRkaW5nOiBudW1iZXIpID0+IHtcbiAgLy8gbnVtYmVyIG9mIGJsb2Nrc1xuICBjb25zdCBibG9ja3MgPSBkb21haW4ubGVuZ3RoICsgcGFkZGluZztcbiAgY29uc3Qgc3RlcCA9IHNpemUgLyBNYXRoLm1heCgxLCBibG9ja3MpO1xuICBjb25zdCBzdGFydCA9IHNpemUgLSBzdGVwICogZG9tYWluLmxlbmd0aDtcbiAgY29uc3QgbG9va3VwID0gbmV3IE1hcChkb21haW4ubWFwKChkLCBpKSA9PiBbZCwgaV0pKTtcbiAgY29uc3QgYmFuZHdpZHRoID0gc3RlcCAvICgxICsgcGFkZGluZyk7XG5cbiAgY29uc3Qgc2NhbGUgPSAodjogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBsb29rdXAuZ2V0KHYpO1xuICAgIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnQgKyBzdGVwICogaW5kZXg7XG4gIH07XG4gIHNjYWxlLmJhbmR3aWR0aCA9ICgpID0+IGJhbmR3aWR0aDtcblxuICByZXR1cm4gc2NhbGU7XG59O1xuIiwiLyoqXG4gKiBAdXBzZXRqcy9tb2RlbFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBUaWNrT3B0aW9ucyA9IHtcbiAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJyB8ICd2ZXJ0aWNhbCc7XG4gIGZvbnRTaXplSGludDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBOdW1lcmljU2NhbGVUaWNrID0geyB2YWx1ZTogbnVtYmVyOyBsYWJlbD86IHN0cmluZyB9O1xuXG5leHBvcnQgZGVjbGFyZSB0eXBlIE51bWVyaWNTY2FsZUxpa2UgPSB7XG4gICh2OiBudW1iZXIpOiBudW1iZXI7XG4gIC8vIGFwaSB0byBiZSBjb21wYXRpYmxlIHdpdGggZDMtc2NhbGVcbiAgdGlja3MoY291bnQ/OiBudW1iZXIpOiBSZWFkb25seUFycmF5PE51bWVyaWNTY2FsZVRpY2sgfCBudW1iZXI+O1xuICB0aWNrRm9ybWF0KCk6ICh2OiBudW1iZXIpID0+IHN0cmluZztcbn07XG5cbmV4cG9ydCBkZWNsYXJlIHR5cGUgTnVtZXJpY1NjYWxlRmFjdG9yeSA9IHtcbiAgKG1heDogbnVtYmVyLCByYW5nZTogW251bWJlciwgbnVtYmVyXSwgb3B0aW9uczogVGlja09wdGlvbnMpOiBOdW1lcmljU2NhbGVMaWtlO1xufTtcblxuZnVuY3Rpb24gaGFzT3ZlcmxhcChwb3NpdGlvbnM6IG51bWJlcltdLCBoZWlnaHRzOiBudW1iZXJbXSwgc3RyaWRlID0gMSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc2l0aW9ucy5sZW5ndGggLSBzdHJpZGU7IGkgKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgcG9zX2kgPSBwb3NpdGlvbnNbaV07XG4gICAgY29uc3QgcG9zX24gPSBwb3NpdGlvbnNbaSArIDFdO1xuICAgIGlmIChwb3NfaSA8IHBvc19uKSB7XG4gICAgICBjb25zdCByaWdodCA9IHBvc19pICsgaGVpZ2h0c1tpXSAvIDI7XG4gICAgICBjb25zdCBsZWZ0ID0gcG9zX24gLSBoZWlnaHRzW2kgKyAxXSAvIDI7XG4gICAgICBpZiAocmlnaHQgPiBsZWZ0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsZWZ0ID0gcG9zX2kgLSBoZWlnaHRzW2ldIC8gMjtcbiAgICAgIGNvbnN0IHJpZ2h0ID0gcG9zX24gKyBoZWlnaHRzW2kgKyAxXSAvIDI7XG4gICAgICBpZiAocmlnaHQgPiBsZWZ0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVMYXN0KFxuICB0aWNrczogTnVtZXJpY1NjYWxlVGlja1tdLFxuICBtYXg6IG51bWJlcixcbiAgc2NhbGU6ICh2OiBudW1iZXIpID0+IG51bWJlcixcbiAgaGVpZ2h0UGVyVGljazogKHY6IG51bWJlcikgPT4gbnVtYmVyLFxuICB0b1N0cjogKHY6IG51bWJlcikgPT4gc3RyaW5nXG4pIHtcbiAgbGV0IGxhc3QgPSB0aWNrc1t0aWNrcy5sZW5ndGggLSAxXTtcbiAgaWYgKCFsYXN0LmxhYmVsKSB7XG4gICAgZm9yIChsZXQgaiA9IHRpY2tzLmxlbmd0aCAtIDI7IGogPiAwOyAtLWopIHtcbiAgICAgIGlmICh0aWNrc1tqXS5sYWJlbCkge1xuICAgICAgICBsYXN0ID0gdGlja3Nbal07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobGFzdC52YWx1ZSA8IG1heCkge1xuICAgIC8vIGNoZWNrIGlmIHdlIGNhbiBzcXVlZXplIGl0IGluXG4gICAgY29uc3QgcG9zX2wgPSBzY2FsZShsYXN0LnZhbHVlKTtcbiAgICBjb25zdCBwb3NfbWF4ID0gc2NhbGUobWF4KTtcbiAgICBpZiAocG9zX2wgPCBwb3NfbWF4KSB7XG4gICAgICBjb25zdCByaWdodCA9IHBvc19sICsgaGVpZ2h0UGVyVGljayhsYXN0LnZhbHVlKSAvIDI7XG4gICAgICBjb25zdCBsZWZ0ID0gcG9zX21heCAtIGhlaWdodFBlclRpY2sobWF4KSAvIDI7XG4gICAgICBpZiAocmlnaHQgPCBsZWZ0KSB7XG4gICAgICAgIHRpY2tzLnB1c2goeyB2YWx1ZTogbWF4LCBsYWJlbDogdG9TdHIobWF4KSB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGVmdCA9IHBvc19sIC0gaGVpZ2h0UGVyVGljayhsYXN0LnZhbHVlKSAvIDI7XG4gICAgICBjb25zdCByaWdodCA9IHBvc19tYXggKyBoZWlnaHRQZXJUaWNrKG1heCkgLyAyO1xuICAgICAgaWYgKHJpZ2h0IDwgbGVmdCkge1xuICAgICAgICB0aWNrcy5wdXNoKHsgdmFsdWU6IG1heCwgbGFiZWw6IHRvU3RyKG1heCkgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0aWNrcztcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlblRpY2tzKHZhbHVlczogbnVtYmVyW10sIHRvU3RyOiAodjogbnVtYmVyKSA9PiBzdHJpbmcgPSBTdHJpbmcsIHN0cmlkZSA9IDEpIHtcbiAgcmV0dXJuIHZhbHVlcy5tYXAoKHYsIGkpID0+ICh7XG4gICAgdmFsdWU6IHYsXG4gICAgbGFiZWw6IHN0cmlkZSA9PT0gMSB8fCBpICUgc3RyaWRlID09PSAwID8gdG9TdHIodikgOiB1bmRlZmluZWQsXG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrVmFsdWVzKFxuICB2YWx1ZXM6IG51bWJlcltdLFxuICBzY2FsZTogKHY6IG51bWJlcikgPT4gbnVtYmVyLFxuICBoZWlnaHRQZXJUaWNrOiAodjogbnVtYmVyKSA9PiBudW1iZXIsXG4gIG1heDogbnVtYmVyLFxuICB0b1N0cjogKHY6IG51bWJlcikgPT4gc3RyaW5nXG4pIHtcbiAgY29uc3QgcG9zaXRpb25zID0gdmFsdWVzLm1hcCgodikgPT4gc2NhbGUodikpO1xuICBjb25zdCBoZWlnaHRzID0gdmFsdWVzLm1hcCgodikgPT4gaGVpZ2h0UGVyVGljayh2KSk7XG5cbiAgLy8gY2hlY2sgaWYgYW55IG92ZXJsYXBzXG4gIGlmICghaGFzT3ZlcmxhcChwb3NpdGlvbnMsIGhlaWdodHMpKSB7XG4gICAgLy8gd2UgY2FuIHVzZSBhbGxcbiAgICByZXR1cm4gZW5zdXJlTGFzdChnZW5UaWNrcyh2YWx1ZXMsIHRvU3RyKSwgbWF4LCBzY2FsZSwgaGVpZ2h0UGVyVGljaywgdG9TdHIpO1xuICB9XG4gIGlmICghaGFzT3ZlcmxhcChwb3NpdGlvbnMsIGhlaWdodHMsIDIpKSB7XG4gICAgLy8gZXZlcnkgb3RoZXIgYXQgbGVhc3RcbiAgICByZXR1cm4gZW5zdXJlTGFzdChnZW5UaWNrcyh2YWx1ZXMsIHRvU3RyKSwgbWF4LCBzY2FsZSwgaGVpZ2h0UGVyVGljaywgdG9TdHIpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuIiwiLyoqXG4gKiBAdXBzZXRqcy9tb2RlbFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuaW1wb3J0IHsgTnVtZXJpY1NjYWxlRmFjdG9yeSwgTnVtZXJpY1NjYWxlVGljaywgVGlja09wdGlvbnMsIGdlblRpY2tzLCBjaGVja1ZhbHVlcyB9IGZyb20gJy4vbnVtZXJpYyc7XG5cbmZ1bmN0aW9uIHRvU3RyKHY6IG51bWJlcikge1xuICByZXR1cm4gdi50b0xvY2FsZVN0cmluZygpO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5pY2VGYWN0b3JzKG1heDogbnVtYmVyLCBtYXhDb3VudDogbnVtYmVyID0gMTEpIHtcbiAgY29uc3QgZGlnaXRzID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihNYXRoLmxvZzEwKG1heCkgLSAwLjUpKTtcbiAgY29uc3QgZmFjdG9yID0gTWF0aC5wb3coMTAsIGRpZ2l0cyk7XG4gIGNvbnN0IGZhY3RvcnMgPSBbMSwgMiwgNV07XG5cbiAgY29uc3QgciA9IGZhY3RvcnMubWFwKChmKSA9PiBmICogZmFjdG9yKTtcbiAgaWYgKGRpZ2l0cyA+IDApIHtcbiAgICByLnVuc2hpZnQoZmFjdG9yc1tmYWN0b3JzLmxlbmd0aCAtIDFdICogTWF0aC5wb3coMTAsIGRpZ2l0cyAtIDEpKTtcbiAgfVxuICByLnB1c2goZmFjdG9yc1swXSAqIE1hdGgucG93KDEwLCBkaWdpdHMgKyAxKSk7XG4gIGNvbnN0IGxvd2VyID0gTWF0aC5jZWlsKG1heCAvIG1heENvdW50KTtcbiAgcmV0dXJuIHIuZmlsdGVyKChkKSA9PiBkID49IGxvd2VyICYmIGQgPD0gbWF4KTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKG1heDogbnVtYmVyLCBpbmMgPSAxKSB7XG4gIGNvbnN0IHZhbHVlczogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgdiA9IDA7IHYgPD0gbWF4OyB2ICs9IGluYykge1xuICAgIHZhbHVlcy5wdXNoKHYpO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIGRpc3RyaWJ1dGVUaWNrcyhcbiAgbWF4OiBudW1iZXIsXG4gIG1heENvdW50OiBudW1iZXIsXG4gIHNjYWxlOiAodjogbnVtYmVyKSA9PiBudW1iZXIsXG4gIGhlaWdodFBlclRpY2s6ICh2OiBudW1iZXIpID0+IG51bWJlclxuKTogTnVtZXJpY1NjYWxlVGlja1tdIHtcbiAgaWYgKG1heENvdW50IDw9IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgZmFjdG9ycyA9IG5pY2VGYWN0b3JzKG1heCwgbWF4Q291bnQpO1xuXG4gIC8vIHRyeSBvdXQgYWxsIGZhY3RvcnNcbiAgZm9yIChjb25zdCBmYWN0b3Igb2YgZmFjdG9ycykge1xuICAgIGNvbnN0IHZhbHVlcyA9IHJhbmdlKG1heCwgZmFjdG9yKTtcbiAgICBjb25zdCByID0gY2hlY2tWYWx1ZXModmFsdWVzLCBzY2FsZSwgaGVpZ2h0UGVyVGljaywgbWF4LCB0b1N0cik7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfVxuICAvLyBmaXJzdCBhbmQgbGFzdCBvbmx5XG4gIHJldHVybiBnZW5UaWNrcyhbMCwgbWF4XSwgdG9TdHIpO1xufVxuXG5leHBvcnQgY29uc3QgbGluZWFyU2NhbGU6IE51bWVyaWNTY2FsZUZhY3RvcnkgPSAobWF4OiBudW1iZXIsIHJhbmdlOiBbbnVtYmVyLCBudW1iZXJdLCBvcHRpb25zOiBUaWNrT3B0aW9ucykgPT4ge1xuICBjb25zdCBzaXplID0gcmFuZ2VbMV0gLSByYW5nZVswXTtcbiAgY29uc3QgZG9tYWluID0gbWF4O1xuXG4gIGNvbnN0IHNjYWxlID0gKHY6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG4gPSB2IC8gZG9tYWluO1xuICAgIHJldHVybiByYW5nZVswXSArIG4gKiBzaXplO1xuICB9O1xuICBzY2FsZS50aWNrcyA9IChjb3VudCA9IDEwKSA9PiB7XG4gICAgaWYgKG9wdGlvbnMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIGNvbnN0IGhlaWdodFBlclRpY2sgPSBNYXRoLmNlaWwob3B0aW9ucy5mb250U2l6ZUhpbnQgKiAxLjQpO1xuICAgICAgcmV0dXJuIGRpc3RyaWJ1dGVUaWNrcyhtYXgsIGNvdW50ICsgMSwgc2NhbGUsICgpID0+IGhlaWdodFBlclRpY2spO1xuICAgIH1cbiAgICBjb25zdCB3aWR0aFBlckNoYXIgPSBvcHRpb25zLmZvbnRTaXplSGludCAvIDEuNDtcbiAgICByZXR1cm4gZGlzdHJpYnV0ZVRpY2tzKG1heCwgY291bnQgKyAxLCBzY2FsZSwgKHYpID0+IE1hdGguY2VpbCh0b1N0cih2KS5sZW5ndGggKiB3aWR0aFBlckNoYXIpKTtcbiAgfTtcbiAgc2NhbGUudGlja0Zvcm1hdCA9ICgpID0+IHRvU3RyO1xuXG4gIHJldHVybiBzY2FsZTtcbn07XG4iLCIvKipcbiAqIEB1cHNldGpzL21vZGVsXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBOdW1lcmljU2NhbGVGYWN0b3J5LCBOdW1lcmljU2NhbGVUaWNrLCBnZW5UaWNrcywgVGlja09wdGlvbnMsIGNoZWNrVmFsdWVzLCBlbnN1cmVMYXN0IH0gZnJvbSAnLi9udW1lcmljJztcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyKHY6IG51bWJlcikge1xuICBjb25zdCBvcmRlcnMgPSBbJycsICdrJywgJ00nLCAnRyddO1xuICBjb25zdCBvcmRlciA9IE1hdGgubWF4KDAsIE1hdGgubWluKE1hdGguZmxvb3IoTWF0aC5sb2cxMCh2KSAvIDMpLCBvcmRlcnMubGVuZ3RoIC0gMSkpO1xuXG4gIGNvbnN0IHZpID0gTWF0aC5yb3VuZCh2IC8gTWF0aC5wb3coMTAsIG9yZGVyICogMyAtIDEpKSAvIDEwO1xuICByZXR1cm4gYCR7dmkudG9Mb2NhbGVTdHJpbmcoKX0ke29yZGVyc1tvcmRlcl19YDtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKG1heDogbnVtYmVyLCBmYWN0b3I6IG51bWJlcikge1xuICBjb25zdCB2YWx1ZXM6IG51bWJlcltdID0gW107XG4gIGNvbnN0IGluYyA9IE1hdGgucG93KDEwLCBmYWN0b3IpO1xuICBmb3IgKGxldCB2ID0gMTsgdiA8PSBtYXg7IHYgKj0gaW5jKSB7XG4gICAgdmFsdWVzLnB1c2godik7XG4gIH1cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJbm5lclRpY2tzKG1heDogbnVtYmVyLCBmYWN0b3I6IG51bWJlcikge1xuICBjb25zdCB2YWx1ZXM6IE51bWVyaWNTY2FsZVRpY2tbXSA9IFtdO1xuICBjb25zdCBpbmMgPSAxMDtcbiAgZm9yIChsZXQgdiA9IDEsIGkgPSAwOyB2IDw9IG1heDsgdiAqPSBpbmMsIGkrKykge1xuICAgIHZhbHVlcy5wdXNoKHtcbiAgICAgIHZhbHVlOiB2LFxuICAgICAgbGFiZWw6IGZhY3RvciA9PT0gMSB8fCBpICUgZmFjdG9yID09PSAwID8gdG9TdHIodikgOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gICAgZm9yIChsZXQgdnYgPSB2ICsgdjsgdnYgPCB2ICogaW5jICYmIHZ2IDwgbWF4OyB2diArPSB2ICogZmFjdG9yKSB7XG4gICAgICB2YWx1ZXMucHVzaCh7IHZhbHVlOiB2diB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuZnVuY3Rpb24gZGlzdHJpYnV0ZVRpY2tzKFxuICBtYXg6IG51bWJlcixcbiAgbWF4Q291bnQ6IG51bWJlcixcbiAgc2NhbGU6ICh2OiBudW1iZXIpID0+IG51bWJlcixcbiAgaGVpZ2h0UGVyVGljazogKHY6IG51bWJlcikgPT4gbnVtYmVyXG4pOiBOdW1lcmljU2NhbGVUaWNrW10ge1xuICBpZiAobWF4Q291bnQgPD0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGZvciAoY29uc3QgZmFjdG9yIG9mIFsxLCAyLCA1XSkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHJhbmdlKG1heCwgZmFjdG9yKTtcbiAgICBjb25zdCByID0gY2hlY2tWYWx1ZXModmFsdWVzLCBzY2FsZSwgaGVpZ2h0UGVyVGljaywgbWF4LCB0b1N0cik7XG4gICAgaWYgKHIpIHtcbiAgICAgIC8vIGdlbmVyYXRlIG5ldyBidXQgd2l0aCBoaWRkZW4gdGlja3NcbiAgICAgIHJldHVybiBlbnN1cmVMYXN0KGdlbmVyYXRlSW5uZXJUaWNrcyhtYXgsIGZhY3RvciksIG1heCwgc2NhbGUsIGhlaWdodFBlclRpY2ssIHRvU3RyKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdlblRpY2tzKFswLCBtYXhdLCB0b1N0cik7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dTY2FsZTogTnVtZXJpY1NjYWxlRmFjdG9yeSA9IChtYXg6IG51bWJlciwgcmFuZ2U6IFtudW1iZXIsIG51bWJlcl0sIG9wdGlvbnM6IFRpY2tPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHNpemUgPSByYW5nZVsxXSAtIHJhbmdlWzBdO1xuICBjb25zdCBkb21haW4gPSBtYXggPCAxID8gMSA6IE1hdGgubG9nMTAobWF4KTtcblxuICBjb25zdCBzY2FsZSA9ICh2OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBuID0gdiA8PSAxID8gMCA6IE1hdGgubG9nMTAodikgLyBkb21haW47XG4gICAgcmV0dXJuIHJhbmdlWzBdICsgbiAqIHNpemU7XG4gIH07XG4gIHNjYWxlLnRpY2tzID0gKGNvdW50ID0gMTApID0+IHtcbiAgICBpZiAob3B0aW9ucy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgY29uc3QgaGVpZ2h0UGVyVGljayA9IE1hdGguY2VpbChvcHRpb25zLmZvbnRTaXplSGludCAqIDEuNCk7XG4gICAgICByZXR1cm4gZGlzdHJpYnV0ZVRpY2tzKG1heCwgY291bnQgKyAxLCBzY2FsZSwgKCkgPT4gaGVpZ2h0UGVyVGljayk7XG4gICAgfVxuICAgIGNvbnN0IHdpZHRoUGVyQ2hhciA9IG9wdGlvbnMuZm9udFNpemVIaW50IC8gMS40O1xuICAgIHJldHVybiBkaXN0cmlidXRlVGlja3MobWF4LCBjb3VudCArIDEsIHNjYWxlLCAodikgPT4gTWF0aC5jZWlsKHRvU3RyKHYpLmxlbmd0aCAqIHdpZHRoUGVyQ2hhcikpO1xuICB9O1xuICBzY2FsZS50aWNrRm9ybWF0ID0gKCkgPT4gdG9TdHI7XG5cbiAgcmV0dXJuIHNjYWxlO1xufTtcbiIsIi8qKlxuICogQHVwc2V0anMvcmVhY3RcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCB7IElTZXRMaWtlIH0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuXG5mdW5jdGlvbiBub29wKCkge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcDxUPihmPzogKHNldDogSVNldExpa2U8VD4gfCBudWxsLCBldnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpIHtcbiAgaWYgKCFmKSB7XG4gICAgcmV0dXJuIG5vb3A7XG4gIH1cbiAgcmV0dXJuIChzZXQ6IElTZXRMaWtlPFQ+KSA9PiB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBhbnksIGV2dDogUmVhY3QuTW91c2VFdmVudCkge1xuICAgICAgcmV0dXJuIGYuY2FsbCh0aGlzLCBzZXQsIGV2dC5uYXRpdmVFdmVudCk7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsc3goLi4uY2xhenplczogKGJvb2xlYW4gfCBzdHJpbmcgfCB1bmRlZmluZWQpW10pIHtcbiAgcmV0dXJuIGNsYXp6ZXMuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZG9uUG9zaXRpb25HZW5lcmF0b3IodG90YWw6IG51bWJlcikge1xuICBsZXQgYmVmb3JlQWNjID0gMDtcbiAgbGV0IGFmdGVyQWNjID0gMDtcbiAgcmV0dXJuIChhZGRvbjogeyBwb3NpdGlvbj86ICdiZWZvcmUnIHwgJ2FmdGVyJzsgc2l6ZTogbnVtYmVyIH0pID0+IHtcbiAgICBsZXQgeCA9IDA7XG4gICAgaWYgKGFkZG9uLnBvc2l0aW9uID09PSAnYmVmb3JlJykge1xuICAgICAgYmVmb3JlQWNjICs9IGFkZG9uLnNpemU7XG4gICAgICB4ID0gLWJlZm9yZUFjYztcbiAgICB9IGVsc2Uge1xuICAgICAgeCA9IHRvdGFsICsgYWZ0ZXJBY2M7XG4gICAgICBhZnRlckFjYyArPSBhZGRvbi5zaXplO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSWQoX2FyZ3M/OiBhbnkpIHtcbiAgcmV0dXJuIGB1cHNldC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDQpfWA7XG59XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQge1xuICBJU2V0Q29tYmluYXRpb25zLFxuICBJU2V0cyxcbiAgTnVtZXJpY1NjYWxlTGlrZSxcbiAgTnVtZXJpY1NjYWxlRmFjdG9yeSxcbiAgQmFuZFNjYWxlRmFjdG9yeSxcbiAgR2VuZXJhdGVTZXRDb21iaW5hdGlvbnNPcHRpb25zLFxuICBnZW5lcmF0ZUNvbWJpbmF0aW9ucyxcbiAgbGluZWFyU2NhbGUsXG4gIGxvZ1NjYWxlLFxuICBiYW5kU2NhbGUsXG4gIElTZXRMaWtlLFxuICBJU2V0LFxuICBJU2V0Q29tYmluYXRpb24sXG59IGZyb20gJ0B1cHNldGpzL21vZGVsJztcbmltcG9ydCB7IFVwU2V0U2l6ZUluZm8gfSBmcm9tICcuL2Rlcml2ZVNpemVEZXBlbmRlbnQnO1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiByZXNvbHZlTnVtZXJpY1NjYWxlKGZhY3Rvcnk6IE51bWVyaWNTY2FsZUZhY3RvcnkgfCAnbGluZWFyJyB8ICdsb2cnKTogTnVtZXJpY1NjYWxlRmFjdG9yeSB7XG4gIGlmIChmYWN0b3J5ID09PSAnbGluZWFyJykge1xuICAgIHJldHVybiBsaW5lYXJTY2FsZTtcbiAgfVxuICBpZiAoZmFjdG9yeSA9PT0gJ2xvZycpIHtcbiAgICByZXR1cm4gbG9nU2NhbGU7XG4gIH1cbiAgcmV0dXJuIGZhY3Rvcnk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVCYW5kU2NhbGUoZmFjdG9yeTogQmFuZFNjYWxlRmFjdG9yeSB8ICdiYW5kJyk6IEJhbmRTY2FsZUZhY3Rvcnkge1xuICByZXR1cm4gZmFjdG9yeSA9PT0gJ2JhbmQnID8gYmFuZFNjYWxlIDogZmFjdG9yeTtcbn1cblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBVcFNldERhdGFJbmZvPFQ+ID0ge1xuICBpZDogc3RyaW5nO1xuICByOiBudW1iZXI7XG4gIHRyaWFuZ2xlU2l6ZTogbnVtYmVyO1xuICBzZXRzOiB7XG4gICAgdjogSVNldHM8VD47XG4gICAga2V5czogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICAgIHJ2OiBJU2V0czxUPjtcbiAgICB4OiBOdW1lcmljU2NhbGVMaWtlO1xuICAgIHhBeGlzV2lkdGg6IG51bWJlcjtcbiAgICB5KHM6IElTZXQ8VD4pOiBudW1iZXI7XG4gICAgYmFuZFdpZHRoOiBudW1iZXI7XG4gICAgY3k6IG51bWJlcjtcbiAgICBmb3JtYXQodjogbnVtYmVyKTogc3RyaW5nO1xuICAgIGxhYmVsT2Zmc2V0OiBudW1iZXI7XG4gIH07XG4gIGNzOiB7XG4gICAgdjogSVNldENvbWJpbmF0aW9uczxUPjtcbiAgICBrZXlzOiBSZWFkb25seUFycmF5PHN0cmluZz47XG4gICAgeChzOiBJU2V0Q29tYmluYXRpb248VD4pOiBudW1iZXI7XG4gICAgeTogTnVtZXJpY1NjYWxlTGlrZTtcbiAgICB5QXhpc1dpZHRoOiBudW1iZXI7XG4gICAgYmFuZFdpZHRoOiBudW1iZXI7XG4gICAgY3g6IG51bWJlcjtcbiAgICBmb3JtYXQodjogbnVtYmVyKTogc3RyaW5nO1xuICAgIGhhcyh2OiBJU2V0Q29tYmluYXRpb248VD4sIHM6IElTZXQ8VD4pOiBib29sZWFuO1xuICAgIGxhYmVsT2Zmc2V0OiBudW1iZXI7XG4gIH07XG4gIHRvS2V5KHM6IElTZXRMaWtlPFQ+KTogc3RyaW5nO1xuICB0b0VsZW1LZXk/KGU6IFQpOiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiBhcmVDb21iaW5hdGlvbnM8VD4oXG4gIGNvbWJpbmF0aW9uczogSVNldENvbWJpbmF0aW9uczxUPiB8IEdlbmVyYXRlU2V0Q29tYmluYXRpb25zT3B0aW9uc1xuKTogY29tYmluYXRpb25zIGlzIElTZXRDb21iaW5hdGlvbnM8VD4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShjb21iaW5hdGlvbnMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXJpdmVEYXRhRGVwZW5kZW50PFQ+KFxuICBzZXRzOiBJU2V0czxUPixcbiAgY29tYmluYXRpb25zOiBJU2V0Q29tYmluYXRpb25zPFQ+IHwgR2VuZXJhdGVTZXRDb21iaW5hdGlvbnNPcHRpb25zLFxuICBzaXplczogVXBTZXRTaXplSW5mbyxcbiAgbnVtZXJpY1NjYWxlOiBOdW1lcmljU2NhbGVGYWN0b3J5IHwgJ2xpbmVhcicgfCAnbG9nJyxcbiAgYmFuZFNjYWxlOiBCYW5kU2NhbGVGYWN0b3J5IHwgJ2JhbmQnLFxuICBiYXJMYWJlbEZvbnRTaXplOiBudW1iZXIsXG4gIGRvdFBhZGRpbmc6IG51bWJlcixcbiAgYmFyUGFkZGluZzogbnVtYmVyLFxuICB0aWNrRm9udFNpemU6IG51bWJlcixcbiAgdG9LZXk6IChzOiBJU2V0TGlrZTxUPikgPT4gc3RyaW5nLFxuICB0b0VsZW1LZXk/OiAoZTogVCkgPT4gc3RyaW5nLFxuICBpZD86IHN0cmluZ1xuKTogVXBTZXREYXRhSW5mbzxUPiB7XG4gIGNvbnN0IG51bWVyaWNTY2FsZUZhY3RvcnkgPSByZXNvbHZlTnVtZXJpY1NjYWxlKG51bWVyaWNTY2FsZSk7XG4gIGNvbnN0IGJhbmRTY2FsZUZhY3RvcnkgPSByZXNvbHZlQmFuZFNjYWxlKGJhbmRTY2FsZSk7XG4gIGNvbnN0IGNzID0gYXJlQ29tYmluYXRpb25zKGNvbWJpbmF0aW9ucykgPyBjb21iaW5hdGlvbnMgOiBnZW5lcmF0ZUNvbWJpbmF0aW9ucyhzZXRzLCBjb21iaW5hdGlvbnMpO1xuXG4gIGNvbnN0IGNzS2V5cyA9IGNzLm1hcCh0b0tleSk7XG4gIGNvbnN0IGNvbWJpbmF0aW9uWCA9IGJhbmRTY2FsZUZhY3RvcnkoY3NLZXlzLCBzaXplcy5jcy53LCBzaXplcy5wYWRkaW5nKTtcbiAgY29uc3QgbWF4Q1NDYXJkaW5hbGl0eSA9IGNzLnJlZHVjZSgoYWNjLCBkKSA9PiBNYXRoLm1heChhY2MsIGQuY2FyZGluYWxpdHkpLCAwKTtcbiAgY29uc3QgY29tYmluYXRpb25ZID0gbnVtZXJpY1NjYWxlRmFjdG9yeShtYXhDU0NhcmRpbmFsaXR5LCBbc2l6ZXMuY3MuaCwgYmFyTGFiZWxGb250U2l6ZV0sIHtcbiAgICBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICBmb250U2l6ZUhpbnQ6IHRpY2tGb250U2l6ZSxcbiAgfSk7XG4gIGNvbnN0IGd1ZXNzTGFiZWxXaWR0aCA9ICh2OiBudW1iZXIpID0+XG4gICAgTWF0aC5mbG9vcigoYmFyTGFiZWxGb250U2l6ZSAvIDEuNCkgKiAwLjcgKiBjb21iaW5hdGlvblkudGlja0Zvcm1hdCgpKHYpLmxlbmd0aCk7XG5cbiAgY29uc3QgbWF4U2V0Q2FyZGluYWxpdHkgPSBzZXRzLnJlZHVjZSgoYWNjLCBkKSA9PiBNYXRoLm1heChhY2MsIGQuY2FyZGluYWxpdHkpLCAwKTtcbiAgY29uc3QgbGFyZ2VzdFNldExhYmVsV2lkdGggPSBndWVzc0xhYmVsV2lkdGgobWF4U2V0Q2FyZGluYWxpdHkpO1xuICBjb25zdCBsYXJnZXN0Q1NMYWJlbFdpZHRoID0gZ3Vlc3NMYWJlbFdpZHRoKG1heENTQ2FyZGluYWxpdHkpO1xuXG4gIGNvbnN0IHNldFggPSBudW1lcmljU2NhbGVGYWN0b3J5KG1heFNldENhcmRpbmFsaXR5LCBbc2l6ZXMuc2V0cy53LCBsYXJnZXN0U2V0TGFiZWxXaWR0aF0sIHtcbiAgICBvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLFxuICAgIGZvbnRTaXplSGludDogdGlja0ZvbnRTaXplLFxuICB9KTtcbiAgY29uc3Qgc2V0S2V5cyA9IHNldHMubWFwKHRvS2V5KTtcbiAgY29uc3Qgc2V0WSA9IGJhbmRTY2FsZUZhY3RvcnkoXG4gICAgc2V0S2V5cy5zbGljZSgpLnJldmVyc2UoKSwgLy8gcmV2ZXJzZSBvcmRlclxuICAgIHNpemVzLnNldHMuaCxcbiAgICBzaXplcy5wYWRkaW5nXG4gICk7XG4gIGNvbnN0IHIgPSAoTWF0aC5taW4oc2V0WS5iYW5kd2lkdGgoKSwgY29tYmluYXRpb25YLmJhbmR3aWR0aCgpKSAvIDIpICogZG90UGFkZGluZztcblxuICBjb25zdCB0cmlhbmdsZVNpemUgPSBNYXRoLm1heCgyLCAoTWF0aC5taW4oc2V0WS5iYW5kd2lkdGgoKSwgY29tYmluYXRpb25YLmJhbmR3aWR0aCgpKSAvIDIpICogYmFyUGFkZGluZyk7XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogaWQgPyBpZCA6IGdlbmVyYXRlSWQoKSxcbiAgICByLFxuICAgIHRyaWFuZ2xlU2l6ZSxcbiAgICBzZXRzOiB7XG4gICAgICB2OiBzZXRzLFxuICAgICAga2V5czogc2V0S2V5cyxcbiAgICAgIHJ2OiBzZXRzLnNsaWNlKCkucmV2ZXJzZSgpLFxuICAgICAgeDogc2V0WCxcbiAgICAgIHhBeGlzV2lkdGg6IHNpemVzLnNldHMudyAtIGxhcmdlc3RTZXRMYWJlbFdpZHRoLFxuICAgICAgeTogKHMpID0+IHNldFkodG9LZXkocykpISxcbiAgICAgIGJhbmRXaWR0aDogc2V0WS5iYW5kd2lkdGgoKSxcbiAgICAgIGN5OiBzZXRZLmJhbmR3aWR0aCgpIC8gMiArIHNpemVzLmNzLmgsXG4gICAgICBmb3JtYXQ6IHNldFgudGlja0Zvcm1hdCgpLFxuICAgICAgbGFiZWxPZmZzZXQ6IGJhckxhYmVsRm9udFNpemUgKyA5ICsgMixcbiAgICB9LFxuICAgIGNzOiB7XG4gICAgICB2OiBjcyxcbiAgICAgIGtleXM6IGNzLm1hcCh0b0tleSksXG4gICAgICB4OiAocykgPT4gY29tYmluYXRpb25YKHRvS2V5KHMpKSEsXG4gICAgICB5OiBjb21iaW5hdGlvblksXG4gICAgICB5QXhpc1dpZHRoOiBzaXplcy5jcy5oIC0gYmFyTGFiZWxGb250U2l6ZSxcbiAgICAgIGN4OiBjb21iaW5hdGlvblguYmFuZHdpZHRoKCkgLyAyLFxuICAgICAgYmFuZFdpZHRoOiBjb21iaW5hdGlvblguYmFuZHdpZHRoKCksXG4gICAgICBmb3JtYXQ6IGNvbWJpbmF0aW9uWS50aWNrRm9ybWF0KCksXG4gICAgICBoYXM6ICh2LCBzKSA9PiB7XG4gICAgICAgIGNvbnN0IHNrID0gdG9LZXkocyk7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHYuc2V0cykuc29tZSgoc3MpID0+IHRvS2V5KHNzKSA9PT0gc2spO1xuICAgICAgfSxcbiAgICAgIGxhYmVsT2Zmc2V0OiBsYXJnZXN0Q1NMYWJlbFdpZHRoICsgOSArIDYsXG4gICAgfSxcbiAgICB0b0tleSxcbiAgICB0b0VsZW1LZXksXG4gIH07XG59XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5leHBvcnQgY29uc3QgRU1QVFlfT0JKRUNUID0ge307XG5leHBvcnQgY29uc3QgRU1QVFlfQVJSQVk6IGFueVtdID0gW107XG5leHBvcnQgY29uc3QgREVGQVVMVF9GT05UU0laRVMgPSB7XG4gIHNldExhYmVsOiAnMTZweCcsXG4gIGF4aXNUaWNrOiAnMTBweCcsXG4gIGNoYXJ0TGFiZWw6ICcxNnB4JyxcbiAgYmFyTGFiZWw6ICcxMHB4JyxcbiAgbGVnZW5kOiAnMTBweCcsXG59O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfV0lEVEhfUkFUSU8gPSBbMC4xOCwgMC4xMiwgMC43XTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0hFSUdIVF9SQVRJTyA9IFswLjYsIDAuNF07XG5leHBvcnQgY29uc3QgREVGQVVMVF9DT01CSU5BVElPTlMgPSB7IHR5cGU6ICdpbnRlcnNlY3Rpb24nIH07XG5cbmV4cG9ydCBjb25zdCBEQVJLX0JBQ0tHUk9VTkRfQ09MT1IgPSAnIzMwMzAzMCc7XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBEQVJLX0JBQ0tHUk9VTkRfQ09MT1IgfSBmcm9tICcuLi9kZWZhdWx0cyc7XG5cbi8qKlxuICogaGVscGVyIG1ldGhvZCB0byBleHBvcnQgYW4gZG93bmxvYWQgYW4gU1ZHIGltYWdlXG4gKiBAcGFyYW0gbm9kZSB0aGUgU1ZHIGVsZW1lbnQgdG8gZG93bmxvYWRcbiAqIEBwYXJhbSBvcHRpb25zIGFkZGl0aW9uYWwgb3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0U1ZHKFxuICBub2RlOiBTVkdTVkdFbGVtZW50LFxuICB7IHR5cGUgPSAncG5nJywgdGl0bGUgPSAnVXBTZXQnLCB0b1JlbW92ZSB9OiB7IHR5cGU/OiAncG5nJyB8ICdzdmcnOyB0aXRsZT86IHN0cmluZzsgdG9SZW1vdmU/OiBzdHJpbmcgfVxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHRoZW1lID0gbm9kZS5kYXRhc2V0LnRoZW1lO1xuICBjb25zdCBjbG9uZSA9IG5vZGUuY2xvbmVOb2RlKHRydWUpIGFzIFNWR1NWR0VsZW1lbnQ7XG4gIGNsb25lLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoZW1lID09PSAnZGFyaycgPyBEQVJLX0JBQ0tHUk9VTkRfQ09MT1IgOiAnd2hpdGUnO1xuXG4gIGlmICh0b1JlbW92ZSkge1xuICAgIEFycmF5LmZyb20oY2xvbmUucXVlcnlTZWxlY3RvckFsbCh0b1JlbW92ZSkpLmZvckVhY2goKGQpID0+IGQucmVtb3ZlKCkpO1xuICB9XG5cbiAgY29uc3QgYiA9IG5ldyBCbG9iKFtuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKGNsb25lKV0sIHtcbiAgICB0eXBlOiAnaW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04JyxcbiAgfSk7XG5cbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChiKTtcbiAgaWYgKHR5cGUgPT09ICdzdmcnKSB7XG4gICAgZG93bmxvYWRVcmwodXJsLCBgJHt0aXRsZX0uJHt0eXBlfWAsIG5vZGUub3duZXJEb2N1bWVudCEpO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgcmV0dXJuIHRvUE5HKHVybCwgbm9kZSkudGhlbigocHVybCkgPT4ge1xuICAgIGRvd25sb2FkVXJsKHB1cmwsIGAke3RpdGxlfS4ke3R5cGV9YCwgbm9kZS5vd25lckRvY3VtZW50ISk7XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9QTkcodXJsOiBzdHJpbmcsIG5vZGU6IFNWR0dFbGVtZW50KSB7XG4gIGNvbnN0IGNhbnZhcyA9IG5vZGUub3duZXJEb2N1bWVudCEuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGNvbnN0IGJiID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY2FudmFzLndpZHRoID0gYmIud2lkdGg7XG4gIGNhbnZhcy5oZWlnaHQgPSBiYi5oZWlnaHQ7XG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcbiAgY29uc3QgaW1nID0gbmV3IEltYWdlKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUpID0+IHtcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgY29uc3QgcG5nID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgICByZXNvbHZlKHBuZyk7XG4gICAgfTtcbiAgICBpbWcuc3JjID0gdXJsO1xuICB9KTtcbn1cblxuLyoqXG4gKiBoZWxwZXIgbWV0aG9kIHRvIGRvd25sb2FkIGEgZ2l2ZW4gdXJsIGluIHRoZSBicm93c2VyXG4gKiBAcGFyYW0gdXJsIHRoZSB1cmwgdG8gZG93bmxvYWRcbiAqIEBwYXJhbSB0aXRsZSB0aGUgZGVzaXJlZCBmaWxlIG5hbWVcbiAqIEBwYXJhbSBkb2MgdGhlIHJvb3QgZG9jdW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkVXJsKHVybDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBkb2M6IERvY3VtZW50KSB7XG4gIGNvbnN0IGEgPSBkb2MuY3JlYXRlRWxlbWVudCgnYScpO1xuICBhLmhyZWYgPSB1cmw7XG4gIGEuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICBhLnN0eWxlLmxlZnQgPSAnLTEwMDAwcHgnO1xuICBhLnN0eWxlLnRvcCA9ICctMTAwMDBweCc7XG4gIGEuZG93bmxvYWQgPSB0aXRsZTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgYS5jbGljaygpO1xuICBhLnJlbW92ZSgpO1xufVxuIiwiLyoqXG4gKiBAdXBzZXRqcy9yZWFjdFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGV4cG9ydFNWRywgZXhwb3J0VmVnYUxpdGUgfSBmcm9tICcuLi9leHBvcnRlcic7XG5cbmZ1bmN0aW9uIGV4cG9ydENoYXJ0KGV2dDogUmVhY3QuTW91c2VFdmVudDxTVkdFbGVtZW50Pikge1xuICBjb25zdCBzdmcgPSBldnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCdzdmcnKSBhcyBTVkdTVkdFbGVtZW50O1xuICBjb25zdCB0eXBlID0gKGV2dC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudHlwZSB8fCAncG5nJykgYXMgJ3N2ZycgfCAncG5nJyB8ICd2ZWdhJztcbiAgaWYgKHR5cGUgPT09ICd2ZWdhJykge1xuICAgIGV4cG9ydFZlZ2FMaXRlKHN2Zyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGV4cG9ydFNWRyhzdmcsIHtcbiAgICB0eXBlLFxuICAgIHRvUmVtb3ZlOiBgLiR7ZXZ0LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpfWAsXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFeHBvcnRCdXR0b25zKHsgdHJhbnNmb3JtLCBzdHlsZUlkIH06IHsgdHJhbnNmb3JtOiBzdHJpbmc7IHN0eWxlSWQ6IHN0cmluZyB9KSB7XG4gIHJldHVybiAoXG4gICAgPGcgY2xhc3NOYW1lPXtgZXhwb3J0QnV0dG9ucy0ke3N0eWxlSWR9YH0gdHJhbnNmb3JtPXt0cmFuc2Zvcm19PlxuICAgICAgPGcgY2xhc3NOYW1lPXtgZXhwb3J0QnV0dG9uLSR7c3R5bGVJZH1gfSBvbkNsaWNrPXtleHBvcnRDaGFydH0gZGF0YS10eXBlPVwicG5nXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC01MCwgMClcIj5cbiAgICAgICAgPHRpdGxlPkRvd25sb2FkIFBORyBJbWFnZTwvdGl0bGU+XG4gICAgICAgIDxyZWN0IHk9ey05fSB3aWR0aD17MjR9IGhlaWdodD17MTF9IHJ4PXsyfSByeT17Mn0gLz5cbiAgICAgICAgPHRleHQgY2xhc3NOYW1lPXtgZXhwb3J0VGV4dFN0eWxlLSR7c3R5bGVJZH1gfSB4PXsxMn0+XG4gICAgICAgICAgUE5HXG4gICAgICAgIDwvdGV4dD5cbiAgICAgIDwvZz5cbiAgICAgIDxnIGNsYXNzTmFtZT17YGV4cG9ydEJ1dHRvbi0ke3N0eWxlSWR9YH0gb25DbGljaz17ZXhwb3J0Q2hhcnR9IGRhdGEtdHlwZT1cInN2Z1wiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMjQsIDApXCI+XG4gICAgICAgIDx0aXRsZT5Eb3dubG9hZCBTVkcgSW1hZ2U8L3RpdGxlPlxuICAgICAgICA8cmVjdCB5PXstOX0gd2lkdGg9ezI0fSBoZWlnaHQ9ezExfSByeD17Mn0gcnk9ezJ9IC8+XG4gICAgICAgIDx0ZXh0IGNsYXNzTmFtZT17YGV4cG9ydFRleHRTdHlsZS0ke3N0eWxlSWR9YH0geD17MTJ9PlxuICAgICAgICAgIFNWR1xuICAgICAgICA8L3RleHQ+XG4gICAgICA8L2c+XG4gICAgICA8ZyBjbGFzc05hbWU9e2BleHBvcnRCdXR0b24tJHtzdHlsZUlkfWB9IG9uQ2xpY2s9e2V4cG9ydENoYXJ0fSBkYXRhLXR5cGU9XCJ2ZWdhXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC04NCwgMClcIj5cbiAgICAgICAgPHRpdGxlPkRvd25sb2FkIFZFR0EtTGl0ZSBTcGVjaWZpY2F0aW9uPC90aXRsZT5cbiAgICAgICAgPHJlY3QgeT17LTl9IHdpZHRoPXszMn0gaGVpZ2h0PXsxMX0gcng9ezJ9IHJ5PXsyfSAvPlxuICAgICAgICA8dGV4dCBjbGFzc05hbWU9e2BleHBvcnRUZXh0U3R5bGUtJHtzdHlsZUlkfWB9IHg9ezE2fT5cbiAgICAgICAgICBWRUdBXG4gICAgICAgIDwvdGV4dD5cbiAgICAgIDwvZz5cbiAgICA8L2c+XG4gICk7XG59XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBkb3dubG9hZFVybCB9IGZyb20gJy4vZXhwb3J0U1ZHJztcbmltcG9ydCB7IERBUktfQkFDS0dST1VORF9DT0xPUiB9IGZyb20gJy4uL2RlZmF1bHRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydFZlZ2FMaXRlKHN2ZzogU1ZHU1ZHRWxlbWVudCwgeyB0aXRsZSA9ICdVcFNldCcgfTogeyB0aXRsZT86IHN0cmluZyB9ID0ge30pIHtcbiAgY29uc3QgcmVzb2x2ZVN0eWxlID1cbiAgICAoc3ZnLmdldENvbXB1dGVkU3R5bGUgfHwgc3ZnLm93bmVyRG9jdW1lbnQ/LmRlZmF1bHRWaWV3Py5nZXRDb21wdXRlZFN0eWxlKSA/PyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZTtcbiAgY29uc3QgdGhlbWUgPSBzdmcuZGF0YXNldC50aGVtZTtcbiAgY29uc3Qgc3R5bGVJZCA9IEFycmF5LmZyb20oc3ZnLmNsYXNzTGlzdClcbiAgICAuZmluZCgoZCkgPT4gZC5zdGFydHNXaXRoKCdyb290LScpKSFcbiAgICAuc2xpY2UoJ3Jvb3QtJy5sZW5ndGgpO1xuXG4gIGNvbnN0IHNldHM6IHsgbmFtZTogc3RyaW5nOyBjYXJkaW5hbGl0eTogbnVtYmVyOyBzZWxlY3Rpb24/OiBudW1iZXIgfVtdID0gQXJyYXkuZnJvbShcbiAgICBzdmcucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oJ1tkYXRhLXVwc2V0PXNldHNdIFtkYXRhLWNhcmRpbmFsaXR5XScpXG4gIClcbiAgICAubWFwKChzZXQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHNldC5xdWVyeVNlbGVjdG9yKGB0ZXh0LnNldFRleHRTdHlsZS0ke3N0eWxlSWR9YCkhLnRleHRDb250ZW50ISxcbiAgICAgICAgY2FyZGluYWxpdHk6IE51bWJlci5wYXJzZUludChzZXQuZGF0YXNldC5jYXJkaW5hbGl0eSEsIDEwKSxcbiAgICAgIH07XG4gICAgfSlcbiAgICAucmV2ZXJzZSgpO1xuICBjb25zdCBiYXJMYWJlbE9mZnNldCA9IC1OdW1iZXIucGFyc2VGbG9hdChzdmcucXVlcnlTZWxlY3RvcihgLnNCYXJUZXh0U3R5bGUtJHtzdHlsZUlkfWApIS5nZXRBdHRyaWJ1dGUoJ2R4JykhKTtcbiAgY29uc3QgY29sb3IgPSByZXNvbHZlU3R5bGUoc3ZnLnF1ZXJ5U2VsZWN0b3IoYC5maWxsUHJpbWFyeS0ke3N0eWxlSWR9YCkhKS5maWxsO1xuICBjb25zdCBmaWxsTm90TWVtYmVyID0gcmVzb2x2ZVN0eWxlKHN2Zy5xdWVyeVNlbGVjdG9yKGAuZmlsbE5vdE1lbWJlci0ke3N0eWxlSWR9YCkhKS5maWxsO1xuICBjb25zdCB0ZXh0Q29sb3IgPSByZXNvbHZlU3R5bGUoc3ZnLnF1ZXJ5U2VsZWN0b3IoJ3RleHQnKSEpLmZpbGw7XG4gIGNvbnN0IGNzTmFtZSA9IHN2Zy5xdWVyeVNlbGVjdG9yKGAuY0NoYXJ0VGV4dFN0eWxlLSR7c3R5bGVJZH1gKSEudGV4dENvbnRlbnQhO1xuICBjb25zdCBzZXROYW1lID0gc3ZnLnF1ZXJ5U2VsZWN0b3IoYC5zQ2hhcnRUZXh0U3R5bGUtJHtzdHlsZUlkfWApIS50ZXh0Q29udGVudCE7XG5cbiAgY29uc3QgY29tYmluYXRpb25zOiB7IG5hbWU6IHN0cmluZzsgY2FyZGluYWxpdHk6IG51bWJlcjsgc2VsZWN0aW9uPzogbnVtYmVyOyBzZXRzOiBzdHJpbmdbXSB9W10gPSBBcnJheS5mcm9tKFxuICAgIHN2Zy5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PignW2RhdGEtdXBzZXQ9Y3NdIFtkYXRhLWNhcmRpbmFsaXR5XScpXG4gICkubWFwKChzZXQpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogc2V0LnF1ZXJ5U2VsZWN0b3IoYHRleHQuaG92ZXJCYXJUZXh0U3R5bGUtJHtzdHlsZUlkfWApIS50ZXh0Q29udGVudCEsXG4gICAgICBjYXJkaW5hbGl0eTogTnVtYmVyLnBhcnNlSW50KHNldC5kYXRhc2V0LmNhcmRpbmFsaXR5ISwgMTApLFxuICAgICAgc2V0czogQXJyYXkuZnJvbShzZXQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oYC5maWxsUHJpbWFyeS0ke3N0eWxlSWR9ID4gdGl0bGVgKSkubWFwKChuKSA9PiBuLnRleHRDb250ZW50ISksXG4gICAgfTtcbiAgfSk7XG5cbiAgY29uc3QgdHJhbnNsYXRlWCA9ICh2OiBFbGVtZW50KSA9PiBOdW1iZXIucGFyc2VGbG9hdCh2LmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykhLm1hdGNoKC8oW1xcZC5dKyksLykhWzFdKTtcbiAgY29uc3QgdHJhbnNsYXRlWSA9ICh2OiBFbGVtZW50KSA9PiBOdW1iZXIucGFyc2VGbG9hdCh2LmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykhLm1hdGNoKC8sKFtcXGQuXSspLykhWzFdKTtcbiAgY29uc3QgYmFzZSA9IHN2Zy5xdWVyeVNlbGVjdG9yKCdbZGF0YS11cHNldD1iYXNlXScpITtcbiAgY29uc3QgcGFkZGluZyA9IHRyYW5zbGF0ZVgoYmFzZSk7XG4gIC8vIGNvbWJpbmF0aW9uIGF4aXMgYmxvY2tcbiAgY29uc3Qgc2V0V2lkdGggPSB0cmFuc2xhdGVYKHN2Zy5xdWVyeVNlbGVjdG9yKCdbZGF0YS11cHNldD1jc2F4aXNdJykhKTtcbiAgLy8gYXhpc2xpbmVcbiAgY29uc3QgY3NXaWR0aCA9IE51bWJlci5wYXJzZUZsb2F0KGJhc2UucXVlcnlTZWxlY3RvcignZycpIS5maXJzdEVsZW1lbnRDaGlsZCEuY2hpbGRyZW5bMV0hLmdldEF0dHJpYnV0ZSgneDInKSEpO1xuICAvLyBzZXQgYXhpcyBibG9ja1xuICBjb25zdCBjc0hlaWdodCA9IHRyYW5zbGF0ZVkoc3ZnLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXVwc2V0PXNldGF4aXNdJykhKTtcbiAgLy8gc2V0IGxhYmVsIGNsaXAgcGF0aFxuICBjb25zdCBsYWJlbFdpZHRoID0gTnVtYmVyLnBhcnNlRmxvYXQoc3ZnLnF1ZXJ5U2VsZWN0b3IoJ2RlZnMgcmVjdCcpIS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykhKTtcbiAgY29uc3Qgc2V0SGVpZ2h0ID0gTnVtYmVyLnBhcnNlRmxvYXQoc3ZnLnF1ZXJ5U2VsZWN0b3IoJ2RlZnMgcmVjdCcpIS5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpISk7XG5cbiAgY29uc3QgcmFkaXVzID0gTnVtYmVyLnBhcnNlRmxvYXQoXG4gICAgc3ZnLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNhcmRpbmFsaXR5XSBjaXJjbGUuZmlsbFByaW1hcnktJHtzdHlsZUlkfWApIS5nZXRBdHRyaWJ1dGUoJ3InKSFcbiAgKTtcblxuICBjb25zdCBoYXNQcmltYXJ5U2VsZWN0aW9uID0gc3ZnLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXVwc2V0PXNldHMtc10gW2RhdGEtY2FyZGluYWxpdHldJykgIT0gbnVsbDtcbiAgY29uc3QgaGFzUXVlcnkgPSBzdmcucXVlcnlTZWxlY3RvcignW2RhdGEtdXBzZXQ9c2V0cy1xXSBbZGF0YS1jYXJkaW5hbGl0eV0nKSAhPSBudWxsO1xuICBjb25zdCBoYXNTZWxlY3Rpb24gPSBoYXNQcmltYXJ5U2VsZWN0aW9uIHx8IGhhc1F1ZXJ5O1xuXG4gIGxldCBzZWxlY3Rpb25Db2xvciA9ICdvcmFuZ2UnO1xuICBpZiAoaGFzU2VsZWN0aW9uKSB7XG4gICAgLy8gaW5qZWN0IHRoZSBzZWxlY3Rpb24gZGF0YVxuICAgIEFycmF5LmZyb20oXG4gICAgICBzdmcucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oXG4gICAgICAgIGBbZGF0YS11cHNldD1zZXRzLSR7aGFzUHJpbWFyeVNlbGVjdGlvbiA/ICdzXScgOiAncV06Zmlyc3Qtb2YtdHlwZSd9IFtkYXRhLWNhcmRpbmFsaXR5XWBcbiAgICAgIClcbiAgICApLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIC8vIHNpbmNlIGFydGlmaWNpYWxseSByZXZlcnNlZFxuICAgICAgY29uc3QgaSA9IHNldHMubGVuZ3RoIC0gTnVtYmVyLnBhcnNlSW50KGVsZW0uZGF0YXNldC5pISwgMTApIC0gMTtcbiAgICAgIHNldHNbaV0uc2VsZWN0aW9uID0gTnVtYmVyLnBhcnNlSW50KGVsZW0uZGF0YXNldC5jYXJkaW5hbGl0eSEsIDEwKTtcbiAgICB9KTtcbiAgICBBcnJheS5mcm9tKFxuICAgICAgc3ZnLnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEVsZW1lbnQ+KFxuICAgICAgICBgW2RhdGEtdXBzZXQ9Y3MtJHtoYXNQcmltYXJ5U2VsZWN0aW9uID8gJ3NdJyA6ICdxXTpmaXJzdC1vZi10eXBlJ30gW2RhdGEtY2FyZGluYWxpdHldYFxuICAgICAgKVxuICAgICkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgY29uc3QgaSA9IE51bWJlci5wYXJzZUludChlbGVtLmRhdGFzZXQuaSEsIDEwKTtcbiAgICAgIGNvbWJpbmF0aW9uc1tpXS5zZWxlY3Rpb24gPSBOdW1iZXIucGFyc2VJbnQoZWxlbS5kYXRhc2V0LmNhcmRpbmFsaXR5ISwgMTApO1xuICAgIH0pO1xuICAgIHNlbGVjdGlvbkNvbG9yID0gcmVzb2x2ZVN0eWxlKFxuICAgICAgc3ZnLnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KGBbZGF0YS11cHNldD1zZXRzLSR7aGFzUHJpbWFyeVNlbGVjdGlvbiA/ICdzJyA6ICdxJ31dIFtkYXRhLWNhcmRpbmFsaXR5XWApIVxuICAgICkuZmlsbDtcbiAgfVxuICBjb25zdCBoaWdobGlnaHRlZENvbWJpbmF0aW9uID0gTnVtYmVyLnBhcnNlSW50KFxuICAgIHN2Zy5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignW2RhdGEtdXBzZXQ9Y3Mtc3NdJyk/LmRhdGFzZXQuaSA/PyAnLTEnLFxuICAgIDEwXG4gICk7XG5cbiAgY29uc3QgZmlsdGVyID1cbiAgICBoaWdobGlnaHRlZENvbWJpbmF0aW9uID49IDBcbiAgICAgID8ge1xuICAgICAgICAgIGZpZWxkOiAncGFydE9mJyxcbiAgICAgICAgICBvbmVPZjogWzEsIDJdLFxuICAgICAgICB9XG4gICAgICA6IHtcbiAgICAgICAgICBmaWVsZDogJ3BhcnRPZicsXG4gICAgICAgICAgZXF1YWw6IDEsXG4gICAgICAgIH07XG5cbiAgLy8gcGFydCBvZjogMCAuLi4gbmVnYXRpdmUgbGlzdCwgMSAuLi4gcG9zaXRpdmUgc2V0IGxpc3QsIDIsIC4uLiBwb3NpdGl2ZSBhbmQgc2VsZWN0ZWRcbiAgY29uc3Qgc3BlYyA9IHtcbiAgICAkc2NoZW1hOiAnaHR0cHM6Ly92ZWdhLmdpdGh1Yi5pby9zY2hlbWEvdmVnYS1saXRlL3Y0Lmpzb24nLFxuICAgIHRpdGxlLFxuICAgIGRhdGFzZXRzOiB7XG4gICAgICBzZXRzLFxuICAgICAgY29tYmluYXRpb25zOiBjb21iaW5hdGlvbnNcbiAgICAgICAgLm1hcCgoYywgaSkgPT5cbiAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBjLCB7XG4gICAgICAgICAgICBwYXJ0T2Y6IGhpZ2hsaWdodGVkQ29tYmluYXRpb24gPT09IGkgPyAyIDogMSwgLy8gaGFzIHNldCBsaXN0XG4gICAgICAgICAgICBuc2V0czogWycnXSxcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIC5jb25jYXQoXG4gICAgICAgICAgY29tYmluYXRpb25zLm1hcCgoYykgPT4gKHtcbiAgICAgICAgICAgIG5hbWU6IGMubmFtZSxcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiBjLmNhcmRpbmFsaXR5LFxuICAgICAgICAgICAgLy8gbm8gc2VsZWN0aW9uIVxuICAgICAgICAgICAgcGFydE9mOiAwLCAvLyBoYXMgbm90IHNldCBsaXN0IGZvciBmdWxsIGRvdHNcbiAgICAgICAgICAgIHNldHM6IFsnJ10sXG4gICAgICAgICAgICBuc2V0czogc2V0cy5maWx0ZXIoKHMpID0+ICFjLnNldHMuaW5jbHVkZXMocy5uYW1lKSkubWFwKChzKSA9PiBzLm5hbWUpLFxuICAgICAgICAgIH0pKVxuICAgICAgICApLFxuICAgIH0sXG4gICAgdmNvbmNhdDogW1xuICAgICAge1xuICAgICAgICBoY29uY2F0OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWFyazogJ2JhcicsXG4gICAgICAgICAgICB3aWR0aDogc2V0V2lkdGggKyBsYWJlbFdpZHRoIC0gNDAsIC8vIGZvciB0aGUgYXhpcyBvZiB0aGUgc2V0IGNoYXJ0XG4gICAgICAgICAgICBoZWlnaHQ6IGNzSGVpZ2h0LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgd2lkdGg6IGNzV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGNzSGVpZ2h0LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBuYW1lOiAnY29tYmluYXRpb25zJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBsYXllcjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWFyazoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsXG4gICAgICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXJrOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICBiYXNlbGluZTogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICBkeTogLWJhckxhYmVsT2Zmc2V0LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW5jb2Rpbmc6IHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHsgZmllbGQ6ICdjYXJkaW5hbGl0eScsIHR5cGU6ICdxdWFudGl0YXRpdmUnIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaGFzU2VsZWN0aW9uICYmIHtcbiAgICAgICAgICAgICAgICBtYXJrOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnYmFyJyxcbiAgICAgICAgICAgICAgICAgIGZpbGw6IHNlbGVjdGlvbkNvbG9yLFxuICAgICAgICAgICAgICAgICAgdG9vbHRpcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVuY29kaW5nOiB7XG4gICAgICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnc2VsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3F1YW50aXRhdGl2ZScsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLmZpbHRlcihCb29sZWFuKSxcbiAgICAgICAgICAgIGVuY29kaW5nOiB7XG4gICAgICAgICAgICAgIHg6IHsgZmllbGQ6ICduYW1lJywgdHlwZTogJ29yZGluYWwnLCBheGlzOiBudWxsLCBzb3J0OiBudWxsIH0sXG4gICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICBmaWVsZDogJ2NhcmRpbmFsaXR5JyxcbiAgICAgICAgICAgICAgICB0eXBlOiAncXVhbnRpdGF0aXZlJyxcbiAgICAgICAgICAgICAgICBheGlzOiB7XG4gICAgICAgICAgICAgICAgICBncmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpdGxlOiBjc05hbWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBoY29uY2F0OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgd2lkdGg6IHNldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBzZXRIZWlnaHQsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIG5hbWU6ICdzZXRzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXllcjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWFyazoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsXG4gICAgICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXJrOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgIGJhc2VsaW5lOiAnbWlkZGxlJyxcbiAgICAgICAgICAgICAgICAgIGR4OiAtYmFyTGFiZWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbmNvZGluZzoge1xuICAgICAgICAgICAgICAgICAgdGV4dDogeyBmaWVsZDogJ2NhcmRpbmFsaXR5JywgdHlwZTogJ3F1YW50aXRhdGl2ZScgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBoYXNTZWxlY3Rpb24gJiYge1xuICAgICAgICAgICAgICAgIG1hcms6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdiYXInLFxuICAgICAgICAgICAgICAgICAgZmlsbDogc2VsZWN0aW9uQ29sb3IsXG4gICAgICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW5jb2Rpbmc6IHtcbiAgICAgICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICdzZWxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncXVhbnRpdGF0aXZlJyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IHtcbiAgICAgICAgICAgICAgeTogeyBmaWVsZDogJ25hbWUnLCB0eXBlOiAnb3JkaW5hbCcsIGF4aXM6IG51bGwsIHNvcnQ6IG51bGwgfSxcbiAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgIGZpZWxkOiAnY2FyZGluYWxpdHknLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdxdWFudGl0YXRpdmUnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzZXROYW1lLFxuICAgICAgICAgICAgICAgIHNvcnQ6ICdkZXNjZW5kaW5nJyxcbiAgICAgICAgICAgICAgICBheGlzOiB7XG4gICAgICAgICAgICAgICAgICBncmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgbmFtZTogJ3NldHMnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdpZHRoOiBsYWJlbFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBzZXRIZWlnaHQsXG4gICAgICAgICAgICBtYXJrOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgICBiYXNlbGluZTogJ21pZGRsZScsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiBOdW1iZXIucGFyc2VJbnQocmVzb2x2ZVN0eWxlKHN2Zy5xdWVyeVNlbGVjdG9yKGAuc2V0VGV4dFN0eWxlLSR7c3R5bGVJZH1gKSEpLmZvbnRTaXplLCAxMCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5jb2Rpbmc6IHtcbiAgICAgICAgICAgICAgeTogeyBmaWVsZDogJ25hbWUnLCB0eXBlOiAnb3JkaW5hbCcsIGF4aXM6IG51bGwsIHNvcnQ6IG51bGwgfSxcbiAgICAgICAgICAgICAgdGV4dDogeyBmaWVsZDogJ25hbWUnLCB0eXBlOiAnb3JkaW5hbCcgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aDogY3NXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogc2V0SGVpZ2h0LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBuYW1lOiAnY29tYmluYXRpb25zJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZsYXR0ZW46IFsnc2V0cyddLFxuICAgICAgICAgICAgICAgIGFzOiBbJ2hhc19zZXQnXSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZsYXR0ZW46IFsnbnNldHMnXSxcbiAgICAgICAgICAgICAgICBhczogWydoYXNfbm90X3NldCddLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlOiAnZGF0dW0uaGFzX3NldCtkYXR1bS5oYXNfbm90X3NldCcsXG4gICAgICAgICAgICAgICAgYXM6ICdzZXQnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGxheWVyOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXJrOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnY2lyY2xlJyxcbiAgICAgICAgICAgICAgICAgIHNpemU6IHJhZGl1cyAqIHJhZGl1cyAqIE1hdGguUEksIC8vIGFyZWFcbiAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbmNvZGluZzoge1xuICAgICAgICAgICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICdwYXJ0T2YnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbm9taW5hbCcsXG4gICAgICAgICAgICAgICAgICAgIGxlZ2VuZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICByYW5nZTogW2ZpbGxOb3RNZW1iZXIsIGNvbG9yXS5jb25jYXQoaGlnaGxpZ2h0ZWRDb21iaW5hdGlvbiA+PSAwID8gW3NlbGVjdGlvbkNvbG9yXSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB5OiB7IGZpZWxkOiAnc2V0JywgdHlwZTogJ29yZGluYWwnLCBheGlzOiBudWxsLCBzb3J0OiBudWxsIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1hcms6ICdydWxlJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlOiAnZGF0dW0uc2V0c1tkYXR1bS5zZXRzLmxlbmd0aCAtMV0nLFxuICAgICAgICAgICAgICAgICAgICBhczogJ3NldF9lbmQnLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGVuY29kaW5nOiB7XG4gICAgICAgICAgICAgICAgICB5OiB7IGZpZWxkOiAnc2V0c1swXScsIHR5cGU6ICdvcmRpbmFsJywgYXhpczogbnVsbCwgc29ydDogbnVsbCB9LFxuICAgICAgICAgICAgICAgICAgeTI6IHsgZmllbGQ6ICdzZXRfZW5kJyB9LFxuICAgICAgICAgICAgICAgICAgLi4uKGhpZ2hsaWdodGVkQ29tYmluYXRpb24gPCAwXG4gICAgICAgICAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogJ3BhcnRPZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdub21pbmFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBbY29sb3IsIHNlbGVjdGlvbkNvbG9yXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBlbmNvZGluZzoge1xuICAgICAgICAgICAgICB4OiB7IGZpZWxkOiAnbmFtZScsIHR5cGU6ICdvcmRpbmFsJywgYXhpczogbnVsbCwgc29ydDogbnVsbCB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGNvbmZpZzoge1xuICAgICAgcGFkZGluZyxcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lID09PSAnZGFyaycgPyBEQVJLX0JBQ0tHUk9VTkRfQ09MT1IgOiAnd2hpdGUnLFxuICAgICAgY29uY2F0OiB7XG4gICAgICAgIHNwYWNpbmc6IDAsXG4gICAgICB9LFxuICAgICAgdmlldzoge1xuICAgICAgICBzdHJva2U6IG51bGwsXG4gICAgICB9LFxuICAgICAgLy8gc2NhbGU6IHtcbiAgICAgIC8vICAgYmFuZFBhZGRpbmdJbm5lcjogcHJvcHMuYmFyUGFkZGluZyxcbiAgICAgIC8vICAgYmFuZFBhZGRpbmdPdXRlcjogcHJvcHMuYmFyUGFkZGluZyxcbiAgICAgIC8vICAgcG9pbnRQYWRkaW5nOiBwcm9wcy5iYXJQYWRkaW5nLFxuICAgICAgLy8gfSxcbiAgICAgIGJhcjoge1xuICAgICAgICBmaWxsOiBjb2xvcixcbiAgICAgIH0sXG4gICAgICBjaXJjbGU6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgIH0sXG4gICAgICBydWxlOiB7XG4gICAgICAgIHN0cm9rZTogY29sb3IsXG4gICAgICAgIHN0cm9rZVdpZHRoOiBOdW1iZXIucGFyc2VJbnQoXG4gICAgICAgICAgcmVzb2x2ZVN0eWxlKHN2Zy5xdWVyeVNlbGVjdG9yKGBbZGF0YS11cHNldD1jc10gW2RhdGEtY2FyZGluYWxpdHldIGxpbmVgKSEpLnN0cm9rZVdpZHRoLFxuICAgICAgICAgIDEwXG4gICAgICAgICksXG4gICAgICB9LFxuICAgICAgYXhpczoge1xuICAgICAgICBsYWJlbENvbG9yOiB0ZXh0Q29sb3IsXG4gICAgICAgIGxhYmVsRm9udFNpemU6IE51bWJlci5wYXJzZUludChyZXNvbHZlU3R5bGUoc3ZnLnF1ZXJ5U2VsZWN0b3IoYC5heGlzVGV4dFN0eWxlLSR7c3R5bGVJZH1gKSEpLmZvbnRTaXplLCAxMCksXG4gICAgICAgIHRpdGxlQ29sb3I6IHRleHRDb2xvcixcbiAgICAgICAgdGl0bGVGb250U2l6ZTogTnVtYmVyLnBhcnNlSW50KHJlc29sdmVTdHlsZShzdmcucXVlcnlTZWxlY3RvcihgLmNDaGFydFRleHRTdHlsZS0ke3N0eWxlSWR9YCkhKS5mb250U2l6ZSwgMTApLFxuICAgICAgfSxcbiAgICAgIHRpdGxlOiB7XG4gICAgICAgIGNvbG9yOiB0ZXh0Q29sb3IsXG4gICAgICB9LFxuICAgICAgdGV4dDoge1xuICAgICAgICBmaWxsOiB0ZXh0Q29sb3IsXG4gICAgICAgIGZvbnRTaXplOiBOdW1iZXIucGFyc2VJbnQocmVzb2x2ZVN0eWxlKHN2Zy5xdWVyeVNlbGVjdG9yKGAuc0JhclRleHRTdHlsZS0ke3N0eWxlSWR9YCkhKS5mb250U2l6ZSwgMTApLFxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoXG4gICAgbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KHNwZWMsIG51bGwsIDIpXSwge1xuICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0pXG4gICk7XG4gIGRvd25sb2FkVXJsKHVybCwgYCR7dGl0bGV9Lmpzb25gLCBzdmcub3duZXJEb2N1bWVudCEpO1xuICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG59XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVcFNldFF1ZXJ5LCBpc1NldFF1ZXJ5LCBpc0VsZW1RdWVyeSB9IGZyb20gJ0B1cHNldGpzL21vZGVsJztcbmltcG9ydCB7IGNsc3ggfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IFVwU2V0U2l6ZUluZm8gfSBmcm9tICcuL2Rlcml2ZVNpemVEZXBlbmRlbnQnO1xuaW1wb3J0IHsgVXBTZXRTdHlsZUluZm8gfSBmcm9tICcuL2Rlcml2ZVN0eWxlRGVwZW5kZW50JztcbmltcG9ydCB7IFVwU2V0RGF0YUluZm8gfSBmcm9tICcuL2Rlcml2ZURhdGFEZXBlbmRlbnQnO1xuXG5jb25zdCBRdWVyeUxlZ2VuZCA9IFJlYWN0Lm1lbW8oZnVuY3Rpb24gUXVlcnlMZWdlbmQ8VD4oe1xuICBxdWVyaWVzLFxuICBzaXplLFxuICBzdHlsZSxcbiAgZGF0YSxcbn06IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgcXVlcmllczogUmVhZG9ubHlBcnJheTxVcFNldFF1ZXJ5PFQ+PjtcbiAgc2l6ZTogVXBTZXRTaXplSW5mbztcbiAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xuICBkYXRhOiBVcFNldERhdGFJbmZvPFQ+O1xufT4pIHtcbiAgcmV0dXJuIChcbiAgICA8dGV4dFxuICAgICAgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7c2l6ZS5sZWdlbmQueH0sNClgfVxuICAgICAgc3R5bGU9e3N0eWxlLnN0eWxlcy5sZWdlbmR9XG4gICAgICBjbGFzc05hbWU9e2Nsc3goYGxlZ2VuZFRleHRTdHlsZS0ke3N0eWxlLmlkfWAsIHN0eWxlLmNsYXNzTmFtZXMubGVnZW5kKX1cbiAgICA+XG4gICAgICB7cXVlcmllcy5tYXAoKHEsIGkpID0+IHtcbiAgICAgICAgbGV0IGNvdW50OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICAgICAgaWYgKGlzU2V0UXVlcnkocSkpIHtcbiAgICAgICAgICBjb3VudCA9IHEuc2V0LmNhcmRpbmFsaXR5O1xuICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbVF1ZXJ5KHEpKSB7XG4gICAgICAgICAgY291bnQgPSBxLmVsZW1zIGluc3RhbmNlb2YgU2V0ID8gcS5lbGVtcy5zaXplIDogcS5lbGVtcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtxLm5hbWV9PlxuICAgICAgICAgICAgPHRzcGFuIGNsYXNzTmFtZT17YGZpbGxRJHtpfS0ke2RhdGEuaWR9YH0+eycgIOKspCAnfTwvdHNwYW4+XG4gICAgICAgICAgICA8dHNwYW4+XG4gICAgICAgICAgICAgIHtxLm5hbWV9XG4gICAgICAgICAgICAgIHtjb3VudCAhPSBudWxsID8gYDogJHtkYXRhLnNldHMuZm9ybWF0KGNvdW50KX1gIDogJyd9XG4gICAgICAgICAgICA8L3RzcGFuPlxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3RleHQ+XG4gICk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUXVlcnlMZWdlbmQ7XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBOdW1lcmljU2NhbGVMaWtlIH0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuaW1wb3J0IFJlYWN0LCB7IFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXBTZXRTdHlsZUluZm8gfSBmcm9tICcuL2Rlcml2ZVN0eWxlRGVwZW5kZW50JztcbmltcG9ydCB7IGNsc3ggfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IHR5cGUgRDNBeGlzUHJvcHMgPSB7XG4gIHNjYWxlOiBOdW1lcmljU2NhbGVMaWtlO1xuICBvcmllbnQ6ICd0b3AnIHwgJ2JvdHRvbScgfCAnbGVmdCcgfCAncmlnaHQnO1xuICB0aWNrU2l6ZUlubmVyPzogbnVtYmVyO1xuICB0aWNrU2l6ZU91dGVyPzogbnVtYmVyO1xuICB0aWNrUGFkZGluZz86IG51bWJlcjtcbiAgc2l6ZTogbnVtYmVyO1xuICBzaGlmdDogbnVtYmVyO1xuICBzdHlsZTogVXBTZXRTdHlsZUluZm87XG4gIHRyYW5zZm9ybT86IHN0cmluZztcbn07XG5cbmRlY2xhcmUgdHlwZSBUaWNrUHJvcHMgPSB7XG4gIHBvczogbnVtYmVyO1xuICBzcGFjaW5nOiBudW1iZXI7XG4gIHRpY2tTaXplSW5uZXI6IG51bWJlcjtcbiAgb3JpZW50OiAndG9wJyB8ICdib3R0b20nIHwgJ2xlZnQnIHwgJ3JpZ2h0JztcbiAgbmFtZT86IHN0cmluZztcbiAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xufTtcblxuY29uc3QgRDNIb3Jpem9udGFsVGljayA9IFJlYWN0Lm1lbW8oZnVuY3Rpb24gRDNIb3Jpem9udGFsVGljayh7XG4gIHBvcyxcbiAgc3BhY2luZyxcbiAgdGlja1NpemVJbm5lcixcbiAgb3JpZW50LFxuICBuYW1lLFxuICBzdHlsZSxcbn06IFByb3BzV2l0aENoaWxkcmVuPFRpY2tQcm9wcz4pIHtcbiAgY29uc3QgayA9IG9yaWVudCA9PT0gJ3RvcCcgfHwgb3JpZW50ID09PSAnbGVmdCcgPyAtMSA6IDE7XG4gIHJldHVybiAoXG4gICAgPGcgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKDAsICR7cG9zICsgMC41fSlgfT5cbiAgICAgIHtuYW1lICYmIChcbiAgICAgICAgPHRleHRcbiAgICAgICAgICB4PXtrICogc3BhY2luZ31cbiAgICAgICAgICBkeT17JzAuMzJlbSd9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgICAgYGF4aXNUZXh0U3R5bGUtJHtzdHlsZS5pZH1gLFxuICAgICAgICAgICAgb3JpZW50ID09PSAncmlnaHQnID8gYHN0YXJ0VGV4dC0ke3N0eWxlLmlkfWAgOiBgZW5kVGV4dC0ke3N0eWxlLmlkfWAsXG4gICAgICAgICAgICBzdHlsZS5jbGFzc05hbWVzLmF4aXNUaWNrXG4gICAgICAgICAgKX1cbiAgICAgICAgICBzdHlsZT17c3R5bGUuc3R5bGVzLmF4aXNUaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge25hbWV9XG4gICAgICAgIDwvdGV4dD5cbiAgICAgICl9XG4gICAgICA8bGluZSB4Mj17ayAqIHRpY2tTaXplSW5uZXJ9IGNsYXNzTmFtZT17YGF4aXNMaW5lLSR7c3R5bGUuaWR9YH0gLz5cbiAgICA8L2c+XG4gICk7XG59KTtcblxuY29uc3QgRDNWZXJ0aWNhbFRpY2sgPSBSZWFjdC5tZW1vKGZ1bmN0aW9uIEQzVmVydGljYWxUaWNrKHtcbiAgcG9zLFxuICBuYW1lLFxuICBzcGFjaW5nLFxuICBvcmllbnQsXG4gIHRpY2tTaXplSW5uZXIsXG4gIHN0eWxlLFxufTogUHJvcHNXaXRoQ2hpbGRyZW48VGlja1Byb3BzPikge1xuICBjb25zdCBrID0gb3JpZW50ID09PSAndG9wJyB8fCBvcmllbnQgPT09ICdsZWZ0JyA/IC0xIDogMTtcbiAgcmV0dXJuIChcbiAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtwb3MgKyAwLjV9LCAwKWB9PlxuICAgICAge25hbWUgJiYgKFxuICAgICAgICA8dGV4dFxuICAgICAgICAgIHk9e2sgKiBzcGFjaW5nfVxuICAgICAgICAgIGR5PXtvcmllbnQgPT09ICd0b3AnID8gJzBlbScgOiAnMC43MWVtJ31cbiAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goYGF4aXNUZXh0U3R5bGUtJHtzdHlsZS5pZH1gLCBzdHlsZS5jbGFzc05hbWVzLmF4aXNUaWNrKX1cbiAgICAgICAgICBzdHlsZT17c3R5bGUuc3R5bGVzLmF4aXNUaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge25hbWV9XG4gICAgICAgIDwvdGV4dD5cbiAgICAgICl9XG4gICAgICA8bGluZSB5Mj17ayAqIHRpY2tTaXplSW5uZXJ9IGNsYXNzTmFtZT17YGF4aXNMaW5lLSR7c3R5bGUuaWR9YH0gLz5cbiAgICA8L2c+XG4gICk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRDNBeGlzKHtcbiAgc2NhbGUsXG4gIG9yaWVudCxcbiAgdGlja1NpemVJbm5lciA9IDYsXG4gIHRpY2tTaXplT3V0ZXIgPSA2LFxuICB0aWNrUGFkZGluZyA9IDMsXG4gIHNpemUsXG4gIHNoaWZ0LFxuICBzdHlsZSxcbiAgdHJhbnNmb3JtLFxufTogUHJvcHNXaXRoQ2hpbGRyZW48RDNBeGlzUHJvcHM+KSB7XG4gIGNvbnN0IHNwYWNpbmcgPSBNYXRoLm1heCh0aWNrU2l6ZUlubmVyLCAwKSArIHRpY2tQYWRkaW5nO1xuICBjb25zdCByYW5nZTAgPSBzaGlmdDtcbiAgY29uc3QgcmFuZ2UxID0gc2l6ZTtcblxuICBjb25zdCBrID0gb3JpZW50ID09PSAndG9wJyB8fCBvcmllbnQgPT09ICdsZWZ0JyA/IC0xIDogMTtcbiAgY29uc3QgRDNUaWNrID0gb3JpZW50ID09PSAnbGVmdCcgfHwgb3JpZW50ID09PSAncmlnaHQnID8gRDNIb3Jpem9udGFsVGljayA6IEQzVmVydGljYWxUaWNrO1xuXG4gIGNvbnN0IHZhbHVlczogUmVhZG9ubHlBcnJheTx7IHZhbHVlOiBudW1iZXI7IGxhYmVsPzogc3RyaW5nIH0+ID0gc2NhbGVcbiAgICAudGlja3MoKVxuICAgIC5tYXAoKGQpID0+ICh0eXBlb2YgZCA9PT0gJ251bWJlcicgPyB7IHZhbHVlOiBkLCBsYWJlbDogU3RyaW5nKGQpIH0gOiBkKSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZyB0cmFuc2Zvcm09e3RyYW5zZm9ybX0+XG4gICAgICB7dmFsdWVzLm1hcCgoZCkgPT4gKFxuICAgICAgICA8RDNUaWNrXG4gICAgICAgICAga2V5PXtkLnZhbHVlfVxuICAgICAgICAgIHBvcz17c2NhbGUoZC52YWx1ZSl9XG4gICAgICAgICAgbmFtZT17ZC5sYWJlbH1cbiAgICAgICAgICBzcGFjaW5nPXtzcGFjaW5nfVxuICAgICAgICAgIHRpY2tTaXplSW5uZXI9e3RpY2tTaXplSW5uZXJ9XG4gICAgICAgICAgb3JpZW50PXtvcmllbnR9XG4gICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAvPlxuICAgICAgKSl9XG4gICAgICA8cGF0aFxuICAgICAgICBjbGFzc05hbWU9e2BheGlzTGluZS0ke3N0eWxlLmlkfWB9XG4gICAgICAgIGQ9e1xuICAgICAgICAgIG9yaWVudCA9PT0gJ2xlZnQnIHx8IG9yaWVudCA9PT0gJ3JpZ2h0J1xuICAgICAgICAgICAgPyB0aWNrU2l6ZU91dGVyXG4gICAgICAgICAgICAgID8gYE0ke2sgKiB0aWNrU2l6ZU91dGVyfSwke3JhbmdlMH1IMC41ViR7cmFuZ2UxfUgke2sgKiB0aWNrU2l6ZU91dGVyfWBcbiAgICAgICAgICAgICAgOiBgTTAuNSwke3JhbmdlMH1WJHtyYW5nZTF9YFxuICAgICAgICAgICAgOiB0aWNrU2l6ZU91dGVyXG4gICAgICAgICAgICA/IGBNJHtyYW5nZTB9LCR7ayAqIHRpY2tTaXplT3V0ZXJ9VjAuNUgke3JhbmdlMX1WJHtrICogdGlja1NpemVPdXRlcn1gXG4gICAgICAgICAgICA6IGBNJHtyYW5nZTB9LDAuNUgke3JhbmdlMX1gXG4gICAgICAgIH1cbiAgICAgIC8+XG4gICAgPC9nPlxuICApO1xufVxuIiwiLyoqXG4gKiBAdXBzZXRqcy9yZWFjdFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEQzQXhpcyBmcm9tICcuL0QzQXhpcyc7XG5pbXBvcnQgeyBVcFNldERhdGFJbmZvIH0gZnJvbSAnLi9kZXJpdmVEYXRhRGVwZW5kZW50JztcbmltcG9ydCB7IFVwU2V0U2l6ZUluZm8gfSBmcm9tICcuL2Rlcml2ZVNpemVEZXBlbmRlbnQnO1xuaW1wb3J0IHsgVXBTZXRTdHlsZUluZm8gfSBmcm9tICcuL2Rlcml2ZVN0eWxlRGVwZW5kZW50JztcbmltcG9ydCB7IGFkZG9uUG9zaXRpb25HZW5lcmF0b3IsIGNsc3ggfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhmdW5jdGlvbiBVcFNldEF4aXM8VD4oe1xuICBzaXplLFxuICBzdHlsZSxcbiAgZGF0YSxcbn06IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgc2l6ZTogVXBTZXRTaXplSW5mbztcbiAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xuICBkYXRhOiBVcFNldERhdGFJbmZvPFQ+O1xufT4pIHtcbiAgY29uc3Qgc2V0UG9zR2VuID0gYWRkb25Qb3NpdGlvbkdlbmVyYXRvcihzaXplLnNldHMudyArIHNpemUubGFiZWxzLncgKyBzaXplLmNzLncpO1xuICBjb25zdCBjb21iaW5hdGlvblBvc0dlbiA9IGFkZG9uUG9zaXRpb25HZW5lcmF0b3Ioc2l6ZS5jcy5oICsgc2l6ZS5zZXRzLmgpO1xuICBjb25zdCBjc05hbWVPZmZzZXQgPSBzdHlsZS5jcy5vZmZzZXQgPT09ICdhdXRvJyA/IGRhdGEuY3MubGFiZWxPZmZzZXQgOiBzdHlsZS5jcy5vZmZzZXQ7XG4gIGNvbnN0IHNldE5hbWVPZmZzZXQgPSBzdHlsZS5zZXRzLm9mZnNldCA9PT0gJ2F1dG8nID8gZGF0YS5zZXRzLmxhYmVsT2Zmc2V0IDogc3R5bGUuc2V0cy5vZmZzZXQ7XG4gIHJldHVybiAoXG4gICAgPGc+XG4gICAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtzaXplLmNzLnh9LCR7c2l6ZS5jcy55fSlgfSBkYXRhLXVwc2V0PVwiY3NheGlzXCI+XG4gICAgICAgIDxEM0F4aXMgc2NhbGU9e2RhdGEuY3MueX0gb3JpZW50PVwibGVmdFwiIHNpemU9e3NpemUuY3MuaH0gc2hpZnQ9e3NpemUuY3MuaCAtIGRhdGEuY3MueUF4aXNXaWR0aH0gc3R5bGU9e3N0eWxlfSAvPlxuICAgICAgICA8bGluZSB4MT17MH0geDI9e3NpemUuY3Mud30geTE9e3NpemUuY3MuaCArIDF9IHkyPXtzaXplLmNzLmggKyAxfSBjbGFzc05hbWU9e2BheGlzTGluZS0ke3N0eWxlLmlkfWB9IC8+XG4gICAgICAgIDx0ZXh0XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGBjQ2hhcnRUZXh0U3R5bGUtJHtzdHlsZS5pZH1gLCBzdHlsZS5jbGFzc05hbWVzLmNoYXJ0TGFiZWwpfVxuICAgICAgICAgIHN0eWxlPXtzdHlsZS5zdHlsZXMuY2hhcnRMYWJlbH1cbiAgICAgICAgICB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHstY3NOYW1lT2Zmc2V0fSwgJHtzaXplLmNzLmggLyAyfSlyb3RhdGUoLTkwKWB9XG4gICAgICAgID5cbiAgICAgICAgICB7c3R5bGUuY3MubmFtZX1cbiAgICAgICAgPC90ZXh0PlxuICAgICAgICB7c2l6ZS5jcy5hZGRvbnMubWFwKChhZGRvbikgPT4gKFxuICAgICAgICAgIDx0ZXh0XG4gICAgICAgICAgICBrZXk9e2FkZG9uLm5hbWV9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goYGNDaGFydFRleHRTdHlsZS0ke3N0eWxlLmlkfWAsIHN0eWxlLmNsYXNzTmFtZXMuY2hhcnRMYWJlbCl9XG4gICAgICAgICAgICBzdHlsZT17c3R5bGUuc3R5bGVzLmNoYXJ0TGFiZWx9XG4gICAgICAgICAgICB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHstY3NOYW1lT2Zmc2V0fSwgJHtjb21iaW5hdGlvblBvc0dlbihhZGRvbikgKyBhZGRvbi5zaXplIC8gMn0pcm90YXRlKC05MClgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHthZGRvbi5uYW1lfVxuICAgICAgICAgIDwvdGV4dD5cbiAgICAgICAgKSl9XG4gICAgICA8L2c+XG4gICAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtzaXplLnNldHMueH0sJHtzaXplLnNldHMueX0pYH0gZGF0YS11cHNldD1cInNldGF4aXNcIj5cbiAgICAgICAgPEQzQXhpc1xuICAgICAgICAgIHNjYWxlPXtkYXRhLnNldHMueH1cbiAgICAgICAgICBvcmllbnQ9XCJib3R0b21cIlxuICAgICAgICAgIHNpemU9e3NpemUuc2V0cy53fVxuICAgICAgICAgIHNoaWZ0PXtzaXplLnNldHMudyAtIGRhdGEuc2V0cy54QXhpc1dpZHRofVxuICAgICAgICAgIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgwLCAke3NpemUuc2V0cy5ofSlgfVxuICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgLz5cbiAgICAgICAgPHRleHRcbiAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goYHNDaGFydFRleHRTdHlsZS0ke3N0eWxlLmlkfWAsIHN0eWxlLmNsYXNzTmFtZXMuY2hhcnRMYWJlbCl9XG4gICAgICAgICAgc3R5bGU9e3N0eWxlLnN0eWxlcy5jaGFydExhYmVsfVxuICAgICAgICAgIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3NpemUuc2V0cy53IC8gMn0sICR7c2l6ZS5zZXRzLmggKyBzZXROYW1lT2Zmc2V0fSlgfVxuICAgICAgICA+XG4gICAgICAgICAge3N0eWxlLnNldHMubmFtZX1cbiAgICAgICAgPC90ZXh0PlxuICAgICAgICB7c2l6ZS5zZXRzLmFkZG9ucy5tYXAoKGFkZG9uKSA9PiAoXG4gICAgICAgICAgPHRleHRcbiAgICAgICAgICAgIGtleT17YWRkb24ubmFtZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChgc0NoYXJ0VGV4dFN0eWxlLSR7c3R5bGUuaWR9YCwgc3R5bGUuY2xhc3NOYW1lcy5jaGFydExhYmVsKX1cbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZS5zdHlsZXMuY2hhcnRMYWJlbH1cbiAgICAgICAgICAgIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3NldFBvc0dlbihhZGRvbikgKyBhZGRvbi5zaXplIC8gMn0sICR7c2l6ZS5zZXRzLmggKyBzZXROYW1lT2Zmc2V0fSlgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHthZGRvbi5uYW1lfVxuICAgICAgICAgIDwvdGV4dD5cbiAgICAgICAgKSl9XG4gICAgICA8L2c+XG4gICAgPC9nPlxuICApO1xufSk7XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IFVwU2V0RG90ID0gUmVhY3QubWVtbyhmdW5jdGlvbiBVcFNldERvdCh7XG4gIGN4LFxuICByLFxuICBjeSxcbiAgbmFtZSxcbiAgY2xhc3NOYW1lLFxuICBzdHlsZSxcbn06IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgcjogbnVtYmVyO1xuICBjeDogbnVtYmVyO1xuICBjeTogbnVtYmVyO1xuICBjbGFzc05hbWU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXM7XG59Pikge1xuICByZXR1cm4gKFxuICAgIDxjaXJjbGUgcj17cn0gY3g9e2N4fSBjeT17Y3l9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBzdHlsZT17c3R5bGV9PlxuICAgICAgPHRpdGxlPntuYW1lfTwvdGl0bGU+XG4gICAgPC9jaXJjbGU+XG4gICk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgVXBTZXREb3Q7XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBJU2V0Q29tYmluYXRpb24gfSBmcm9tICdAdXBzZXRqcy9tb2RlbCc7XG5pbXBvcnQgUmVhY3QsIHsgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVcFNldERhdGFJbmZvIH0gZnJvbSAnLi9kZXJpdmVEYXRhRGVwZW5kZW50JztcbmltcG9ydCB7IFVwU2V0U2l6ZUluZm8gfSBmcm9tICcuL2Rlcml2ZVNpemVEZXBlbmRlbnQnO1xuaW1wb3J0IHsgVXBTZXRTdHlsZUluZm8gfSBmcm9tICcuL2Rlcml2ZVN0eWxlRGVwZW5kZW50JztcbmltcG9ydCB7IFVwU2V0U2VsZWN0aW9uIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCBVcFNldERvdCBmcm9tICcuL1VwU2V0RG90JztcbmltcG9ydCB7IGFkZG9uUG9zaXRpb25HZW5lcmF0b3IsIGNsc3ggfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgQ29tYmluYXRpb25DaGFydCA9IFJlYWN0Lm1lbW8oZnVuY3Rpb24gQ29tYmluYXRpb25DaGFydDxUPih7XG4gIGQsXG4gIG9uQ2xpY2ssXG4gIG9uTW91c2VFbnRlcixcbiAgb25Nb3VzZUxlYXZlLFxuICBvbkNvbnRleHRNZW51LFxuICBjbGFzc05hbWUsXG4gIGRhdGEsXG4gIHNpemUsXG4gIHN0eWxlLFxuICBjaGlsZHJlbixcbn06IFByb3BzV2l0aENoaWxkcmVuPFxuICB7XG4gICAgZDogSVNldENvbWJpbmF0aW9uPFQ+O1xuICAgIHNpemU6IFVwU2V0U2l6ZUluZm87XG4gICAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xuICAgIGRhdGE6IFVwU2V0RGF0YUluZm88VD47XG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICB9ICYgVXBTZXRTZWxlY3Rpb25cbj4pIHtcbiAgY29uc3QgeSA9IGRhdGEuY3MueShkLmNhcmRpbmFsaXR5KTtcbiAgY29uc3QgZ2VuUG9zaXRpb24gPSBhZGRvblBvc2l0aW9uR2VuZXJhdG9yKHNpemUuY3MuaCArIHNpemUuc2V0cy5oKTtcbiAgcmV0dXJuIChcbiAgICA8Z1xuICAgICAgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7ZGF0YS5jcy54KGQpfSwgMClgfVxuICAgICAgb25Nb3VzZUVudGVyPXtvbk1vdXNlRW50ZXIoZCl9XG4gICAgICBvbk1vdXNlTGVhdmU9e29uTW91c2VMZWF2ZX1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2soZCl9XG4gICAgICBvbkNvbnRleHRNZW51PXtvbkNvbnRleHRNZW51KGQpfVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICBkYXRhLWNhcmRpbmFsaXR5PXtkLmNhcmRpbmFsaXR5fVxuICAgID5cbiAgICAgIDx0aXRsZT5cbiAgICAgICAge2QubmFtZX06IHtkYXRhLmNzLmZvcm1hdChkLmNhcmRpbmFsaXR5KX1cbiAgICAgIDwvdGl0bGU+XG4gICAgICA8cmVjdFxuICAgICAgICB5PXstc2l6ZS5jcy5iZWZvcmV9XG4gICAgICAgIHdpZHRoPXtkYXRhLmNzLmJhbmRXaWR0aH1cbiAgICAgICAgaGVpZ2h0PXtzaXplLnNldHMuaCArIHNpemUuY3MuaCArIHNpemUuY3MuYmVmb3JlICsgc2l6ZS5jcy5hZnRlcn1cbiAgICAgICAgY2xhc3NOYW1lPXtgaG92ZXJCYXItJHtzdHlsZS5pZH1gfVxuICAgICAgLz5cbiAgICAgIDxyZWN0XG4gICAgICAgIHk9e3l9XG4gICAgICAgIGhlaWdodD17c2l6ZS5jcy5oIC0geX1cbiAgICAgICAgd2lkdGg9e2RhdGEuY3MuYmFuZFdpZHRofVxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goYGZpbGxQcmltYXJ5LSR7c3R5bGUuaWR9YCwgc3R5bGUuY2xhc3NOYW1lcy5iYXIpfVxuICAgICAgICBzdHlsZT17c3R5bGUuc3R5bGVzLmJhcn1cbiAgICAgIC8+XG4gICAgICA8dGV4dFxuICAgICAgICB5PXt5IC0gc3R5bGUuYmFyTGFiZWxPZmZzZXR9XG4gICAgICAgIHg9e2RhdGEuY3MuYmFuZFdpZHRoIC8gMn1cbiAgICAgICAgc3R5bGU9e3N0eWxlLnN0eWxlcy5iYXJMYWJlbH1cbiAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGBjQmFyVGV4dFN0eWxlLSR7c3R5bGUuaWR9YCwgc3R5bGUuY2xhc3NOYW1lcy5iYXJMYWJlbCl9XG4gICAgICA+XG4gICAgICAgIHtkYXRhLmNzLmZvcm1hdChkLmNhcmRpbmFsaXR5KX1cbiAgICAgIDwvdGV4dD5cbiAgICAgIDx0ZXh0XG4gICAgICAgIHk9ey1zdHlsZS5iYXJMYWJlbE9mZnNldCAtIHNpemUuY3MuYmVmb3JlfVxuICAgICAgICB4PXtkYXRhLmNzLmJhbmRXaWR0aCAvIDJ9XG4gICAgICAgIHN0eWxlPXtzdHlsZS5zdHlsZXMuYmFyTGFiZWx9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xzeChgaG92ZXJCYXJUZXh0U3R5bGUtJHtzdHlsZS5pZH1gLCBzdHlsZS5jbGFzc05hbWVzLmJhckxhYmVsKX1cbiAgICAgID5cbiAgICAgICAge2QubmFtZX1cbiAgICAgIDwvdGV4dD5cbiAgICAgIHtkYXRhLnNldHMudi5tYXAoKHMsIGkpID0+IChcbiAgICAgICAgPFVwU2V0RG90XG4gICAgICAgICAga2V5PXtkYXRhLnNldHMua2V5c1tpXX1cbiAgICAgICAgICByPXtkYXRhLnJ9XG4gICAgICAgICAgY3g9e2RhdGEuY3MuY3h9XG4gICAgICAgICAgY3k9e2RhdGEuc2V0cy55KHMpISArIGRhdGEuc2V0cy5jeX1cbiAgICAgICAgICBuYW1lPXtkYXRhLmNzLmhhcyhkLCBzKSA/IHMubmFtZSA6IGQubmFtZX1cbiAgICAgICAgICBzdHlsZT17c3R5bGUuc3R5bGVzLmRvdH1cbiAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgICBkLnNldHMuaGFzKHMpID8gYGZpbGxQcmltYXJ5LSR7c3R5bGUuaWR9YCA6IGBmaWxsTm90TWVtYmVyLSR7c3R5bGUuaWR9YCxcbiAgICAgICAgICAgIHN0eWxlLmNsYXNzTmFtZXMuZG90XG4gICAgICAgICAgKX1cbiAgICAgICAgLz5cbiAgICAgICkpfVxuICAgICAge2Quc2V0cy5zaXplID4gMSAmJiAoXG4gICAgICAgIDxsaW5lXG4gICAgICAgICAgeDE9e2RhdGEuY3MuY3h9XG4gICAgICAgICAgeTE9e2RhdGEuc2V0cy55KGRhdGEuc2V0cy52LmZpbmQoKHApID0+IGRhdGEuY3MuaGFzKGQsIHApKSEpISArIGRhdGEuc2V0cy5jeX1cbiAgICAgICAgICB4Mj17ZGF0YS5jcy5jeH1cbiAgICAgICAgICB5Mj17ZGF0YS5zZXRzLnkoZGF0YS5zZXRzLnJ2LmZpbmQoKHApID0+IGRhdGEuY3MuaGFzKGQsIHApKSEpISArIGRhdGEuc2V0cy5jeX1cbiAgICAgICAgICBjbGFzc05hbWU9e2B1cHNldExpbmUtJHtkYXRhLmlkfWB9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAge3NpemUuY3MuYWRkb25zLm1hcCgoYWRkb24pID0+IChcbiAgICAgICAgPGcga2V5PXthZGRvbi5uYW1lfSB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoMCwke2dlblBvc2l0aW9uKGFkZG9uKX0pYH0+XG4gICAgICAgICAge2FkZG9uLnJlbmRlcih7IHNldDogZCwgd2lkdGg6IGRhdGEuY3MuYmFuZFdpZHRoLCBoZWlnaHQ6IGFkZG9uLnNpemUsIHRoZW1lOiBzdHlsZS50aGVtZSB9KX1cbiAgICAgICAgPC9nPlxuICAgICAgKSl9XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9nPlxuICApO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvbWJpbmF0aW9uQ2hhcnQ7XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBJU2V0IH0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuaW1wb3J0IFJlYWN0LCB7IFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXBTZXREYXRhSW5mbyB9IGZyb20gJy4vZGVyaXZlRGF0YURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFNpemVJbmZvIH0gZnJvbSAnLi9kZXJpdmVTaXplRGVwZW5kZW50JztcbmltcG9ydCB7IFVwU2V0U3R5bGVJbmZvIH0gZnJvbSAnLi9kZXJpdmVTdHlsZURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFNlbGVjdGlvbiB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBhZGRvblBvc2l0aW9uR2VuZXJhdG9yLCBjbHN4IH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IFNldENoYXJ0ID0gUmVhY3QubWVtbyhmdW5jdGlvbiBTZXRDaGFydDxUPih7XG4gIGQsXG4gIGksXG4gIG9uTW91c2VFbnRlcixcbiAgb25Nb3VzZUxlYXZlLFxuICBvbkNsaWNrLFxuICBvbkNvbnRleHRNZW51LFxuICBjbGFzc05hbWUsXG4gIHNpemUsXG4gIGRhdGEsXG4gIHN0eWxlLFxuICBjaGlsZHJlbixcbn06IFByb3BzV2l0aENoaWxkcmVuPFxuICB7XG4gICAgZDogSVNldDxUPjtcbiAgICBpOiBudW1iZXI7XG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAgIHNpemU6IFVwU2V0U2l6ZUluZm87XG4gICAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xuICAgIGRhdGE6IFVwU2V0RGF0YUluZm88VD47XG4gIH0gJiBVcFNldFNlbGVjdGlvblxuPikge1xuICBjb25zdCB4ID0gZGF0YS5zZXRzLngoZC5jYXJkaW5hbGl0eSk7XG4gIGNvbnN0IGdlblBvc2l0aW9uID0gYWRkb25Qb3NpdGlvbkdlbmVyYXRvcihzaXplLnNldHMudyArIHNpemUubGFiZWxzLncgKyBzaXplLmNzLncpO1xuICByZXR1cm4gKFxuICAgIDxnXG4gICAgICB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoMCwgJHtkYXRhLnNldHMueShkKX0pYH1cbiAgICAgIG9uTW91c2VFbnRlcj17b25Nb3VzZUVudGVyKGQpfVxuICAgICAgb25Nb3VzZUxlYXZlPXtvbk1vdXNlTGVhdmV9XG4gICAgICBvbkNsaWNrPXtvbkNsaWNrKGQpfVxuICAgICAgb25Db250ZXh0TWVudT17b25Db250ZXh0TWVudShkKX1cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgZGF0YS1jYXJkaW5hbGl0eT17ZC5jYXJkaW5hbGl0eX1cbiAgICA+XG4gICAgICA8dGl0bGU+XG4gICAgICAgIHtkLm5hbWV9OiB7ZGF0YS5zZXRzLmZvcm1hdChkLmNhcmRpbmFsaXR5KX1cbiAgICAgIDwvdGl0bGU+XG4gICAgICA8cmVjdFxuICAgICAgICB4PXstc2l6ZS5zZXRzLmJlZm9yZX1cbiAgICAgICAgd2lkdGg9e3NpemUuc2V0cy53ICsgc2l6ZS5sYWJlbHMudyArIHNpemUuY3MudyArIHNpemUuc2V0cy5hZnRlcn1cbiAgICAgICAgaGVpZ2h0PXtkYXRhLnNldHMuYmFuZFdpZHRofVxuICAgICAgICBjbGFzc05hbWU9e2Bob3ZlckJhci0ke3N0eWxlLmlkfWB9XG4gICAgICAvPlxuICAgICAge2kgJSAyID09PSAxICYmIChcbiAgICAgICAgPHJlY3RcbiAgICAgICAgICB4PXtzaXplLnNldHMud31cbiAgICAgICAgICB3aWR0aD17c2l6ZS5sYWJlbHMudyArIHNpemUuY3MudyArIHNpemUuc2V0cy5hZnRlcn1cbiAgICAgICAgICBoZWlnaHQ9e2RhdGEuc2V0cy5iYW5kV2lkdGh9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmlsbEFsdGVybmF0aW5nLSR7c3R5bGUuaWR9YH1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICA8cmVjdFxuICAgICAgICB4PXt4fVxuICAgICAgICB3aWR0aD17c2l6ZS5zZXRzLncgLSB4fVxuICAgICAgICBoZWlnaHQ9e2RhdGEuc2V0cy5iYW5kV2lkdGh9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xzeChgZmlsbFByaW1hcnktJHtzdHlsZS5pZH1gLCBzdHlsZS5jbGFzc05hbWVzLmJhcil9XG4gICAgICAgIHN0eWxlPXtzdHlsZS5zdHlsZXMuYmFyfVxuICAgICAgLz5cbiAgICAgIDx0ZXh0XG4gICAgICAgIHg9e3h9XG4gICAgICAgIGR4PXstc3R5bGUuYmFyTGFiZWxPZmZzZXR9XG4gICAgICAgIHk9e2RhdGEuc2V0cy5iYW5kV2lkdGggLyAyfVxuICAgICAgICBzdHlsZT17c3R5bGUuc3R5bGVzLmJhckxhYmVsfVxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goYHNCYXJUZXh0U3R5bGUtJHtzdHlsZS5pZH1gLCBzdHlsZS5jbGFzc05hbWVzLmJhckxhYmVsKX1cbiAgICAgID5cbiAgICAgICAge2RhdGEuc2V0cy5mb3JtYXQoZC5jYXJkaW5hbGl0eSl9XG4gICAgICA8L3RleHQ+XG4gICAgICA8dGV4dFxuICAgICAgICB4PXtzaXplLnNldHMudyArIHNpemUubGFiZWxzLncgLyAyfVxuICAgICAgICB5PXtkYXRhLnNldHMuYmFuZFdpZHRoIC8gMn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGBzZXRUZXh0U3R5bGUtJHtzdHlsZS5pZH1gLCBzdHlsZS5jbGFzc05hbWVzLnNldExhYmVsKX1cbiAgICAgICAgc3R5bGU9e3N0eWxlLnN0eWxlcy5zZXRMYWJlbH1cbiAgICAgICAgY2xpcFBhdGg9e2B1cmwoI2NsaXAtJHtzaXplLmlkfSlgfVxuICAgICAgPlxuICAgICAgICB7ZC5uYW1lfVxuICAgICAgPC90ZXh0PlxuICAgICAge3NpemUuc2V0cy5hZGRvbnMubWFwKChhZGRvbikgPT4gKFxuICAgICAgICA8ZyBrZXk9e2FkZG9uLm5hbWV9IHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke2dlblBvc2l0aW9uKGFkZG9uKX0sMClgfT5cbiAgICAgICAgICB7YWRkb24ucmVuZGVyKHsgc2V0OiBkLCB3aWR0aDogYWRkb24uc2l6ZSwgaGVpZ2h0OiBkYXRhLnNldHMuYmFuZFdpZHRoLCB0aGVtZTogc3R5bGUudGhlbWUgfSl9XG4gICAgICAgIDwvZz5cbiAgICAgICkpfVxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZz5cbiAgKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTZXRDaGFydDtcbiIsIi8qKlxuICogQHVwc2V0anMvcmVhY3RcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCB7IElTZXRMaWtlLCBJU2V0Q29tYmluYXRpb24sIElTZXQgfSBmcm9tICdAdXBzZXRqcy9tb2RlbCc7XG5pbXBvcnQgUmVhY3QsIHsgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29tYmluYXRpb25DaGFydCBmcm9tICcuL0NvbWJpbmF0aW9uQ2hhcnQnO1xuaW1wb3J0IHsgVXBTZXREYXRhSW5mbyB9IGZyb20gJy4vZGVyaXZlRGF0YURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFNpemVJbmZvIH0gZnJvbSAnLi9kZXJpdmVTaXplRGVwZW5kZW50JztcbmltcG9ydCB7IFVwU2V0U3R5bGVJbmZvIH0gZnJvbSAnLi9kZXJpdmVTdHlsZURlcGVuZGVudCc7XG5pbXBvcnQgU2V0Q2hhcnQgZnJvbSAnLi9TZXRDaGFydCc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi91dGlscyc7XG5cbmRlY2xhcmUgdHlwZSBQcm9wczxUPiA9IHtcbiAgc2l6ZTogVXBTZXRTaXplSW5mbztcbiAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xuICBkYXRhOiBVcFNldERhdGFJbmZvPFQ+O1xuICBvbkhvdmVyPyhzZWxlY3Rpb246IElTZXRMaWtlPFQ+IHwgbnVsbCwgZXZ0OiBNb3VzZUV2ZW50KTogdm9pZDtcbiAgb25DbGljaz8oc2VsZWN0aW9uOiBJU2V0TGlrZTxUPiB8IG51bGwsIGV2dDogTW91c2VFdmVudCk6IHZvaWQ7XG4gIG9uQ29udGV4dE1lbnU/KHNlbGVjdGlvbjogSVNldExpa2U8VD4gfCBudWxsLCBldnQ6IE1vdXNlRXZlbnQpOiB2b2lkO1xuICBzZXRDaGlsZHJlbkZhY3Rvcnk/OiAoc2V0OiBJU2V0PFQ+KSA9PiBSZWFjdC5SZWFjdE5vZGU7XG4gIGNvbWJpbmF0aW9uQ2hpbGRyZW5GYWN0b3J5PzogKGNvbWJpbmF0aW9uOiBJU2V0Q29tYmluYXRpb248VD4pID0+IFJlYWN0LlJlYWN0Tm9kZTtcbn07XG5cbmNvbnN0IFVwU2V0Q2hhcnQgPSBSZWFjdC5tZW1vKGZ1bmN0aW9uIFVwU2V0Q2hhcnQ8VD4oe1xuICBkYXRhLFxuICBzaXplLFxuICBzdHlsZSxcbiAgb25Ib3ZlcixcbiAgb25DbGljayxcbiAgb25Db250ZXh0TWVudSxcbiAgc2V0Q2hpbGRyZW5GYWN0b3J5LFxuICBjb21iaW5hdGlvbkNoaWxkcmVuRmFjdG9yeSxcbn06IFByb3BzV2l0aENoaWxkcmVuPFByb3BzPFQ+Pikge1xuICBjb25zdCBbb25DbGlja0ltcGwsIG9uTW91c2VFbnRlckltcGwsIG9uQ29udGV4dE1lbnVJbXBsLCBvbk1vdXNlTGVhdmVJbXBsXSA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gW1xuICAgICAgd3JhcChvbkNsaWNrKSxcbiAgICAgIHdyYXAob25Ib3ZlciksXG4gICAgICB3cmFwKG9uQ29udGV4dE1lbnUpLFxuICAgICAgb25Ib3ZlciA/IChldnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IG9uSG92ZXIobnVsbCwgZXZ0Lm5hdGl2ZUV2ZW50KSA6IHVuZGVmaW5lZCxcbiAgICBdLFxuICAgIFtvbkNsaWNrLCBvbkhvdmVyLCBvbkNvbnRleHRNZW51XVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGcgY2xhc3NOYW1lPXtvbkNsaWNrID8gYGNsaWNrQWJsZS0ke3N0eWxlLmlkfWAgOiB1bmRlZmluZWR9PlxuICAgICAgPGcgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7c2l6ZS5zZXRzLnh9LCR7c2l6ZS5zZXRzLnl9KWB9IGRhdGEtdXBzZXQ9XCJzZXRzXCI+XG4gICAgICAgIHtkYXRhLnNldHMudi5tYXAoKGQsIGkpID0+IChcbiAgICAgICAgICA8U2V0Q2hhcnRcbiAgICAgICAgICAgIGtleT17ZGF0YS5zZXRzLmtleXNbaV19XG4gICAgICAgICAgICBkPXtkfVxuICAgICAgICAgICAgaT17aX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tJbXBsfVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtvbk1vdXNlRW50ZXJJbXBsfVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtvbk1vdXNlTGVhdmVJbXBsfVxuICAgICAgICAgICAgb25Db250ZXh0TWVudT17b25Db250ZXh0TWVudUltcGx9XG4gICAgICAgICAgICBjbGFzc05hbWU9e29uQ2xpY2sgfHwgb25Ib3ZlciA/IGBpbnRlcmFjdGl2ZS0ke3N0eWxlLmlkfWAgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBkYXRhPXtkYXRhfVxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7c2V0Q2hpbGRyZW5GYWN0b3J5ICYmIHNldENoaWxkcmVuRmFjdG9yeShkKX1cbiAgICAgICAgICA8L1NldENoYXJ0PlxuICAgICAgICApKX1cbiAgICAgIDwvZz5cblxuICAgICAgPGcgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7c2l6ZS5jcy54fSwke3NpemUuY3MueX0pYH0gZGF0YS11cHNldD1cImNzXCI+XG4gICAgICAgIHtkYXRhLmNzLnYubWFwKChkLCBpKSA9PiAoXG4gICAgICAgICAgPENvbWJpbmF0aW9uQ2hhcnRcbiAgICAgICAgICAgIGtleT17ZGF0YS5jcy5rZXlzW2ldfVxuICAgICAgICAgICAgZD17ZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tJbXBsfVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtvbk1vdXNlRW50ZXJJbXBsfVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtvbk1vdXNlTGVhdmVJbXBsfVxuICAgICAgICAgICAgb25Db250ZXh0TWVudT17b25Db250ZXh0TWVudUltcGx9XG4gICAgICAgICAgICBjbGFzc05hbWU9e29uQ2xpY2sgfHwgb25Ib3ZlciA/IGBpbnRlcmFjdGl2ZS0ke3N0eWxlLmlkfWAgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBkYXRhPXtkYXRhfVxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y29tYmluYXRpb25DaGlsZHJlbkZhY3RvcnkgJiYgY29tYmluYXRpb25DaGlsZHJlbkZhY3RvcnkoZCl9XG4gICAgICAgICAgPC9Db21iaW5hdGlvbkNoYXJ0PlxuICAgICAgICApKX1cbiAgICAgIDwvZz5cbiAgICA8L2c+XG4gICk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgVXBTZXRDaGFydCBhcyA8VD4ocHJvcHM6IFByb3BzV2l0aENoaWxkcmVuPFByb3BzPFQ+PikgPT4gSlNYLkVsZW1lbnQ7XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBJU2V0TGlrZSwgSVNldENvbWJpbmF0aW9uIH0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuaW1wb3J0IFJlYWN0LCB7IFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXBTZXRBZGRvbnMgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IFVwU2V0RGF0YUluZm8gfSBmcm9tICcuL2Rlcml2ZURhdGFEZXBlbmRlbnQnO1xuaW1wb3J0IHsgVXBTZXRTaXplSW5mbyB9IGZyb20gJy4vZGVyaXZlU2l6ZURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFN0eWxlSW5mbyB9IGZyb20gJy4vZGVyaXZlU3R5bGVEZXBlbmRlbnQnO1xuaW1wb3J0IHsgYWRkb25Qb3NpdGlvbkdlbmVyYXRvciwgY2xzeCB9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBDb21iaW5hdGlvblNlbGVjdGlvbkNoYXJ0PFQ+KHtcbiAgZGF0YSxcbiAgc2l6ZSxcbiAgc3R5bGUsXG4gIGVsZW1PdmVybGFwLFxuICBzZWNvbmRhcnksXG4gIHRvb2x0aXAsXG4gIHN1ZmZpeCxcbiAgdHJhbnNmb3JtLFxuICBlbXB0eSxcbiAgY29tYmluYXRpb25BZGRvbnMsXG59OiBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIHRyYW5zZm9ybT86IHN0cmluZztcbiAgZGF0YTogVXBTZXREYXRhSW5mbzxUPjtcbiAgc2l6ZTogVXBTZXRTaXplSW5mbztcbiAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xuICBzdWZmaXg6IHN0cmluZztcbiAgZW1wdHk/OiBib29sZWFuO1xuICBlbGVtT3ZlcmxhcDogKHM6IElTZXRMaWtlPFQ+KSA9PiBudW1iZXI7XG4gIHNlY29uZGFyeT86IGJvb2xlYW47XG4gIHRvb2x0aXA/OiBzdHJpbmc7XG4gIGNvbWJpbmF0aW9uQWRkb25zOiBVcFNldEFkZG9uczxJU2V0Q29tYmluYXRpb248VD4sIFQ+O1xufT4pIHtcbiAgY29uc3Qgd2lkdGggPSBkYXRhLmNzLmJhbmRXaWR0aDtcbiAgY29uc3QgdG90YWxIZWlnaHQgPSBzaXplLmNzLmggKyBzaXplLnNldHMuaDtcbiAgY29uc3QgaGVpZ2h0ID0gc2l6ZS5jcy5oO1xuICBjb25zdCBjbGFzc05hbWUgPSBjbHN4KGBmaWxsJHtzdWZmaXh9YCwgIXRvb2x0aXAgJiYgYHBub25lLSR7c3R5bGUuaWR9YCwgc3R5bGUuY2xhc3NOYW1lcy5iYXIpO1xuICByZXR1cm4gKFxuICAgIDxnIHRyYW5zZm9ybT17dHJhbnNmb3JtfSBkYXRhLXVwc2V0PXtzZWNvbmRhcnkgPyAnY3MtcScgOiAnY3Mtcyd9PlxuICAgICAge2RhdGEuY3Mudi5tYXAoKGQsIGkpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGRhdGEuY3MueChkKSE7XG4gICAgICAgIGNvbnN0IGtleSA9IGRhdGEuY3Mua2V5c1tpXTtcbiAgICAgICAgaWYgKGVtcHR5ICYmICFzZWNvbmRhcnkpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHJlY3Qga2V5PXtrZXl9IHg9e3h9IHk9e2hlaWdodH0gaGVpZ2h0PXswfSB3aWR0aD17d2lkdGh9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBzdHlsZT17c3R5bGUuc3R5bGVzLmJhcn0+XG4gICAgICAgICAgICAgIHt0b29sdGlwICYmIDx0aXRsZT48L3RpdGxlPn1cbiAgICAgICAgICAgIDwvcmVjdD5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG8gPSBlbGVtT3ZlcmxhcChkKTtcbiAgICAgICAgaWYgKG8gPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB5ID0gZGF0YS5jcy55KG8pO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdG9vbHRpcCAmJiA8dGl0bGU+e2Ake2QubmFtZX0g4oipICR7dG9vbHRpcH06ICR7b31gfTwvdGl0bGU+O1xuICAgICAgICBjb25zdCBjb250ZW50ID0gc2Vjb25kYXJ5ID8gKFxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3h9LCAke3l9KWB9XG4gICAgICAgICAgICBkPXtgTTAsLTEgbCR7d2lkdGh9LDAgbDAsMiBsJHstd2lkdGh9LDAgTC0ke2RhdGEudHJpYW5nbGVTaXplfSwtJHtkYXRhLnRyaWFuZ2xlU2l6ZX0gTC0ke1xuICAgICAgICAgICAgICBkYXRhLnRyaWFuZ2xlU2l6ZVxuICAgICAgICAgICAgfSwke2RhdGEudHJpYW5nbGVTaXplfSBaYH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgZGF0YS1pPXtpfVxuICAgICAgICAgICAgZGF0YS1jYXJkaW5hbGl0eT17b31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGl0bGV9XG4gICAgICAgICAgPC9wYXRoPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxyZWN0XG4gICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgIHg9e3h9XG4gICAgICAgICAgICB5PXt5fVxuICAgICAgICAgICAgaGVpZ2h0PXtoZWlnaHQgLSB5fVxuICAgICAgICAgICAgZGF0YS1pPXtpfVxuICAgICAgICAgICAgZGF0YS1jYXJkaW5hbGl0eT17b31cbiAgICAgICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlLnN0eWxlcy5iYXJ9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICAgIDwvcmVjdD5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBnZW5Qb3NpdGlvbiA9IGFkZG9uUG9zaXRpb25HZW5lcmF0b3IodG90YWxIZWlnaHQpO1xuICAgICAgICBjb25zdCBhZGRvbnMgPSBjb21iaW5hdGlvbkFkZG9uc1xuICAgICAgICAgIC5tYXAoKGFkZG9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gZ2VuUG9zaXRpb24oYWRkb24pO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGFkZG9uLnJlbmRlcih7IHNldDogZCwgd2lkdGgsIGhlaWdodDogYWRkb24uc2l6ZSwgdGhlbWU6IHN0eWxlLnRoZW1lIH0pO1xuICAgICAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGcga2V5PXthZGRvbi5uYW1lfSB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHt4fSwke3Z9KWB9PlxuICAgICAgICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcblxuICAgICAgICBpZiAoYWRkb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGcga2V5PXtrZXl9PlxuICAgICAgICAgICAge2NvbnRlbnR9XG4gICAgICAgICAgICB7YWRkb25zfVxuICAgICAgICAgIDwvZz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29tYmluYXRpb25TZWxlY3Rpb25DaGFydDtcbiIsIi8qKlxuICogQHVwc2V0anMvcmVhY3RcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCB7IElTZXRMaWtlLCBJU2V0IH0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuaW1wb3J0IFJlYWN0LCB7IFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXBTZXRBZGRvbnMgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IFVwU2V0RGF0YUluZm8gfSBmcm9tICcuL2Rlcml2ZURhdGFEZXBlbmRlbnQnO1xuaW1wb3J0IHsgVXBTZXRTaXplSW5mbyB9IGZyb20gJy4vZGVyaXZlU2l6ZURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFN0eWxlSW5mbyB9IGZyb20gJy4vZGVyaXZlU3R5bGVEZXBlbmRlbnQnO1xuaW1wb3J0IHsgYWRkb25Qb3NpdGlvbkdlbmVyYXRvciwgY2xzeCB9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBTZXRTZWxlY3Rpb25DaGFydDxUPih7XG4gIGRhdGEsXG4gIHNpemUsXG4gIHN0eWxlLFxuICBlbGVtT3ZlcmxhcCxcbiAgc3VmZml4LFxuICBzZWNvbmRhcnksXG4gIGVtcHR5LFxuICB0b29sdGlwLFxuICBzZXRBZGRvbnMsXG4gIHRyYW5zZm9ybSxcbn06IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgZGF0YTogVXBTZXREYXRhSW5mbzxUPjtcbiAgc2l6ZTogVXBTZXRTaXplSW5mbztcbiAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xuICBzdWZmaXg6IHN0cmluZztcbiAgZW1wdHk/OiBib29sZWFuO1xuICBlbGVtT3ZlcmxhcDogKHM6IElTZXRMaWtlPFQ+KSA9PiBudW1iZXI7XG4gIHNlY29uZGFyeT86IGJvb2xlYW47XG4gIHRvb2x0aXA/OiBzdHJpbmc7XG4gIHRyYW5zZm9ybT86IHN0cmluZztcbiAgc2V0QWRkb25zOiBVcFNldEFkZG9uczxJU2V0PFQ+LCBUPjtcbn0+KSB7XG4gIGNvbnN0IHdpZHRoID0gc2l6ZS5zZXRzLnc7XG4gIGNvbnN0IHRvdGFsV2lkdGggPSBzaXplLnNldHMudyArIHNpemUubGFiZWxzLncgKyBzaXplLmNzLnc7XG4gIGNvbnN0IGhlaWdodCA9IGRhdGEuc2V0cy5iYW5kV2lkdGg7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGNsc3goYGZpbGwke3N1ZmZpeH1gLCAhdG9vbHRpcCAmJiBgIHBub25lLSR7c3R5bGUuaWR9YCwgc3R5bGUuY2xhc3NOYW1lcy5iYXIpO1xuICByZXR1cm4gKFxuICAgIDxnIHRyYW5zZm9ybT17dHJhbnNmb3JtfSBkYXRhLXVwc2V0PXtzZWNvbmRhcnkgPyAnc2V0cy1xJyA6ICdzZXRzLXMnfT5cbiAgICAgIHtkYXRhLnNldHMudi5tYXAoKGQsIGkpID0+IHtcbiAgICAgICAgY29uc3QgeSA9IGRhdGEuc2V0cy55KGQpITtcbiAgICAgICAgY29uc3Qga2V5ID0gZGF0YS5zZXRzLmtleXNbaV07XG4gICAgICAgIGlmIChlbXB0eSAmJiAhc2Vjb25kYXJ5KSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxyZWN0IGtleT17a2V5fSB4PXt3aWR0aH0geT17eX0gd2lkdGg9ezB9IGhlaWdodD17aGVpZ2h0fSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gc3R5bGU9e3N0eWxlLnN0eWxlcy5iYXJ9PlxuICAgICAgICAgICAgICB7dG9vbHRpcCAmJiA8dGl0bGU+PC90aXRsZT59XG4gICAgICAgICAgICA8L3JlY3Q+XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvID0gZWxlbU92ZXJsYXAoZCk7XG4gICAgICAgIGlmIChvID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeCA9IGRhdGEuc2V0cy54KG8pO1xuICAgICAgICBjb25zdCB0aXRsZSA9IHRvb2x0aXAgJiYgPHRpdGxlPntgJHtkLm5hbWV9IOKIqSAke3Rvb2x0aXB9OiAke299YH08L3RpdGxlPjtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gc2Vjb25kYXJ5ID8gKFxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3h9LCAke3kgKyBoZWlnaHR9KWB9XG4gICAgICAgICAgICBkPXtgTTEsMCBsMCwkey1oZWlnaHR9IGwtMiwwIGwwLCR7aGVpZ2h0fSBMLSR7ZGF0YS50cmlhbmdsZVNpemV9LCR7ZGF0YS50cmlhbmdsZVNpemV9IEwke1xuICAgICAgICAgICAgICBkYXRhLnRyaWFuZ2xlU2l6ZVxuICAgICAgICAgICAgfSwke2RhdGEudHJpYW5nbGVTaXplfSBaYH1cbiAgICAgICAgICAgIGRhdGEtaT17aX1cbiAgICAgICAgICAgIGRhdGEtY2FyZGluYWxpdHk9e299XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGl0bGV9XG4gICAgICAgICAgPC9wYXRoPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxyZWN0XG4gICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgIGRhdGEtaT17aX1cbiAgICAgICAgICAgIGRhdGEtY2FyZGluYWxpdHk9e299XG4gICAgICAgICAgICB4PXt4fVxuICAgICAgICAgICAgeT17eX1cbiAgICAgICAgICAgIHdpZHRoPXt3aWR0aCAtIHh9XG4gICAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlLnN0eWxlcy5iYXJ9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICAgIDwvcmVjdD5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBnZW5Qb3NpdGlvbiA9IGFkZG9uUG9zaXRpb25HZW5lcmF0b3IodG90YWxXaWR0aCk7XG4gICAgICAgIGNvbnN0IGFkZG9ucyA9IHNldEFkZG9uc1xuICAgICAgICAgIC5tYXAoKGFkZG9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gZ2VuUG9zaXRpb24oYWRkb24pO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGFkZG9uLnJlbmRlcih7IHNldDogZCwgd2lkdGg6IGFkZG9uLnNpemUsIGhlaWdodCwgdGhlbWU6IHN0eWxlLnRoZW1lIH0pO1xuICAgICAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGcga2V5PXthZGRvbi5uYW1lfSB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHt2fSwke3l9KWB9PlxuICAgICAgICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcblxuICAgICAgICBpZiAoYWRkb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGcga2V5PXtrZXl9PlxuICAgICAgICAgICAge2NvbnRlbnR9XG4gICAgICAgICAgICB7YWRkb25zfVxuICAgICAgICAgIDwvZz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2V0U2VsZWN0aW9uQ2hhcnQ7XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBJU2V0TGlrZSwgcXVlcnlFbGVtT3ZlcmxhcCwgcXVlcnlPdmVybGFwLCBVcFNldFF1ZXJ5IH0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuaW1wb3J0IFJlYWN0LCB7IFByb3BzV2l0aENoaWxkcmVuLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXBTZXRBZGRvbiwgVXBTZXRBZGRvblByb3BzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgQ29tYmluYXRpb25TZWxlY3Rpb25DaGFydCBmcm9tICcuL0NvbWJpbmF0aW9uU2VsZWN0aW9uQ2hhcnQnO1xuaW1wb3J0IHsgVXBTZXREYXRhSW5mbyB9IGZyb20gJy4vZGVyaXZlRGF0YURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFNpemVJbmZvIH0gZnJvbSAnLi9kZXJpdmVTaXplRGVwZW5kZW50JztcbmltcG9ydCB7IFVwU2V0U3R5bGVJbmZvIH0gZnJvbSAnLi9kZXJpdmVTdHlsZURlcGVuZGVudCc7XG5pbXBvcnQgU2V0U2VsZWN0aW9uQ2hhcnQgZnJvbSAnLi9TZXRTZWxlY3Rpb25DaGFydCc7XG5cbmNvbnN0IEVNUFRZX0FSUkFZOiBhbnlbXSA9IFtdO1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKGZ1bmN0aW9uIFVwU2V0UXVlcmllczxUPih7XG4gIHNpemUsXG4gIGRhdGEsXG4gIHN0eWxlLFxuICBvbkhvdmVyLFxuICBzZWNvbmRhcnksXG4gIHF1ZXJpZXMsXG59OiBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIHNpemU6IFVwU2V0U2l6ZUluZm87XG4gIHN0eWxlOiBVcFNldFN0eWxlSW5mbztcbiAgZGF0YTogVXBTZXREYXRhSW5mbzxUPjtcbiAgb25Ib3Zlcj8oc2VsZWN0aW9uOiBJU2V0TGlrZTxUPiB8IG51bGwsIGV2dDogTW91c2VFdmVudCk6IHZvaWQ7XG4gIHNlY29uZGFyeTogYm9vbGVhbjtcbiAgcXVlcmllczogUmVhZG9ubHlBcnJheTxVcFNldFF1ZXJ5PFQ+Pjtcbn0+KSB7XG4gIGNvbnN0IHNvbWVBZGRvbiA9XG4gICAgc2l6ZS5zZXRzLmFkZG9ucy5zb21lKChzKSA9PiBzLnJlbmRlclF1ZXJ5ICE9IG51bGwpIHx8IHNpemUuY3MuYWRkb25zLnNvbWUoKHMpID0+IHMucmVuZGVyUXVlcnkgIT0gbnVsbCk7XG4gIGNvbnN0IHFzID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgcXVlcmllcy5tYXAoKHEpID0+ICh7XG4gICAgICAgIC4uLnEsXG4gICAgICAgIG92ZXJsYXA6IHF1ZXJ5T3ZlcmxhcChxLCAnaW50ZXJzZWN0aW9uJywgZGF0YS50b0VsZW1LZXkpLFxuICAgICAgICBlbGVtT3ZlcmxhcDogc29tZUFkZG9uID8gcXVlcnlFbGVtT3ZlcmxhcChxLCAnaW50ZXJzZWN0aW9uJywgZGF0YS50b0VsZW1LZXkpIDogbnVsbCxcbiAgICAgIH0pKSxcbiAgICBbcXVlcmllcywgc29tZUFkZG9uLCBkYXRhLnRvRWxlbUtleV1cbiAgKTtcblxuICBmdW5jdGlvbiB3cmFwQWRkb248XG4gICAgUyBleHRlbmRzIElTZXRMaWtlPFQ+XG4gID4oYWRkb246IFVwU2V0QWRkb248UywgVD4sIHF1ZXJ5OiBVcFNldFF1ZXJ5PFQ+LCBvdmVybGFwcGVyOiAoc2V0OiBTKSA9PiBSZWFkb25seUFycmF5PFQ+IHwgbnVsbCwgc2Vjb25kYXJ5OiBib29sZWFuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmFkZG9uLFxuICAgICAgcmVuZGVyOiAocHJvcHM6IFVwU2V0QWRkb25Qcm9wczxTLCBUPikgPT4ge1xuICAgICAgICBjb25zdCBvdmVybGFwID0gb3ZlcmxhcHBlcihwcm9wcy5zZXQpO1xuICAgICAgICByZXR1cm4gYWRkb24ucmVuZGVyUXVlcnkgPyBhZGRvbi5yZW5kZXJRdWVyeSh7IHF1ZXJ5LCBvdmVybGFwLCBzZWNvbmRhcnksIC4uLnByb3BzIH0pIDogbnVsbDtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGcgY2xhc3NOYW1lPXtvbkhvdmVyICYmICFzZWNvbmRhcnkgPyBgcG5vbmUtJHtzdHlsZS5pZH1gIDogdW5kZWZpbmVkfT5cbiAgICAgIDxnIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3NpemUuc2V0cy54fSwke3NpemUuc2V0cy55fSlgfT5cbiAgICAgICAge3FzLm1hcCgocSwgaSkgPT4gKFxuICAgICAgICAgIDxTZXRTZWxlY3Rpb25DaGFydFxuICAgICAgICAgICAga2V5PXtxLm5hbWV9XG4gICAgICAgICAgICBkYXRhPXtkYXRhfVxuICAgICAgICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgICAgIGVsZW1PdmVybGFwPXtxLm92ZXJsYXB9XG4gICAgICAgICAgICBzdWZmaXg9e2BRJHtpfS0ke2RhdGEuaWR9YH1cbiAgICAgICAgICAgIHNlY29uZGFyeT17c2Vjb25kYXJ5IHx8IGkgPiAwfVxuICAgICAgICAgICAgdG9vbHRpcD17b25Ib3ZlciAmJiAhKHNlY29uZGFyeSB8fCBpID4gMCkgPyB1bmRlZmluZWQgOiBxLm5hbWV9XG4gICAgICAgICAgICBzZXRBZGRvbnM9e1xuICAgICAgICAgICAgICBzaXplLnNldHMuYWRkb25zLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gRU1QVFlfQVJSQVlcbiAgICAgICAgICAgICAgICA6IHNpemUuc2V0cy5hZGRvbnMubWFwKChhKSA9PiB3cmFwQWRkb24oYSwgcSwgcS5lbGVtT3ZlcmxhcCEsIHNlY29uZGFyeSB8fCBpID4gMCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2c+XG4gICAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtzaXplLmNzLnh9LCR7c2l6ZS5jcy55fSlgfT5cbiAgICAgICAge3FzLm1hcCgocSwgaSkgPT4gKFxuICAgICAgICAgIDxDb21iaW5hdGlvblNlbGVjdGlvbkNoYXJ0XG4gICAgICAgICAgICBrZXk9e3EubmFtZX1cbiAgICAgICAgICAgIGRhdGE9e2RhdGF9XG4gICAgICAgICAgICBzaXplPXtzaXplfVxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgICAgZWxlbU92ZXJsYXA9e3Eub3ZlcmxhcH1cbiAgICAgICAgICAgIHN1ZmZpeD17YFEke2l9LSR7ZGF0YS5pZH1gfVxuICAgICAgICAgICAgc2Vjb25kYXJ5PXtzZWNvbmRhcnkgfHwgaSA+IDB9XG4gICAgICAgICAgICB0b29sdGlwPXtvbkhvdmVyICYmICEoc2Vjb25kYXJ5IHx8IGkgPiAwKSA/IHVuZGVmaW5lZCA6IHEubmFtZX1cbiAgICAgICAgICAgIGNvbWJpbmF0aW9uQWRkb25zPXtcbiAgICAgICAgICAgICAgc2l6ZS5jcy5hZGRvbnMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgPyBFTVBUWV9BUlJBWVxuICAgICAgICAgICAgICAgIDogc2l6ZS5jcy5hZGRvbnMubWFwKChhKSA9PiB3cmFwQWRkb24oYSwgcSwgcS5lbGVtT3ZlcmxhcCEsIHNlY29uZGFyeSB8fCBpID4gMCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2c+XG4gICAgPC9nPlxuICApO1xufSk7XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBJU2V0TGlrZSB9IGZyb20gJ0B1cHNldGpzL21vZGVsJztcbmltcG9ydCBSZWFjdCwgeyBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVwU2V0RGF0YUluZm8gfSBmcm9tICcuL2Rlcml2ZURhdGFEZXBlbmRlbnQnO1xuaW1wb3J0IHsgVXBTZXRTaXplSW5mbyB9IGZyb20gJy4vZGVyaXZlU2l6ZURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFN0eWxlSW5mbyB9IGZyb20gJy4vZGVyaXZlU3R5bGVEZXBlbmRlbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMYWJlbHNTZWxlY3Rpb248VD4oe1xuICBkYXRhLFxuICBzaXplLFxuICBzdHlsZSxcbiAgc2VsZWN0aW9uLFxufTogUHJvcHNXaXRoQ2hpbGRyZW48e1xuICBkYXRhOiBVcFNldERhdGFJbmZvPFQ+O1xuICBzaXplOiBVcFNldFNpemVJbmZvO1xuICBzdHlsZTogVXBTZXRTdHlsZUluZm87XG4gIHNlbGVjdGlvbjogSVNldExpa2U8VD4gfCBudWxsO1xufT4pIHtcbiAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnR5cGUgIT09ICdzZXQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgZCA9IHNlbGVjdGlvbjtcbiAgcmV0dXJuIChcbiAgICA8cmVjdFxuICAgICAgeT17ZGF0YS5zZXRzLnkoZCl9XG4gICAgICB3aWR0aD17c2l6ZS5sYWJlbHMudyArIHNpemUuY3MudyArIHNpemUuc2V0cy5hZnRlcn1cbiAgICAgIGhlaWdodD17ZGF0YS5zZXRzLmJhbmRXaWR0aH1cbiAgICAgIGNsYXNzTmFtZT17YHNlbGVjdGlvbkhpbnQtJHtzdHlsZS5pZH1gfVxuICAgIC8+XG4gICk7XG59XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vdXBzZXRqcy91cHNldGpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBJU2V0TGlrZSB9IGZyb20gJ0B1cHNldGpzL21vZGVsJztcbmltcG9ydCBSZWFjdCwgeyBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVwU2V0RGF0YUluZm8gfSBmcm9tICcuL2Rlcml2ZURhdGFEZXBlbmRlbnQnO1xuaW1wb3J0IHsgVXBTZXRTaXplSW5mbyB9IGZyb20gJy4vZGVyaXZlU2l6ZURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFN0eWxlSW5mbyB9IGZyb20gJy4vZGVyaXZlU3R5bGVEZXBlbmRlbnQnO1xuaW1wb3J0IFVwU2V0RG90IGZyb20gJy4vVXBTZXREb3QnO1xuaW1wb3J0IHsgY2xzeCB9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBVcFNldFNlbGVjdGlvbkNoYXJ0PFQ+KHtcbiAgZGF0YSxcbiAgc2l6ZSxcbiAgc3R5bGUsXG4gIHNlbGVjdGlvbixcbn06IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgZGF0YTogVXBTZXREYXRhSW5mbzxUPjtcbiAgc2l6ZTogVXBTZXRTaXplSW5mbztcbiAgc3R5bGU6IFVwU2V0U3R5bGVJbmZvO1xuICBzZWxlY3Rpb246IElTZXRMaWtlPFQ+IHwgbnVsbDtcbn0+KSB7XG4gIGNvbnN0IGN5ID0gZGF0YS5zZXRzLmJhbmRXaWR0aCAvIDI7XG4gIGNvbnN0IGN4ID0gZGF0YS5jcy5jeDtcbiAgY29uc3QgciA9IGRhdGEucjtcbiAgY29uc3QgaGVpZ2h0ID0gc2l6ZS5zZXRzLmggKyBzaXplLnNldHMuYWZ0ZXI7XG4gIGNvbnN0IHdpZHRoID0gZGF0YS5jcy5iYW5kV2lkdGg7XG5cbiAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnR5cGUgPT09ICdzZXQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgZCA9IHNlbGVjdGlvbjtcbiAgY29uc3QgaW5kZXggPSBkYXRhLmNzLmtleXMuaW5kZXhPZihkYXRhLnRvS2V5KGQpKTtcbiAgcmV0dXJuIChcbiAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtzaXplLmxhYmVscy53ICsgZGF0YS5jcy54KGQpIX0sIDApYH0gZGF0YS11cHNldD1cImNzLXNzXCIgZGF0YS1pPXtpbmRleH0+XG4gICAgICA8cmVjdCB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBjbGFzc05hbWU9e2BzZWxlY3Rpb25IaW50LSR7c3R5bGUuaWR9YH0gLz5cbiAgICAgIHtkYXRhLnNldHMudlxuICAgICAgICAuZmlsdGVyKChzKSA9PiBkYXRhLmNzLmhhcyhkLCBzKSlcbiAgICAgICAgLm1hcCgocykgPT4gKFxuICAgICAgICAgIDxVcFNldERvdFxuICAgICAgICAgICAga2V5PXtkYXRhLnRvS2V5KHMpfVxuICAgICAgICAgICAgcj17ciAqIDEuMX1cbiAgICAgICAgICAgIGN4PXtjeH1cbiAgICAgICAgICAgIGN5PXtkYXRhLnNldHMueShzKSEgKyBjeX1cbiAgICAgICAgICAgIG5hbWU9e3MubmFtZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChgZmlsbFNlbGVjdGlvbi0ke3N0eWxlLmlkfWAsIGBwbm9uZS0ke3N0eWxlLmlkfWAsIHN0eWxlLmNsYXNzTmFtZXMuZG90KX1cbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZS5zdHlsZXMuZG90fVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAge2Quc2V0cy5zaXplID4gMSAmJiAoXG4gICAgICAgIDxsaW5lXG4gICAgICAgICAgeDE9e2N4fVxuICAgICAgICAgIHkxPXtkYXRhLnNldHMueShkYXRhLnNldHMudi5maW5kKChwKSA9PiBkYXRhLmNzLmhhcyhkLCBwKSkhKSEgKyBjeX1cbiAgICAgICAgICB4Mj17Y3h9XG4gICAgICAgICAgeTI9e2RhdGEuc2V0cy55KGRhdGEuc2V0cy5ydi5maW5kKChwKSA9PiBkYXRhLmNzLmhhcyhkLCBwKSkhKSEgKyBjeX1cbiAgICAgICAgICBjbGFzc05hbWU9e2B1cHNldFNlbGVjdGlvbkxpbmUtJHtkYXRhLmlkfWB9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXBTZXRTZWxlY3Rpb25DaGFydDtcbiIsIi8qKlxuICogQHVwc2V0anMvcmVhY3RcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCB7IElTZXRMaWtlLCBzZXRFbGVtT3ZlcmxhcEZhY3RvcnksIHNldE92ZXJsYXBGYWN0b3J5IH0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuaW1wb3J0IFJlYWN0LCB7IFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXBTZXRBZGRvbiwgVXBTZXRBZGRvblByb3BzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgQ29tYmluYXRpb25TZWxlY3Rpb25DaGFydCBmcm9tICcuL0NvbWJpbmF0aW9uU2VsZWN0aW9uQ2hhcnQnO1xuaW1wb3J0IHsgVXBTZXREYXRhSW5mbyB9IGZyb20gJy4vZGVyaXZlRGF0YURlcGVuZGVudCc7XG5pbXBvcnQgeyBVcFNldFNpemVJbmZvIH0gZnJvbSAnLi9kZXJpdmVTaXplRGVwZW5kZW50JztcbmltcG9ydCB7IFVwU2V0U3R5bGVJbmZvIH0gZnJvbSAnLi9kZXJpdmVTdHlsZURlcGVuZGVudCc7XG5pbXBvcnQgTGFiZWxzU2VsZWN0aW9uIGZyb20gJy4vTGFiZWxzU2VsZWN0aW9uJztcbmltcG9ydCBTZXRTZWxlY3Rpb25DaGFydCBmcm9tICcuL1NldFNlbGVjdGlvbkNoYXJ0JztcbmltcG9ydCBVcFNldFNlbGVjdGlvbkNoYXJ0IGZyb20gJy4vVXBTZXRTZWxlY3Rpb25DaGFydCc7XG5cbmNvbnN0IEVNUFRZX0FSUkFZOiBhbnlbXSA9IFtdO1xuXG5mdW5jdGlvbiBpc1NldExpa2U8VD4oczogUmVhZG9ubHlBcnJheTxUPiB8IElTZXRMaWtlPFQ+IHwgbnVsbCB8ICgoczogSVNldExpa2U8VD4pID0+IG51bWJlcikpOiBzIGlzIElTZXRMaWtlPFQ+IHtcbiAgcmV0dXJuIHMgIT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShzKTtcbn1cblxuZnVuY3Rpb24gZWxlbU92ZXJsYXBPZjxUPihxdWVyeTogU2V0PFQ+IHwgUmVhZG9ubHlBcnJheTxUPiwgdG9FbGVtS2V5PzogKGU6IFQpID0+IHN0cmluZykge1xuICBjb25zdCBmID0gc2V0T3ZlcmxhcEZhY3RvcnkocXVlcnksIHRvRWxlbUtleSk7XG4gIHJldHVybiAoczogSVNldExpa2U8VD4pID0+IHtcbiAgICByZXR1cm4gZihzLmVsZW1zKS5pbnRlcnNlY3Rpb247XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVsZW1FbGVtT3ZlcmxhcE9mPFQ+KHF1ZXJ5OiBTZXQ8VD4gfCBSZWFkb25seUFycmF5PFQ+LCB0b0VsZW1LZXk/OiAoZTogVCkgPT4gc3RyaW5nKSB7XG4gIGNvbnN0IGYgPSBzZXRFbGVtT3ZlcmxhcEZhY3RvcnkocXVlcnksIHRvRWxlbUtleSk7XG4gIHJldHVybiAoczogSVNldExpa2U8VD4pID0+IHtcbiAgICByZXR1cm4gZihzLmVsZW1zKS5pbnRlcnNlY3Rpb247XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub092ZXJsYXAoKSB7XG4gIHJldHVybiAwO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcFNldFNlbGVjdGlvbjxUPih7XG4gIHNpemUsXG4gIGRhdGEsXG4gIHN0eWxlLFxuICBzZWxlY3Rpb24sXG4gIG9uSG92ZXIsXG59OiBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIHNpemU6IFVwU2V0U2l6ZUluZm87XG4gIHN0eWxlOiBVcFNldFN0eWxlSW5mbztcbiAgZGF0YTogVXBTZXREYXRhSW5mbzxUPjtcbiAgb25Ib3Zlcj8oc2VsZWN0aW9uOiBJU2V0TGlrZTxUPiB8IG51bGwsIGV2dDogTW91c2VFdmVudCk6IHZvaWQ7XG4gIHNlbGVjdGlvbjogSVNldExpa2U8VD4gfCBudWxsIHwgUmVhZG9ubHlBcnJheTxUPiB8ICgoczogSVNldExpa2U8VD4pID0+IG51bWJlcik7XG59Pikge1xuICBjb25zdCBlbXB0eSA9IHN0eWxlLmVtcHR5U2VsZWN0aW9uO1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlU2VsZWN0aW9uT3ZlcmxhcCgpOiAoczogSVNldExpa2U8VD4pID0+IG51bWJlciB7XG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBub092ZXJsYXA7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2VsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3Rpb24pKSB7XG4gICAgICByZXR1cm4gZWxlbU92ZXJsYXBPZihzZWxlY3Rpb24sIGRhdGEudG9FbGVtS2V5KTtcbiAgICB9XG4gICAgY29uc3Qgc3MgPSBzZWxlY3Rpb24gYXMgSVNldExpa2U8VD47XG4gICAgaWYgKHNzLm92ZXJsYXApIHtcbiAgICAgIHJldHVybiBzcy5vdmVybGFwO1xuICAgIH1cbiAgICBjb25zdCBmID0gZWxlbU92ZXJsYXBPZihzcy5lbGVtcywgZGF0YS50b0VsZW1LZXkpO1xuICAgIHJldHVybiAocykgPT4ge1xuICAgICAgcmV0dXJuIHMub3ZlcmxhcCA/IHMub3ZlcmxhcChzcykgOiBmKHMpO1xuICAgIH07XG4gIH1cblxuICBjb25zdCBzZWxlY3Rpb25PdmVybGFwID0gZ2VuZXJhdGVTZWxlY3Rpb25PdmVybGFwKCk7XG4gIGNvbnN0IHNlbGVjdGlvbk5hbWUgPSBBcnJheS5pc0FycmF5KHNlbGVjdGlvbilcbiAgICA/IGBBcnJheSgke3NlbGVjdGlvbi5sZW5ndGh9KWBcbiAgICA6IHR5cGVvZiBzZWxlY3Rpb24gPT09ICdmdW5jdGlvbidcbiAgICA/ICc/J1xuICAgIDogKHNlbGVjdGlvbiBhcyBJU2V0TGlrZTxUPik/Lm5hbWU7XG5cbiAgY29uc3Qgc29tZUFkZG9uID1cbiAgICBzaXplLnNldHMuYWRkb25zLnNvbWUoKHMpID0+IHMucmVuZGVyU2VsZWN0aW9uICE9IG51bGwpIHx8IHNpemUuY3MuYWRkb25zLnNvbWUoKHMpID0+IHMucmVuZGVyU2VsZWN0aW9uICE9IG51bGwpO1xuICBjb25zdCBzZWxlY3Rpb25FbGVtT3ZlcmxhcCA9XG4gICAgc2VsZWN0aW9uICYmIHR5cGVvZiBzZWxlY3Rpb24gIT09ICdmdW5jdGlvbicgJiYgc29tZUFkZG9uXG4gICAgICA/IGVsZW1FbGVtT3ZlcmxhcE9mKEFycmF5LmlzQXJyYXkoc2VsZWN0aW9uKSA/IHNlbGVjdGlvbiA6IChzZWxlY3Rpb24gYXMgSVNldExpa2U8VD4pLmVsZW1zLCBkYXRhLnRvRWxlbUtleSlcbiAgICAgIDogbnVsbDtcblxuICBmdW5jdGlvbiB3cmFwQWRkb248UyBleHRlbmRzIElTZXRMaWtlPFQ+PihhZGRvbjogVXBTZXRBZGRvbjxTLCBUPikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5hZGRvbixcbiAgICAgIHJlbmRlcjogKHByb3BzOiBVcFNldEFkZG9uUHJvcHM8UywgVD4pID0+IHtcbiAgICAgICAgY29uc3Qgb3ZlcmxhcCA9IHNlbGVjdGlvbkVsZW1PdmVybGFwID8gc2VsZWN0aW9uRWxlbU92ZXJsYXAocHJvcHMuc2V0KSA6IG51bGw7XG4gICAgICAgIHJldHVybiBhZGRvbi5yZW5kZXJTZWxlY3Rpb25cbiAgICAgICAgICA/IGFkZG9uLnJlbmRlclNlbGVjdGlvbih7IHNlbGVjdGlvbiwgc2VsZWN0aW9uQ29sb3I6IHN0eWxlLnNlbGVjdGlvbkNvbG9yLCBvdmVybGFwLCAuLi5wcm9wcyB9KVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGcgY2xhc3NOYW1lPXtvbkhvdmVyID8gYHBub25lLSR7c3R5bGUuaWR9YCA6IHVuZGVmaW5lZH0+XG4gICAgICB7KHNlbGVjdGlvbiB8fCBlbXB0eSkgJiYgKFxuICAgICAgICA8Q29tYmluYXRpb25TZWxlY3Rpb25DaGFydFxuICAgICAgICAgIGRhdGE9e2RhdGF9XG4gICAgICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7c2l6ZS5jcy54fSwke3NpemUuY3MueX0pYH1cbiAgICAgICAgICBlbXB0eT17ZW1wdHkgJiYgIXNlbGVjdGlvbn1cbiAgICAgICAgICBlbGVtT3ZlcmxhcD17c2VsZWN0aW9uT3ZlcmxhcH1cbiAgICAgICAgICBzdWZmaXg9e2BTZWxlY3Rpb24tJHtzdHlsZS5pZH1gfVxuICAgICAgICAgIHRvb2x0aXA9e29uSG92ZXIgPyB1bmRlZmluZWQgOiBzZWxlY3Rpb25OYW1lfVxuICAgICAgICAgIGNvbWJpbmF0aW9uQWRkb25zPXtzaXplLmNzLmFkZG9ucy5sZW5ndGggPT09IDAgPyBFTVBUWV9BUlJBWSA6IHNpemUuY3MuYWRkb25zLm1hcCh3cmFwQWRkb24pfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHsoc2VsZWN0aW9uIHx8IGVtcHR5KSAmJiAoXG4gICAgICAgIDxTZXRTZWxlY3Rpb25DaGFydFxuICAgICAgICAgIGRhdGE9e2RhdGF9XG4gICAgICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7c2l6ZS5zZXRzLnh9LCR7c2l6ZS5zZXRzLnl9KWB9XG4gICAgICAgICAgZW1wdHk9e2VtcHR5ICYmICFzZWxlY3Rpb259XG4gICAgICAgICAgZWxlbU92ZXJsYXA9e3NlbGVjdGlvbk92ZXJsYXB9XG4gICAgICAgICAgc3VmZml4PXtgU2VsZWN0aW9uLSR7c3R5bGUuaWR9YH1cbiAgICAgICAgICB0b29sdGlwPXtvbkhvdmVyID8gdW5kZWZpbmVkIDogc2VsZWN0aW9uTmFtZX1cbiAgICAgICAgICBzZXRBZGRvbnM9e3NpemUuc2V0cy5hZGRvbnMubGVuZ3RoID09PSAwID8gRU1QVFlfQVJSQVkgOiBzaXplLnNldHMuYWRkb25zLm1hcCh3cmFwQWRkb24pfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIDxnIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3NpemUubGFiZWxzLnh9LCR7c2l6ZS5sYWJlbHMueX0pYH0+XG4gICAgICAgIHtpc1NldExpa2Uoc2VsZWN0aW9uKSAmJiA8TGFiZWxzU2VsZWN0aW9uIGRhdGE9e2RhdGF9IHNpemU9e3NpemV9IHN0eWxlPXtzdHlsZX0gc2VsZWN0aW9uPXtzZWxlY3Rpb259IC8+fVxuICAgICAgICB7aXNTZXRMaWtlKHNlbGVjdGlvbikgJiYgPFVwU2V0U2VsZWN0aW9uQ2hhcnQgZGF0YT17ZGF0YX0gc2l6ZT17c2l6ZX0gc3R5bGU9e3N0eWxlfSBzZWxlY3Rpb249e3NlbGVjdGlvbn0gLz59XG4gICAgICA8L2c+XG4gICAgPC9nPlxuICApO1xufVxuIiwiLyoqXG4gKiBAdXBzZXRqcy9yZWFjdFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuaW1wb3J0IHtcbiAgVXBTZXRUaGVtZVByb3BzLFxuICBVcFNldFByb3BzLFxuICBVcFNldERhdGFQcm9wcyxcbiAgVXBTZXRTaXplUHJvcHMsXG4gIFVwU2V0U3R5bGVQcm9wcyxcbiAgVXBTZXRSZWFjdFN0eWxlUHJvcHMsXG4gIFVwU2V0U2VsZWN0aW9uUHJvcHMsXG59IGZyb20gJy4vVXBTZXRKUyc7XG5pbXBvcnQgeyBJU2V0Q29tYmluYXRpb25zLCBHZW5lcmF0ZVNldENvbWJpbmF0aW9uc09wdGlvbnMsIHRvS2V5IH0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuaW1wb3J0IHtcbiAgREVGQVVMVF9DT01CSU5BVElPTlMsXG4gIERFRkFVTFRfSEVJR0hUX1JBVElPLFxuICBFTVBUWV9BUlJBWSxcbiAgREVGQVVMVF9GT05UU0laRVMsXG4gIEVNUFRZX09CSkVDVCxcbiAgREVGQVVMVF9XSURUSF9SQVRJTyxcbn0gZnJvbSAnLi9kZWZhdWx0cyc7XG5cbmNvbnN0IGxpZ2h0VGhlbWU6IFJlcXVpcmVkPFVwU2V0VGhlbWVQcm9wcz4gPSB7XG4gIHNlbGVjdGlvbkNvbG9yOiAnI2ZmYTUwMCcsXG4gIGNvbG9yOiAnIzAwMDAwMCcsXG4gIHRleHRDb2xvcjogJyMwMDAwMDAnLFxuICBob3ZlckhpbnRDb2xvcjogJyNjY2NjY2MnLFxuICBub3RNZW1iZXJDb2xvcjogJyNkM2QzZDMnLFxuICBhbHRlcm5hdGluZ0JhY2tncm91bmRDb2xvcjogJyMwMDAwMDAwZCcsXG59O1xuY29uc3QgZGFya1RoZW1lOiBSZXF1aXJlZDxVcFNldFRoZW1lUHJvcHM+ID0ge1xuICBzZWxlY3Rpb25Db2xvcjogJyNmZmE1MDAnLFxuICBjb2xvcjogJyNjY2NjY2MnLFxuICB0ZXh0Q29sb3I6ICcjZmZmZmZmJyxcbiAgaG92ZXJIaW50Q29sb3I6ICcjZDlkOWQ5JyxcbiAgbm90TWVtYmVyQ29sb3I6ICcjNjY2NjY2JyxcbiAgYWx0ZXJuYXRpbmdCYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmMzMnLFxufTtcblxuZnVuY3Rpb24gZ2V0VGhlbWUodGhlbWU/OiAnbGlnaHQnIHwgJ2RhcmsnKSB7XG4gIHJldHVybiB0aGVtZSA9PT0gJ2RhcmsnID8gZGFya1RoZW1lIDogbGlnaHRUaGVtZTtcbn1cbmZ1bmN0aW9uIGFyZUNvbWJpbmF0aW9uczxUPihcbiAgY29tYmluYXRpb25zOiBJU2V0Q29tYmluYXRpb25zPFQ+IHwgR2VuZXJhdGVTZXRDb21iaW5hdGlvbnNPcHRpb25zXG4pOiBjb21iaW5hdGlvbnMgaXMgSVNldENvbWJpbmF0aW9uczxUPiB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGNvbWJpbmF0aW9ucyk7XG59XG5cbi8qKlxuICogaGVscGVyIG1ldGhvZHMgdG8gZmlsbCB1cCBwYXJ0aWFsIFVwU2V0LmpzIHByb3BlcnRpZXMgd2l0aCB0aGVpciBkZWZhdWx0IHZhbHVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsbERlZmF1bHRzPFQgPSBhbnk+KFxuICBwcm9wczogVXBTZXRQcm9wczxUPlxuKTogUmVxdWlyZWQ8VXBTZXREYXRhUHJvcHM8VD4+ICZcbiAgUmVxdWlyZWQ8VXBTZXRTaXplUHJvcHM+ICZcbiAgUmVxdWlyZWQ8VXBTZXRTdHlsZVByb3BzPiAmXG4gIFJlcXVpcmVkPFVwU2V0UmVhY3RTdHlsZVByb3BzPFQ+PiAmXG4gIFVwU2V0U2VsZWN0aW9uUHJvcHM8VD4ge1xuICBjb25zdCB0aGVtZSA9IGdldFRoZW1lKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAge1xuICAgICAgdGhlbWU6ICdsaWdodCcsXG4gICAgICBwYWRkaW5nOiAyMCxcbiAgICAgIGJhclBhZGRpbmc6IDAuMyxcbiAgICAgIGRvdFBhZGRpbmc6IDAuNyxcbiAgICAgIGNvbWJpbmF0aW9uczogREVGQVVMVF9DT01CSU5BVElPTlMsXG4gICAgICBzZWxlY3Rpb246IG51bGwsXG4gICAgICBjb21iaW5hdGlvbk5hbWU6XG4gICAgICAgIHByb3BzLmNvbWJpbmF0aW9ucyAhPSBudWxsICYmICFhcmVDb21iaW5hdGlvbnMocHJvcHMuY29tYmluYXRpb25zKSAmJiBwcm9wcy5jb21iaW5hdGlvbnMudHlwZSA9PT0gJ3VuaW9uJ1xuICAgICAgICAgID8gJ1VuaW9uIFNpemUnXG4gICAgICAgICAgOiAnSW50ZXJzZWN0aW9uIFNpemUnLFxuICAgICAgYmFyTGFiZWxPZmZzZXQ6IDIsXG4gICAgICBzZXROYW1lQXhpc09mZnNldDogJ2F1dG8nLFxuICAgICAgY29tYmluYXRpb25OYW1lQXhpc09mZnNldDogJ2F1dG8nLFxuICAgICAgc2V0TmFtZTogJ1NldCBTaXplJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdzYW5zLXNlcmlmJyxcbiAgICAgIHdpZHRoUmF0aW9zOiBERUZBVUxUX1dJRFRIX1JBVElPLFxuICAgICAgaGVpZ2h0UmF0aW9zOiBERUZBVUxUX0hFSUdIVF9SQVRJTyxcbiAgICAgIHF1ZXJpZXM6IEVNUFRZX0FSUkFZLFxuICAgICAgcXVlcnlMZWdlbmQ6IHByb3BzLnF1ZXJpZXMgIT0gbnVsbCAmJiBwcm9wcy5xdWVyaWVzLmxlbmd0aCA+IDAsXG4gICAgICBleHBvcnRCdXR0b25zOiB0cnVlLFxuICAgICAgbnVtZXJpY1NjYWxlOiAnbGluZWFyJyxcbiAgICAgIGJhbmRTY2FsZTogJ2JhbmQnLFxuICAgICAgY2xhc3NOYW1lOiAnJyxcbiAgICAgIGZvbnRTaXplczogREVGQVVMVF9GT05UU0laRVMsXG4gICAgICBjbGFzc05hbWVzOiBFTVBUWV9PQkpFQ1QsXG4gICAgICBzdHlsZTogRU1QVFlfT0JKRUNULFxuICAgICAgc3R5bGVzOiBFTVBUWV9PQkpFQ1QsXG4gICAgICBjaGlsZHJlbkZhY3RvcmllczogRU1QVFlfT0JKRUNULFxuICAgICAgc2V0QWRkb25zOiBFTVBUWV9BUlJBWSxcbiAgICAgIGNvbWJpbmF0aW9uQWRkb25zOiBFTVBUWV9BUlJBWSxcbiAgICAgIGVtcHR5U2VsZWN0aW9uOiB0cnVlLFxuICAgICAgdG9LZXksXG4gICAgfSxcbiAgICB0aGVtZSxcbiAgICBwcm9wcyxcbiAgICBwcm9wcy5mb250U2l6ZXNcbiAgICAgID8ge1xuICAgICAgICAgIGZvbnRTaXplczogT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9GT05UU0laRVMsIHByb3BzLmZvbnRTaXplcyksXG4gICAgICAgIH1cbiAgICAgIDogRU1QVFlfT0JKRUNUXG4gICk7XG59XG4iLCIvKipcbiAqIEB1cHNldGpzL3JlYWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50cy9jb21wb25lbnRzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbywgUmVhY3ROb2RlLCBDU1NQcm9wZXJ0aWVzLCBmb3J3YXJkUmVmLCBSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVcFNldEFkZG9uLCBVcFNldFJlYWN0U3R5bGVzLCBVcFNldFN0eWxlQ2xhc3NOYW1lcywgVXBTZXRGb250U2l6ZXMgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuaW1wb3J0IGRlcml2ZURhdGFEZXBlbmRlbnQgZnJvbSAnLi9jb21wb25lbnRzL2Rlcml2ZURhdGFEZXBlbmRlbnQnO1xuaW1wb3J0IGRlZmluZVNpemVEZXBlbmRlbnQgZnJvbSAnLi9jb21wb25lbnRzL2Rlcml2ZVNpemVEZXBlbmRlbnQnO1xuaW1wb3J0IGRlcml2ZVN0eWxlRGVwZW5kZW50IGZyb20gJy4vY29tcG9uZW50cy9kZXJpdmVTdHlsZURlcGVuZGVudCc7XG5pbXBvcnQgRXhwb3J0QnV0dG9ucyBmcm9tICcuL2NvbXBvbmVudHMvRXhwb3J0QnV0dG9ucyc7XG5pbXBvcnQgUXVlcnlMZWdlbmQgZnJvbSAnLi9jb21wb25lbnRzL1F1ZXJ5TGVnZW5kJztcbmltcG9ydCBVcFNldEF4aXMgZnJvbSAnLi9jb21wb25lbnRzL1VwU2V0QXhpcyc7XG5pbXBvcnQgVXBTZXRDaGFydCBmcm9tICcuL2NvbXBvbmVudHMvVXBTZXRDaGFydCc7XG5pbXBvcnQgVXBTZXRRdWVyaWVzIGZyb20gJy4vY29tcG9uZW50cy9VcFNldFF1ZXJpZXMnO1xuaW1wb3J0IFVwU2V0U2VsZWN0aW9uIGZyb20gJy4vY29tcG9uZW50cy9VcFNldFNlbGVjdGlvbic7XG5pbXBvcnQgeyBjbHN4LCBnZW5lcmF0ZUlkIH0gZnJvbSAnLi9jb21wb25lbnRzL3V0aWxzJztcblxuaW1wb3J0IHtcbiAgSVNldExpa2UsXG4gIEJhbmRTY2FsZUZhY3RvcnksXG4gIE51bWVyaWNTY2FsZUZhY3RvcnksXG4gIFVwU2V0UXVlcnksXG4gIElTZXQsXG4gIElTZXRDb21iaW5hdGlvbixcbiAgSVNldENvbWJpbmF0aW9ucyxcbiAgR2VuZXJhdGVTZXRDb21iaW5hdGlvbnNPcHRpb25zLFxuICBJU2V0cyxcbn0gZnJvbSAnQHVwc2V0anMvbW9kZWwnO1xuaW1wb3J0IHsgZmlsbERlZmF1bHRzIH0gZnJvbSAnLi9maWxsRGVmYXVsdHMnO1xuXG5leHBvcnQgKiBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVwU2V0RGF0YVByb3BzPFQgPSBhbnk+IHtcbiAgLyoqXG4gICAqIHRoZSBzZXRzIHRvIHZpc3VhbGl6ZVxuICAgKi9cbiAgc2V0czogSVNldHM8VD47XG4gIC8qKlxuICAgKiB0aGUgc2V0IGNvbWJpbmF0aW9ucyB0byB2aXN1YWxpemUgb3IgdGhlIGdlbmVyYXRpb24gb3B0aW9ucyB0byBnZW5lcmF0ZSB0aGUgc2V0IGNvbWJpbmF0aW9uc1xuICAgKiBieSBkZWZhdWx0IGFsbCBzZXQgaW50ZXJzZWN0aW9ucyBhcmUgY29tcHV0ZWRcbiAgICovXG4gIGNvbWJpbmF0aW9ucz86IElTZXRDb21iaW5hdGlvbnM8VD4gfCBHZW5lcmF0ZVNldENvbWJpbmF0aW9uc09wdGlvbnM8VD47XG4gIC8qKlxuICAgKiBvcHRpb25hbCBmdW5jdGlvbiB0byBpZGVudGlmeSB0aGUgc2FtZSBzZXRzXG4gICAqIEBwYXJhbSBzZXQgdGhlIHNldCB0byBnZW5lcmF0ZSBhIGtleSBmb3JcbiAgICovXG4gIHRvS2V5PzogKHNldDogSVNldExpa2U8VD4pID0+IHN0cmluZztcbiAgLyoqXG4gICAqIG9wdGlvbmFsIGZ1bmN0aW9uIHRvIGlkZW50aWZ5IHRoZSBzYW1lIGVsZW1lbnRcbiAgICogQHBhcmFtIGVsZW0gdGhlIGVsZW1lbnQgdGhlIGtleSBmb3JcbiAgICovXG4gIHRvRWxlbUtleT86IChlbGVtOiBUKSA9PiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBTZXRTaXplUHJvcHMge1xuICAvKipcbiAgICogd2lkdGggb2YgdGhlIGNoYXJ0XG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xuICAvKipcbiAgICogaGVpZ2h0IG9mIHRoZSBjaGFydFxuICAgKi9cbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBwYWRkaW5nIHdpdGhpbiB0aGUgc3ZnXG4gICAqIEBkZWZhdWx0IDVcbiAgICovXG4gIHBhZGRpbmc/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBwYWRkaW5nIGFyZ3VtZW50IGZvciBzY2FsZUJhbmRcbiAgICogQGRlZmF1bHQgMC4xXG4gICAqL1xuICBiYXJQYWRkaW5nPzogbnVtYmVyO1xuICAvKipcbiAgICogcGFkZGluZyBmYWN0b3IgdGhlIGZvciBkb3RzXG4gICAqIEBkZWZhdWx0IDAuN1xuICAgKi9cbiAgZG90UGFkZGluZz86IG51bWJlcjtcbiAgLyoqXG4gICAqIHdpZHRoIHJhdGlvcyBmb3IgZGlmZmVyZW50IHBsb3RzXG4gICAqIFtzZXQgY2hhcnQsIHNldCBsYWJlbHMsIGludGVyc2VjdGlvbiBjaGFydF1cbiAgICogQGRlZmF1bHQgWzAuMjEsIDAuMTksIDAuN11cbiAgICovXG4gIHdpZHRoUmF0aW9zPzogW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAvKipcbiAgICogaGVpZ2h0IHJhdGlvcyBmb3IgZGlmZmVyZW50IHBsb3RzXG4gICAqIFtpbnRlcnNlY3Rpb24gY2hhcnQsIHNldCBjaGFydF1cbiAgICogQGRlZmF1bHQgWzAuNiwgMC40XVxuICAgKi9cbiAgaGVpZ2h0UmF0aW9zPzogW251bWJlciwgbnVtYmVyXTtcbn1cblxuZGVjbGFyZSB0eXBlIFVwU2V0UXVlcmllczxUID0gYW55PiA9IFJlYWRvbmx5QXJyYXk8VXBTZXRRdWVyeTxUPj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBTZXRTZWxlY3Rpb25Qcm9wczxUID0gYW55PiB7XG4gIC8qKlxuICAgKiB0aGUgc2VsZWN0aW9uIG9mIHRoZSBwbG90LiBDYW4gYmUgYSBzZXQgbGlrZSAoc2V0IG9yIHNldCBjb21iaW5hdGlvbiksIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBvciBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgdGhlIG92ZXJsYXAgdG8gYSBnaXZlbiBzZXRcbiAgICovXG4gIHNlbGVjdGlvbj86IElTZXRMaWtlPFQ+IHwgbnVsbCB8IFJlYWRvbmx5QXJyYXk8VD4gfCAoKHM6IElTZXRMaWtlPFQ+KSA9PiBudW1iZXIpO1xuICAvKipcbiAgICogbW91c2UgaG92ZXIgbGlzdGVuZXIsIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGlzIG92ZXIgYSBzZXQgKGNvbWJpbmF0aW9uKVxuICAgKi9cbiAgb25Ib3Zlcj86IChzZWxlY3Rpb246IElTZXRMaWtlPFQ+IHwgbnVsbCwgZXZ0OiBNb3VzZUV2ZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogbW91c2UgY2xpY2sgbGlzdGVuZXIsIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGlzIGNsaWNraW5nIG9uIGEgc2V0IChjb21iaW5hdGlvbilcbiAgICovXG4gIG9uQ2xpY2s/OiAoc2VsZWN0aW9uOiBJU2V0TGlrZTxUPiB8IG51bGwsIGV2dDogTW91c2VFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIG1vdXNlIGNvbnRleHQgbWVudSBsaXN0ZW5lciwgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgcmlnaHQgY2xpY2tzIG9uIGEgc2V0IChjb21iaW5hdGlvbilcbiAgICovXG4gIG9uQ29udGV4dE1lbnU/OiAoc2VsZWN0aW9uOiBJU2V0TGlrZTxUPiB8IG51bGwsIGV2dDogTW91c2VFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIGxpc3Qgb2YgcXVlcmllcyBhcyBhbiBhbHRlcm5hdGl2ZSB0byBwcm92aWRlIGEgc2luZ2xlIHNlbGVjdGlvblxuICAgKi9cbiAgcXVlcmllcz86IFVwU2V0UXVlcmllczxUPjtcbn1cblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBVcFNldEFkZG9uczxTIGV4dGVuZHMgSVNldExpa2U8VD4sIFQ+ID0gUmVhZG9ubHlBcnJheTxVcFNldEFkZG9uPFMsIFQ+PjtcblxuZXhwb3J0IGludGVyZmFjZSBVcFNldFJlYWN0U3R5bGVQcm9wczxUID0gYW55PiB7XG4gIC8qKlxuICAgKiBzdHlsZSBvYmplY3QgYXBwbGllZCB0byB0aGUgU1ZHIGVsZW1lbnRcbiAgICovXG4gIHN0eWxlPzogQ1NTUHJvcGVydGllcztcbiAgLyoqXG4gICAqIG9iamVjdCBmb3IgYXBwbHlpbmcgc3R5bGVzIHRvIGNlcnRhaW4gc3ViIGVsZW1lbnRzXG4gICAqL1xuICBzdHlsZXM/OiBVcFNldFJlYWN0U3R5bGVzO1xuICAvKipcbiAgICogbGlzdCBvZiBhZGRvbnMgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQgYWxvbmcgdGhlIGhvcml6b250YWwgc2V0c1xuICAgKi9cbiAgc2V0QWRkb25zPzogVXBTZXRBZGRvbnM8SVNldDxUPiwgVD47XG4gIC8qKlxuICAgKiBsaXN0IG9mIGFkZG9ucyB0aGF0IHNob3VsZCBiZSByZW5kZXJlZCBhbG9uZyB0aGUgdmVydGljYWwgc2V0IGNvbWJpbmF0aW9uc1xuICAgKi9cbiAgY29tYmluYXRpb25BZGRvbnM/OiBVcFNldEFkZG9uczxJU2V0Q29tYmluYXRpb248VD4sIFQ+O1xuICAvKipcbiAgICogZmFjdG9yeSB0byBjcmVhdGUgZXh0cmEgcmVhY3Qgbm9kZXMgZm9yIGVhY2ggc2V0XG4gICAqL1xuICBzZXRDaGlsZHJlbkZhY3Rvcnk/OiAoc2V0OiBJU2V0PFQ+KSA9PiBSZWFjdE5vZGU7XG4gIC8qKlxuICAgKiBmYWN0b3J5IHRvIGNyZWF0ZSBleHRyYSByZWFjdCBub2RlcyBmb3IgZWFjaCBzZXQgY29tYmluYXRpb25cbiAgICovXG4gIGNvbWJpbmF0aW9uQ2hpbGRyZW5GYWN0b3J5PzogKGNvbWJpbmF0aW9uOiBJU2V0Q29tYmluYXRpb248VD4pID0+IFJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcFNldFRoZW1lUHJvcHMge1xuICAvKipcbiAgICogY29sb3IgdXNlZCB0byBoaWdobGlnaHQgdGhlIHNlbGVjdGlvblxuICAgKiBAZGVmYXVsdCBvcmFuZ2VcbiAgICovXG4gIHNlbGVjdGlvbkNvbG9yPzogc3RyaW5nO1xuICAvKipcbiAgICogY29sb3IgdXNlZCB0byBoaWdobGlnaHQgYWx0ZXJuYXRpbmcgYmFja2dyb3VuZCBpbiB0aGUgc2V0cyBmb3IgZWFzaWVyIGNvbXBhcmlzb25cbiAgICogc2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgYWx0ZXJuYXRpbmcgcGF0dGVyblxuICAgKi9cbiAgYWx0ZXJuYXRpbmdCYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmcgfCBmYWxzZTtcbiAgLyoqXG4gICAqIG1haW4gY29sb3IgdG8gcmVuZGVyIGJhcnMgYW5kIGRhcmsgZG90c1xuICAgKiBAZGVmYXVsdCBibGFja1xuICAgKi9cbiAgY29sb3I/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBtYWluIGNvbG9yIHRvIHJlbmRlciB0ZXh0XG4gICAqIEBkZWZhdWx0IGJsYWNrXG4gICAqL1xuICB0ZXh0Q29sb3I/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBjb2xvciBmb3IgdGhlIGhvdmVyIGhpbnQgcmVjdHMgZm9yIHNldCBjb21iaW5hdGlvbnNcbiAgICovXG4gIGhvdmVySGludENvbG9yPzogc3RyaW5nO1xuICAvKipcbiAgICogY29sb3IgZm9yIGRvdHMgdGhhdCBpbmRpY2F0ZSBpdCBpcyBub3QgYSBtZW1iZXJcbiAgICovXG4gIG5vdE1lbWJlckNvbG9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwU2V0U3R5bGVQcm9wcyBleHRlbmRzIFVwU2V0VGhlbWVQcm9wcyB7XG4gIC8qKlxuICAgKiBvcHRpb25hbCB1bmlxdWUgaWQgb2YgdGhlIHNldCBlbGVtZW50LiBOb3RlOiBpZiBzZXQsIGl0IGlzIHdpbGwgYWxzbyBiZSB1c2VkIGFzIGEgQ1NTIGNsYXNzIHN1ZmZpeFxuICAgKi9cbiAgaWQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBvcHRpb25hbCBjbGFzc25hbWUgZm9yIHRoZSBTVkcgZWxlbWVudFxuICAgKi9cbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogb2JqZWN0IG9mIGNsYXNzbmFtZXMgZm9yIGNlcnRhaW4gc3ViIGVsZW1lbnRzXG4gICAqL1xuICBjbGFzc05hbWVzPzogVXBTZXRTdHlsZUNsYXNzTmFtZXM7XG4gIC8qKlxuICAgKiBiYXNpYyB0aGVtZSBvZiB0aGUgcGxvdCBlaXRoZXIgJ2xpZ2h0JyBvciAnZGFyaydcbiAgICogQGRlZmF1bHQgbGlnaHRcbiAgICovXG4gIHRoZW1lPzogJ2xpZ2h0JyB8ICdkYXJrJztcbiAgLyoqXG4gICAqIG9mZnNldCBvZiB0aGUgbGFiZWwgb24gdG9wIG9yIGxlZnQgb2YgYSBiYXJcbiAgICogQGRlZmF1bHQgMlxuICAgKi9cbiAgYmFyTGFiZWxPZmZzZXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBvZmZzZXQgb2YgdGhlIHNldCBuYW1lIGZyb20gdGhlIHNldCB4IGF4aXMuICdhdXRvJyBtZWFucyB0aGF0IGl0IHdpbGwgYmUgZ3Vlc3NlZCBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgdmFsdWVzXG4gICAqIEBkZWZhdWx0IGF1dG9cbiAgICovXG4gIHNldE5hbWVBeGlzT2Zmc2V0PzogbnVtYmVyIHwgJ2F1dG8nO1xuICAvKipcbiAgICogb2Zmc2V0IG9mIHRoZSBjb21iaW5hdGlvbiBuYW1lIGZyb20gdGhlIGNvbWJpbmF0aW9uIHkgYXhpcy4gJ2F1dG8nIG1lYW5zIHRoYXQgaXQgd2lsbCBiZSBndWVzc2VkIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB2YWx1ZXNcbiAgICogQGRlZmF1bHQgYXV0b1xuICAgKi9cbiAgY29tYmluYXRpb25OYW1lQXhpc09mZnNldD86IG51bWJlciB8ICdhdXRvJztcbiAgLyoqXG4gICAqIHNob3cgYSBsZWdlbmQgb2YgcXVlcmllc1xuICAgKiBlbmFibGVkIGJ5IGRlZmF1bHQgd2hlbiBxdWVyaWVzIGFyZSBzZXRcbiAgICovXG4gIHF1ZXJ5TGVnZW5kPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIHNob3cgZXhwb3J0IGJ1dHRvbnNcbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZXhwb3J0QnV0dG9ucz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBzcGVjaWZ5IHRoZSBvdmVyYWxsIGZvbnQgZmFtaWx5LCBzZXQgdG8gZmFsc2UgdG8gdXNlIHRoZSBkZWZhdWx0IGZvbnQgZmFtaWx5XG4gICAqIEBkZWZhdWx0IHNhbnMtc2VyaWZcbiAgICovXG4gIGZvbnRGYW1pbHk/OiBzdHJpbmcgfCBmYWxzZTtcbiAgLyoqXG4gICAqIHNwZWNpZnkgZm9udCBzaXplcyBmb3IgZGlmZmVyZW50IHN1YiBlbGVtZW50c1xuICAgKi9cbiAgZm9udFNpemVzPzogVXBTZXRGb250U2l6ZXM7XG4gIC8qKlxuICAgKiBudW1lcmljIHNjYWxlIHRvIHVzZSwgZWl0aGVyIGNvbnN0YW50cyAnbGluZWFyJyBvciAnbG9nJyBvciBhIGN1c3RvbSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAqIEBkZWZhdWx0IGxpbmVhclxuICAgKi9cbiAgbnVtZXJpY1NjYWxlPzogTnVtZXJpY1NjYWxlRmFjdG9yeSB8ICdsaW5lYXInIHwgJ2xvZyc7XG4gIC8qKlxuICAgKiBiYW5kIHNjYWxlIHRvIHVzZSwgZWl0aGVyIGNvbnN0YW50ICdiYW5kJyBvciBhIGN1c3RvbSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAqIEBkZWZhdWx0IGJhbmRcbiAgICovXG4gIGJhbmRTY2FsZT86IEJhbmRTY2FsZUZhY3RvcnkgfCAnYmFuZCc7XG4gIC8qKlxuICAgKiBzZXQgYXhpcyBsYWJlbFxuICAgKiBAZGVmYXVsdCBTZXQgU2l6ZVxuICAgKi9cbiAgc2V0TmFtZT86IFJlYWN0Tm9kZTtcbiAgLyoqXG4gICAqIGNvbWJpbmF0aW9uIGF4aXMgbGFiZWxcbiAgICogQGRlZmF1bHQgSW50ZXJzZWN0aW9uIFNpemVcbiAgICovXG4gIGNvbWJpbmF0aW9uTmFtZT86IFJlYWN0Tm9kZTtcbiAgLyoqXG4gICAqIHJlbmRlciBlbXB0eSBzZWxlY3Rpb24gZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBlbXB0eVNlbGVjdGlvbj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogdGhlIFVwU2V0SlMgY29tcG9uZW50IHByb3BlcnRpZXMsIHNlcGFyYXRlZCBpbiBtdWx0aXBsZSBzZW1hbnRpYyBzdWIgaW50ZXJmYWNlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwU2V0UHJvcHM8VCA9IGFueT5cbiAgZXh0ZW5kcyBVcFNldERhdGFQcm9wczxUPixcbiAgICBVcFNldFNpemVQcm9wcyxcbiAgICBVcFNldFN0eWxlUHJvcHMsXG4gICAgVXBTZXRSZWFjdFN0eWxlUHJvcHM8VD4sXG4gICAgVXBTZXRTZWxlY3Rpb25Qcm9wczxUPiB7XG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlO1xufVxuXG4vKipcbiAqIFVwU2V0SlMgbWFpbiBwdXJlIGZ1bmN0aW9uYWwgc3RhdGVsZXNzIFJlYWN0IGNvbXBvbmVudCwgdGhlIGdlbmVyaWMgYXJndW1lbnQgVCByZWZlcnMgdG8gdGhlIHR5cGUgb2YgdGhlIGVsZW1lbnRzXG4gKlxuICogd2l0aCBSZWFjdC5mb3J3YXJkUmVmIHN1cHBvcnQgdG8gc3BlY2lmeSBhIHJlZmVyZW5jZSB0byB0aGUgU1ZHIGVsZW1lbnRcbiAqL1xuY29uc3QgVXBTZXRKUyA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVXBTZXRKUzxUID0gYW55Pihwcm9wczogVXBTZXRQcm9wczxUPiwgcmVmOiBSZWY8U1ZHU1ZHRWxlbWVudD4pIHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGNsYXNzTmFtZSxcbiAgICBzdHlsZSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgcGFkZGluZzogbWFyZ2luLFxuICAgIGJhclBhZGRpbmcsXG4gICAgc2V0cyxcbiAgICB0b0tleSxcbiAgICB0b0VsZW1LZXksXG4gICAgY29tYmluYXRpb25zLFxuICAgIHNlbGVjdGlvbiA9IG51bGwsXG4gICAgb25DbGljayxcbiAgICBvbkNvbnRleHRNZW51LFxuICAgIG9uSG92ZXIsXG4gICAgdGhlbWUsXG4gICAgZG90UGFkZGluZyxcbiAgICBzZXRDaGlsZHJlbkZhY3RvcnksXG4gICAgY29tYmluYXRpb25DaGlsZHJlbkZhY3RvcnksXG4gICAgd2lkdGhSYXRpb3MsXG4gICAgaGVpZ2h0UmF0aW9zLFxuICAgIHF1ZXJpZXMgPSBbXSxcbiAgICBzZXRBZGRvbnMsXG4gICAgY29tYmluYXRpb25BZGRvbnMsXG4gICAgYWx0ZXJuYXRpbmdCYWNrZ3JvdW5kQ29sb3IsXG4gICAgYmFuZFNjYWxlLFxuICAgIGJhckxhYmVsT2Zmc2V0LFxuICAgIGNsYXNzTmFtZXMsXG4gICAgY29sb3IsXG4gICAgY29tYmluYXRpb25OYW1lLFxuICAgIGNvbWJpbmF0aW9uTmFtZUF4aXNPZmZzZXQsXG4gICAgZXhwb3J0QnV0dG9ucyxcbiAgICBmb250RmFtaWx5LFxuICAgIGZvbnRTaXplcyxcbiAgICBob3ZlckhpbnRDb2xvcixcbiAgICBub3RNZW1iZXJDb2xvcixcbiAgICBudW1lcmljU2NhbGUsXG4gICAgcXVlcnlMZWdlbmQsXG4gICAgc2VsZWN0aW9uQ29sb3IsXG4gICAgc2V0TmFtZSxcbiAgICBzZXROYW1lQXhpc09mZnNldCxcbiAgICBzdHlsZXM6IGNTdHlsZXMsXG4gICAgdGV4dENvbG9yLFxuICAgIGVtcHR5U2VsZWN0aW9uLFxuICB9ID0gZmlsbERlZmF1bHRzKHByb3BzKTtcblxuICAvLyBnZW5lcmF0ZSBhIFwicmFuZG9tXCIgYnV0IGF0dHJpYnV0ZSBzdGFibGUgaWQgdG8gYXZvaWQgc3R5bGluZyBjb25mbGljdHNcbiAgY29uc3Qge1xuICAgIGF4aXNUaWNrOiBmb250QXhpc1RpY2ssXG4gICAgYmFyTGFiZWw6IGZvbnRCYXJMYWJlbCxcbiAgICBjaGFydExhYmVsOiBmb250Q2hhcnRMYWJlbCxcbiAgICBsZWdlbmQ6IGZvbnRMZWdlbmQsXG4gICAgc2V0TGFiZWw6IGZvbnRTZXRMYWJlbCxcbiAgfSA9IGZvbnRTaXplcztcbiAgY29uc3Qgc3R5bGVJZCA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIGlkXG4gICAgICAgID8gaWRcbiAgICAgICAgOiBnZW5lcmF0ZUlkKFtcbiAgICAgICAgICAgIGZvbnRGYW1pbHksXG4gICAgICAgICAgICBmb250QXhpc1RpY2ssXG4gICAgICAgICAgICBmb250QmFyTGFiZWwsXG4gICAgICAgICAgICBmb250Q2hhcnRMYWJlbCxcbiAgICAgICAgICAgIGZvbnRMZWdlbmQsXG4gICAgICAgICAgICBmb250U2V0TGFiZWwsXG4gICAgICAgICAgICB0ZXh0Q29sb3IsXG4gICAgICAgICAgICBob3ZlckhpbnRDb2xvcixcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgc2VsZWN0aW9uQ29sb3IsXG4gICAgICAgICAgICBub3RNZW1iZXJDb2xvcixcbiAgICAgICAgICAgIGFsdGVybmF0aW5nQmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgIF0pLFxuICAgIFtcbiAgICAgIGlkLFxuICAgICAgZm9udEZhbWlseSxcbiAgICAgIGZvbnRBeGlzVGljayxcbiAgICAgIGZvbnRCYXJMYWJlbCxcbiAgICAgIGZvbnRDaGFydExhYmVsLFxuICAgICAgZm9udExlZ2VuZCxcbiAgICAgIGZvbnRTZXRMYWJlbCxcbiAgICAgIHRleHRDb2xvcixcbiAgICAgIGhvdmVySGludENvbG9yLFxuICAgICAgY29sb3IsXG4gICAgICBzZWxlY3Rpb25Db2xvcixcbiAgICAgIG5vdE1lbWJlckNvbG9yLFxuICAgICAgYWx0ZXJuYXRpbmdCYWNrZ3JvdW5kQ29sb3IsXG4gICAgXVxuICApO1xuICBjb25zdCBzdHlsZUluZm8gPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBkZXJpdmVTdHlsZURlcGVuZGVudChcbiAgICAgICAgdGhlbWUsXG4gICAgICAgIGNTdHlsZXMsXG4gICAgICAgIGNsYXNzTmFtZXMsXG4gICAgICAgIGNvbWJpbmF0aW9uTmFtZSxcbiAgICAgICAgY29tYmluYXRpb25OYW1lQXhpc09mZnNldCxcbiAgICAgICAgc2V0TmFtZSxcbiAgICAgICAgc2V0TmFtZUF4aXNPZmZzZXQsXG4gICAgICAgIHN0eWxlSWQsXG4gICAgICAgIGJhckxhYmVsT2Zmc2V0LFxuICAgICAgICBzZWxlY3Rpb25Db2xvcixcbiAgICAgICAgZW1wdHlTZWxlY3Rpb25cbiAgICAgICksXG4gICAgW1xuICAgICAgdGhlbWUsXG4gICAgICBjU3R5bGVzLFxuICAgICAgY2xhc3NOYW1lcyxcbiAgICAgIGJhckxhYmVsT2Zmc2V0LFxuICAgICAgY29tYmluYXRpb25OYW1lLFxuICAgICAgY29tYmluYXRpb25OYW1lQXhpc09mZnNldCxcbiAgICAgIHNldE5hbWUsXG4gICAgICBzZXROYW1lQXhpc09mZnNldCxcbiAgICAgIHN0eWxlSWQsXG4gICAgICBzZWxlY3Rpb25Db2xvcixcbiAgICAgIGVtcHR5U2VsZWN0aW9uLFxuICAgIF1cbiAgKTtcblxuICBjb25zdCBzaXplSW5mbyA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIGRlZmluZVNpemVEZXBlbmRlbnQoXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIG1hcmdpbixcbiAgICAgICAgYmFyUGFkZGluZyxcbiAgICAgICAgd2lkdGhSYXRpb3MsXG4gICAgICAgIGhlaWdodFJhdGlvcyxcbiAgICAgICAgc2V0QWRkb25zLFxuICAgICAgICBjb21iaW5hdGlvbkFkZG9ucyxcbiAgICAgICAgaWRcbiAgICAgICksXG4gICAgW3dpZHRoLCBoZWlnaHQsIG1hcmdpbiwgYmFyUGFkZGluZywgd2lkdGhSYXRpb3MsIGhlaWdodFJhdGlvcywgc2V0QWRkb25zLCBjb21iaW5hdGlvbkFkZG9ucywgaWRdXG4gICk7XG5cbiAgY29uc3QgZGF0YUluZm8gPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBkZXJpdmVEYXRhRGVwZW5kZW50KFxuICAgICAgICBzZXRzLFxuICAgICAgICBjb21iaW5hdGlvbnMsXG4gICAgICAgIHNpemVJbmZvLFxuICAgICAgICBudW1lcmljU2NhbGUsXG4gICAgICAgIGJhbmRTY2FsZSxcbiAgICAgICAgYmFyTGFiZWxPZmZzZXQgKyBOdW1iZXIucGFyc2VJbnQoZm9udEJhckxhYmVsID8/ICcxMCcpLFxuICAgICAgICBkb3RQYWRkaW5nLFxuICAgICAgICBiYXJQYWRkaW5nLFxuICAgICAgICBOdW1iZXIucGFyc2VJbnQoZm9udEF4aXNUaWNrID8/ICcxMCcpLFxuICAgICAgICB0b0tleSxcbiAgICAgICAgdG9FbGVtS2V5LFxuICAgICAgICBpZFxuICAgICAgKSxcbiAgICBbXG4gICAgICBzZXRzLFxuICAgICAgY29tYmluYXRpb25zLFxuICAgICAgc2l6ZUluZm8sXG4gICAgICBudW1lcmljU2NhbGUsXG4gICAgICBiYW5kU2NhbGUsXG4gICAgICBiYXJMYWJlbE9mZnNldCxcbiAgICAgIGZvbnRCYXJMYWJlbCxcbiAgICAgIGRvdFBhZGRpbmcsXG4gICAgICBiYXJQYWRkaW5nLFxuICAgICAgZm9udEF4aXNUaWNrLFxuICAgICAgdG9LZXksXG4gICAgICB0b0VsZW1LZXksXG4gICAgICBpZCxcbiAgICBdXG4gICk7XG5cbiAgY29uc3QgcnVsZXMgPSBgXG4gIC5yb290LSR7c3R5bGVJZH0ge1xuICAgICR7Zm9udEZhbWlseSA/IGBmb250LWZhbWlseTogJHtmb250RmFtaWx5fTtgIDogJyd9XG4gIH1cbiAgLmF4aXNUZXh0U3R5bGUtJHtzdHlsZUlkfSB7XG4gICAgZmlsbDogJHt0ZXh0Q29sb3J9O1xuICAgICR7Zm9udEF4aXNUaWNrID8gYGZvbnQtc2l6ZTogJHtmb250QXhpc1RpY2t9O2AgOiAnJ31cbiAgICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xuICB9XG4gIC5iYXJUZXh0U3R5bGUtJHtzdHlsZUlkfSB7XG4gICAgZmlsbDogJHt0ZXh0Q29sb3J9O1xuICAgICR7Zm9udEJhckxhYmVsID8gYGZvbnQtc2l6ZTogJHtmb250QmFyTGFiZWx9O2AgOiAnJ31cbiAgfVxuICAuY0JhclRleHRTdHlsZS0ke3N0eWxlSWR9IHtcbiAgICBmaWxsOiAke3RleHRDb2xvcn07XG4gICAgJHtmb250QmFyTGFiZWwgPyBgZm9udC1zaXplOiAke2ZvbnRCYXJMYWJlbH07YCA6ICcnfVxuICAgIHRleHQtYW5jaG9yOiBtaWRkbGU7XG4gIH1cbiAgLnNCYXJUZXh0U3R5bGUtJHtzdHlsZUlkfSB7XG4gICAgZmlsbDogJHt0ZXh0Q29sb3J9O1xuICAgICR7Zm9udEJhckxhYmVsID8gYGZvbnQtc2l6ZTogJHtmb250QmFyTGFiZWx9O2AgOiAnJ31cbiAgICB0ZXh0LWFuY2hvcjogZW5kO1xuICAgIGRvbWluYW50LWJhc2VsaW5lOiBjZW50cmFsO1xuICB9XG4gIC5ob3ZlckJhclRleHRTdHlsZS0ke3N0eWxlSWR9IHtcbiAgICAke2ZvbnRCYXJMYWJlbCA/IGBmb250LXNpemU6ICR7Zm9udEJhckxhYmVsfTtgIDogJyd9XG4gICAgZmlsbDogJHtob3ZlckhpbnRDb2xvcn07XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xuICB9XG4gIC5zZXRUZXh0U3R5bGUtJHtzdHlsZUlkfSB7XG4gICAgZmlsbDogJHt0ZXh0Q29sb3J9O1xuICAgICR7Zm9udFNldExhYmVsID8gYGZvbnQtc2l6ZTogJHtmb250U2V0TGFiZWx9O2AgOiAnJ31cbiAgICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xuICAgIGRvbWluYW50LWJhc2VsaW5lOiBjZW50cmFsO1xuICB9XG4gIC5jQ2hhcnRUZXh0U3R5bGUtJHtzdHlsZUlkfSB7XG4gICAgZmlsbDogJHt0ZXh0Q29sb3J9O1xuICAgICR7Zm9udENoYXJ0TGFiZWwgPyBgZm9udC1zaXplOiAke2ZvbnRDaGFydExhYmVsfTtgIDogJyd9XG4gICAgdGV4dC1hbmNob3I6IG1pZGRsZTtcbiAgfVxuICAuc0NoYXJ0VGV4dFN0eWxlLSR7c3R5bGVJZH0ge1xuICAgIGZpbGw6ICR7dGV4dENvbG9yfTtcbiAgICAke2ZvbnRDaGFydExhYmVsID8gYGZvbnQtc2l6ZTogJHtmb250Q2hhcnRMYWJlbH07YCA6ICcnfVxuICAgIHRleHQtYW5jaG9yOiBtaWRkbGU7XG4gICAgZG9taW5hbnQtYmFzZWxpbmU6IGhhbmdpbmc7XG4gIH1cbiAgLmV4cG9ydFRleHRTdHlsZS0ke3N0eWxlSWR9IHtcbiAgICBmaWxsOiAke3RleHRDb2xvcn07XG4gICAgJHtmb250QmFyTGFiZWwgPyBgZm9udC1zaXplOiAke2ZvbnRCYXJMYWJlbH07YCA6ICcnfVxuICB9XG4gIC5sZWdlbmRUZXh0U3R5bGUtJHtzdHlsZUlkfSB7XG4gICAgZmlsbDogJHt0ZXh0Q29sb3J9O1xuICAgICR7Zm9udExlZ2VuZCA/IGBmb250LXNpemU6ICR7Zm9udExlZ2VuZH07YCA6ICcnfVxuICAgIHRleHQtYW5jaG9yOiBtaWRkbGU7XG4gICAgZG9taW5hbnQtYmFzZWxpbmU6IGhhbmdpbmc7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cbiAgLnN0YXJ0VGV4dC0ke3N0eWxlSWR9IHtcbiAgICB0ZXh0LWFuY2hvcjogc3RhcnQ7XG4gIH1cbiAgLmVuZFRleHQtJHtzdHlsZUlkfSB7XG4gICAgdGV4dC1hbmNob3I6IGVuZDtcbiAgfVxuICAucG5vbmUtJHtzdHlsZUlkfSB7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cbiAgLmZpbGxQcmltYXJ5LSR7c3R5bGVJZH0geyBmaWxsOiAke2NvbG9yfTsgfVxuICAuZmlsbFNlbGVjdGlvbi0ke3N0eWxlSWR9IHsgZmlsbDogJHtzZWxlY3Rpb25Db2xvcn07IH1cbiAgLmZpbGxOb3RNZW1iZXItJHtzdHlsZUlkfSB7IGZpbGw6ICR7bm90TWVtYmVyQ29sb3J9OyB9XG4gIC5maWxsQWx0ZXJuYXRpbmctJHtzdHlsZUlkfSB7IGZpbGw6ICR7YWx0ZXJuYXRpbmdCYWNrZ3JvdW5kQ29sb3IgfHwgJ3RyYW5zcGFyZW50J307IH1cbiAgLmZpbGxUcmFuc3BhcmVudC0ke3N0eWxlSWR9IHsgZmlsbDogdHJhbnNwYXJlbnQ7IH1cblxuICAuc2VsZWN0aW9uSGludC0ke3N0eWxlSWR9IHtcbiAgICBmaWxsOiB0cmFuc3BhcmVudDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBzdHJva2U6ICR7c2VsZWN0aW9uQ29sb3J9O1xuICB9XG5cbiAgLmF4aXNMaW5lLSR7c3R5bGVJZH0ge1xuICAgIGZpbGw6IG5vbmU7XG4gICAgc3Ryb2tlOiAke3RleHRDb2xvcn07XG4gIH1cbiAgLmNsaWNrQWJsZS0ke3N0eWxlSWR9IHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cblxuICAuaG92ZXJCYXItJHtzdHlsZUlkfSB7XG4gICAgZmlsbDogdHJhbnNwYXJlbnQ7XG4gIH1cblxuICAuaW50ZXJhY3RpdmUtJHtzdHlsZUlkfTpob3ZlciA+IC5ob3ZlckJhci0ke3N0eWxlSWR9IHtcbiAgICBzdHJva2U6ICR7aG92ZXJIaW50Q29sb3J9O1xuICB9XG4gIC5pbnRlcmFjdGl2ZS0ke3N0eWxlSWR9OmhvdmVyID4gLmhvdmVyQmFyVGV4dFN0eWxlLSR7c3R5bGVJZH0ge1xuICAgIGRpc3BsYXk6IHVuc2V0O1xuICB9XG5cbiAgLmV4cG9ydEJ1dHRvbnMtJHtzdHlsZUlkfSB7XG4gICAgdGV4dC1hbmNob3I6IG1pZGRsZTtcbiAgfVxuICAuZXhwb3J0QnV0dG9uLSR7c3R5bGVJZH0ge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBvcGFjaXR5OiAwLjU7XG4gIH1cbiAgLmV4cG9ydEJ1dHRvbi0ke3N0eWxlSWR9OmhvdmVyIHtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG4gIC5leHBvcnRCdXR0b24tJHtzdHlsZUlkfSA+IHJlY3Qge1xuICAgIGZpbGw6IG5vbmU7XG4gICAgc3Ryb2tlOiAke3RleHRDb2xvcn07XG4gIH1cblxuICAudXBzZXRMaW5lLSR7ZGF0YUluZm8uaWR9IHtcbiAgICBzdHJva2Utd2lkdGg6ICR7ZGF0YUluZm8uciAqIDAuNn07XG4gICAgc3Ryb2tlOiAke2NvbG9yfTtcbiAgfVxuXG4gIC51cHNldFNlbGVjdGlvbkxpbmUtJHtkYXRhSW5mby5pZH0ge1xuICAgIHN0cm9rZS13aWR0aDogJHtkYXRhSW5mby5yICogMC42ICogMS4xfTtcbiAgICBzdHJva2U6ICR7c2VsZWN0aW9uQ29sb3J9O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG4gICR7cXVlcmllc1xuICAgIC5tYXAoXG4gICAgICAocSwgaSkgPT4gYC5maWxsUSR7aX0tJHtkYXRhSW5mby5pZH0ge1xuICAgIGZpbGw6ICR7cS5jb2xvcn07XG4gIH1gXG4gICAgKVxuICAgIC5qb2luKCdcXG4nKX1cbiAgYDtcblxuICByZXR1cm4gKFxuICAgIDxzdmdcbiAgICAgIGlkPXtpZH1cbiAgICAgIGNsYXNzTmFtZT17Y2xzeChgcm9vdC0ke3N0eWxlSWR9YCwgY2xhc3NOYW1lKX1cbiAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgIGhlaWdodD17aGVpZ2h0fVxuICAgICAgcmVmPXtyZWZ9XG4gICAgICB2aWV3Qm94PXtgMCAwICR7d2lkdGh9ICR7aGVpZ2h0fWB9XG4gICAgICBkYXRhLXRoZW1lPXt0aGVtZSA/PyAnbGlnaHQnfVxuICAgID5cbiAgICAgIDxzdHlsZT57cnVsZXN9PC9zdHlsZT5cbiAgICAgIDxkZWZzPlxuICAgICAgICA8Y2xpcFBhdGggaWQ9e2BjbGlwLSR7c2l6ZUluZm8uaWR9YH0+XG4gICAgICAgICAgPHJlY3QgeD17c2l6ZUluZm8uc2V0cy53fSB5PXswfSB3aWR0aD17c2l6ZUluZm8ubGFiZWxzLnd9IGhlaWdodD17c2l6ZUluZm8uc2V0cy5ofSAvPlxuICAgICAgICA8L2NsaXBQYXRoPlxuICAgICAgPC9kZWZzPlxuICAgICAge3F1ZXJ5TGVnZW5kICYmIDxRdWVyeUxlZ2VuZCBxdWVyaWVzPXtxdWVyaWVzfSBzaXplPXtzaXplSW5mb30gc3R5bGU9e3N0eWxlSW5mb30gZGF0YT17ZGF0YUluZm99IC8+fVxuICAgICAge2V4cG9ydEJ1dHRvbnMgJiYgKFxuICAgICAgICA8RXhwb3J0QnV0dG9ucyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtzaXplSW5mby53IC0gMn0sJHtzaXplSW5mby5oIC0gM30pYH0gc3R5bGVJZD17c3R5bGVJZH0gLz5cbiAgICAgICl9XG4gICAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHttYXJnaW59LCR7bWFyZ2lufSlgfSBkYXRhLXVwc2V0PVwiYmFzZVwiPlxuICAgICAgICB7b25DbGljayAmJiAoXG4gICAgICAgICAgPHJlY3RcbiAgICAgICAgICAgIHdpZHRoPXtzaXplSW5mby5jcy54fVxuICAgICAgICAgICAgaGVpZ2h0PXtzaXplSW5mby5zZXRzLnl9XG4gICAgICAgICAgICBvbkNsaWNrPXsoZXZ0KSA9PiBvbkNsaWNrKG51bGwsIGV2dC5uYXRpdmVFdmVudCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BmaWxsVHJhbnNwYXJlbnQtJHtzdHlsZUlkfWB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgPFVwU2V0QXhpcyBzaXplPXtzaXplSW5mb30gc3R5bGU9e3N0eWxlSW5mb30gZGF0YT17ZGF0YUluZm99IC8+XG4gICAgICAgIDxVcFNldENoYXJ0PFQ+XG4gICAgICAgICAgc2l6ZT17c2l6ZUluZm99XG4gICAgICAgICAgc3R5bGU9e3N0eWxlSW5mb31cbiAgICAgICAgICBkYXRhPXtkYXRhSW5mb31cbiAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgIG9uSG92ZXI9e29uSG92ZXJ9XG4gICAgICAgICAgb25Db250ZXh0TWVudT17b25Db250ZXh0TWVudX1cbiAgICAgICAgICBzZXRDaGlsZHJlbkZhY3Rvcnk9e3NldENoaWxkcmVuRmFjdG9yeX1cbiAgICAgICAgICBjb21iaW5hdGlvbkNoaWxkcmVuRmFjdG9yeT17Y29tYmluYXRpb25DaGlsZHJlbkZhY3Rvcnl9XG4gICAgICAgIC8+XG4gICAgICAgIDxVcFNldFNlbGVjdGlvbiBzaXplPXtzaXplSW5mb30gc3R5bGU9e3N0eWxlSW5mb30gZGF0YT17ZGF0YUluZm99IG9uSG92ZXI9e29uSG92ZXJ9IHNlbGVjdGlvbj17c2VsZWN0aW9ufSAvPlxuICAgICAgICA8VXBTZXRRdWVyaWVzXG4gICAgICAgICAgc2l6ZT17c2l6ZUluZm99XG4gICAgICAgICAgc3R5bGU9e3N0eWxlSW5mb31cbiAgICAgICAgICBkYXRhPXtkYXRhSW5mb31cbiAgICAgICAgICBvbkhvdmVyPXtvbkhvdmVyfVxuICAgICAgICAgIHF1ZXJpZXM9e3F1ZXJpZXN9XG4gICAgICAgICAgc2Vjb25kYXJ5PXtvbkhvdmVyICE9IG51bGwgfHwgc2VsZWN0aW9uICE9IG51bGx9XG4gICAgICAgIC8+XG4gICAgICA8L2c+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9zdmc+XG4gICk7XG59KTtcblxuZXhwb3J0IHsgVXBTZXRKUyB9O1xuIiwiLyoqXG4gKiBAdXBzZXRqcy9yZWFjdFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXBTZXRSZWFjdFN0eWxlcywgVXBTZXRTdHlsZUNsYXNzTmFtZXMgfSBmcm9tICcuLi9VcFNldEpTJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVyaXZlU3R5bGVEZXBlbmRlbnQoXG4gIHRoZW1lOiAnZGFyaycgfCAnbGlnaHQnLFxuICBzdHlsZXM6IFVwU2V0UmVhY3RTdHlsZXMsXG4gIGNsYXNzTmFtZXM6IFVwU2V0U3R5bGVDbGFzc05hbWVzLFxuICBjb21iaW5hdGlvbk5hbWU6IHN0cmluZyB8IFJlYWN0Tm9kZSxcbiAgY29tYmluYXRpb25OYW1lQXhpc09mZnNldDogbnVtYmVyIHwgJ2F1dG8nLFxuICBzZXROYW1lOiBzdHJpbmcgfCBSZWFjdE5vZGUsXG4gIHNldE5hbWVBeGlzT2Zmc2V0OiBudW1iZXIgfCAnYXV0bycsXG4gIHN0eWxlSWQ6IHN0cmluZyxcbiAgYmFyTGFiZWxPZmZzZXQ6IG51bWJlcixcbiAgc2VsZWN0aW9uQ29sb3I6IHN0cmluZyxcbiAgZW1wdHlTZWxlY3Rpb246IGJvb2xlYW5cbikge1xuICByZXR1cm4ge1xuICAgIHRoZW1lLFxuICAgIHN0eWxlcyxcbiAgICBjbGFzc05hbWVzOiBjbGFzc05hbWVzLFxuICAgIGNzOiB7XG4gICAgICBuYW1lOiBjb21iaW5hdGlvbk5hbWUsXG4gICAgICBvZmZzZXQ6IGNvbWJpbmF0aW9uTmFtZUF4aXNPZmZzZXQsXG4gICAgfSxcbiAgICBzZXRzOiB7XG4gICAgICBuYW1lOiBzZXROYW1lLFxuICAgICAgb2Zmc2V0OiBzZXROYW1lQXhpc09mZnNldCxcbiAgICB9LFxuICAgIGVtcHR5U2VsZWN0aW9uLFxuICAgIGlkOiBzdHlsZUlkLFxuICAgIGJhckxhYmVsT2Zmc2V0LFxuICAgIHNlbGVjdGlvbkNvbG9yLFxuICB9O1xufVxuXG5leHBvcnQgZGVjbGFyZSB0eXBlIFVwU2V0U3R5bGVJbmZvID0gUmV0dXJuVHlwZTx0eXBlb2YgZGVyaXZlU3R5bGVEZXBlbmRlbnQ+O1xuIiwiLyoqXG4gKiBAdXBzZXRqcy9yZWFjdFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuaW1wb3J0IHsgVXBTZXRBZGRvbiB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXJpdmVTaXplRGVwZW5kZW50KFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbiAgbWFyZ2luOiBudW1iZXIsXG4gIGJhclBhZGRpbmc6IG51bWJlcixcbiAgd2lkdGhSYXRpb3M6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgaGVpZ2h0UmF0aW9zOiBbbnVtYmVyLCBudW1iZXJdLFxuICBzZXRBZGRvbnM6IFJlYWRvbmx5QXJyYXk8VXBTZXRBZGRvbjxhbnksIGFueT4+LFxuICBjb21iaW5hdGlvbkFkZG9uczogUmVhZG9ubHlBcnJheTxVcFNldEFkZG9uPGFueSwgYW55Pj4sXG4gIGlkOiBzdHJpbmdcbikge1xuICBjb25zdCBzZXRBZGRvbnNCZWZvcmUgPSBzZXRBZGRvbnMucmVkdWNlKChhY2MsIGEpID0+IGFjYyArIChhLnBvc2l0aW9uID09PSAnYmVmb3JlJyA/IGEuc2l6ZSA6IDApLCAwKTtcbiAgY29uc3Qgc2V0QWRkb25zQWZ0ZXIgPSBzZXRBZGRvbnMucmVkdWNlKChhY2MsIGEpID0+IGFjYyArIChhLnBvc2l0aW9uICE9PSAnYmVmb3JlJyA/IGEuc2l6ZSA6IDApLCAwKTtcbiAgY29uc3QgY29tYm5hdGlvbkFkZG9uc0JlZm9yZSA9IGNvbWJpbmF0aW9uQWRkb25zLnJlZHVjZSgoYWNjLCBhKSA9PiBhY2MgKyAoYS5wb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyBhLnNpemUgOiAwKSwgMCk7XG4gIGNvbnN0IGNvbWJpbmF0aW9uQWRkb25zQWZ0ZXIgPSBjb21iaW5hdGlvbkFkZG9ucy5yZWR1Y2UoKGFjYywgYSkgPT4gYWNjICsgKGEucG9zaXRpb24gIT09ICdiZWZvcmUnID8gYS5zaXplIDogMCksIDApO1xuICBjb25zdCBoID0gaGVpZ2h0IC0gMiAqIG1hcmdpbiAtIDIwIC0gY29tYmluYXRpb25BZGRvbnNBZnRlciAtIGNvbWJuYXRpb25BZGRvbnNCZWZvcmU7XG4gIGNvbnN0IHcgPSB3aWR0aCAtIDIgKiBtYXJnaW4gLSBzZXRBZGRvbnNCZWZvcmUgLSBzZXRBZGRvbnNBZnRlcjtcblxuICBjb25zdCBzZXRXaWR0aCA9IHcgKiB3aWR0aFJhdGlvc1swXTtcbiAgY29uc3QgbGFiZWxzV2lkdGggPSB3ICogd2lkdGhSYXRpb3NbMV07XG4gIGNvbnN0IGNvbWJpbmF0aW9uSGVpZ2h0ID0gaCAqIGhlaWdodFJhdGlvc1swXTtcbiAgcmV0dXJuIHtcbiAgICBpZDogaWQgPyBpZCA6IGdlbmVyYXRlSWQoKSxcbiAgICBjczoge1xuICAgICAgYmVmb3JlOiBjb21ibmF0aW9uQWRkb25zQmVmb3JlLFxuICAgICAgYWZ0ZXI6IGNvbWJpbmF0aW9uQWRkb25zQWZ0ZXIsXG4gICAgICB4OiBzZXRBZGRvbnNCZWZvcmUgKyBzZXRXaWR0aCArIGxhYmVsc1dpZHRoLFxuICAgICAgeTogY29tYm5hdGlvbkFkZG9uc0JlZm9yZSxcbiAgICAgIHc6IHcgLSBzZXRXaWR0aCAtIGxhYmVsc1dpZHRoLFxuICAgICAgaDogY29tYmluYXRpb25IZWlnaHQsXG4gICAgICBhZGRvbnM6IGNvbWJpbmF0aW9uQWRkb25zLFxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICB4OiBzZXRBZGRvbnNCZWZvcmUgKyBzZXRXaWR0aCxcbiAgICAgIHk6IGNvbWJuYXRpb25BZGRvbnNCZWZvcmUgKyBjb21iaW5hdGlvbkhlaWdodCxcbiAgICAgIHc6IGxhYmVsc1dpZHRoLFxuICAgICAgaDogaCAtIGNvbWJpbmF0aW9uSGVpZ2h0LFxuICAgIH0sXG4gICAgc2V0czoge1xuICAgICAgYmVmb3JlOiBzZXRBZGRvbnNCZWZvcmUsXG4gICAgICBhZnRlcjogc2V0QWRkb25zQWZ0ZXIsXG4gICAgICB4OiBzZXRBZGRvbnNCZWZvcmUsXG4gICAgICB5OiBjb21ibmF0aW9uQWRkb25zQmVmb3JlICsgY29tYmluYXRpb25IZWlnaHQsXG4gICAgICB3OiBzZXRXaWR0aCxcbiAgICAgIGg6IGggLSBjb21iaW5hdGlvbkhlaWdodCxcbiAgICAgIGFkZG9uczogc2V0QWRkb25zLFxuICAgIH0sXG4gICAgcGFkZGluZzogYmFyUGFkZGluZyxcbiAgICBsZWdlbmQ6IHtcbiAgICAgIHg6IHdpZHRoIC8gMixcbiAgICB9LFxuICAgIG1hcmdpbjogbWFyZ2luLFxuICAgIHc6IHdpZHRoLFxuICAgIGg6IGhlaWdodCxcbiAgfTtcbn1cblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBVcFNldFNpemVJbmZvID0gUmV0dXJuVHlwZTx0eXBlb2YgZGVyaXZlU2l6ZURlcGVuZGVudD47XG4iLCJcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgICAvLyBAdHMtbm9jaGVja1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdmFyIF9fU1RPUllfXyA9IFwiLyoqXFxuICogQHVwc2V0anMvYWRkb25zXFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xcbiAqXFxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cXG4gKi9cXG5cXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xcbmltcG9ydCB7IGJveHBsb3RBZGRvbiB9IGZyb20gJy4vQm94cGxvdCc7XFxuaW1wb3J0IFVwU2V0SlMsIHsgZXh0cmFjdFNldHMgfSBmcm9tICdAdXBzZXRqcy9yZWFjdCc7XFxuXFxuZXhwb3J0IGRlZmF1bHQge1xcbiAgdGl0bGU6ICdCb3ggcGxvdCBBZGRvbicsXFxufTtcXG5cXG5pbnRlcmZhY2UgSUVsZW0ge1xcbiAgbmFtZTogc3RyaW5nO1xcbiAgc2V0czogc3RyaW5nW107XFxuICB2YWx1ZTogbnVtYmVyO1xcbn1cXG5cXG5leHBvcnQgY29uc3QgRGVmYXVsdCA9ICgpID0+IHtcXG4gIGNvbnN0IGVsZW1zOiBJRWxlbVtdID0gW1xcbiAgICB7IG5hbWU6ICcxJywgc2V0czogWydvbmUnLCAndHdvJywgJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzInLCBzZXRzOiBbJ29uZScsICd0d28nXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcXG4gICAgeyBuYW1lOiAnMycsIHNldHM6IFsnb25lJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzQnLCBzZXRzOiBbJ3R3byddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxcbiAgICB7IG5hbWU6ICc1Jywgc2V0czogWydvbmUnLCAndHdvJywgJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzYnLCBzZXRzOiBbJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzcnLCBzZXRzOiBbJ29uZScsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxcbiAgICB7IG5hbWU6ICc4Jywgc2V0czogWydvbmUnLCAndGhyZWUnXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcXG4gICAgeyBuYW1lOiAnOScsIHNldHM6IFsndGhyZWUnXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcXG4gICAgeyBuYW1lOiAnMTAnLCBzZXRzOiBbJ3R3bycsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxcbiAgICB7IG5hbWU6ICcxMScsIHNldHM6IFsnb25lJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzEyJywgc2V0czogWydvbmUnLCAndGhyZWUnXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcXG4gICAgeyBuYW1lOiAnMTMnLCBzZXRzOiBbJ29uZScsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxcbiAgXTtcXG4gIGNvbnN0IHNldHMgPSBleHRyYWN0U2V0cyhlbGVtcyk7XFxuXFxuICByZXR1cm4gKFxcbiAgICA8VXBTZXRKU1xcbiAgICAgIHNldHM9e3NldHN9XFxuICAgICAgd2lkdGg9ezEyMDB9XFxuICAgICAgaGVpZ2h0PXs1MDB9XFxuICAgICAgc2V0QWRkb25zPXtbYm94cGxvdEFkZG9uKCd2YWx1ZScsIGVsZW1zKV19XFxuICAgICAgY29tYmluYXRpb25BZGRvbnM9e1tib3hwbG90QWRkb24oJ3ZhbHVlJywgZWxlbXMsIHsgb3JpZW50OiAndmVydGljYWwnIH0pXX1cXG4gICAgLz5cXG4gICk7XFxufTtcXG5cIjtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHZhciBfX0xPQ0FUSU9OU19NQVBfXyA9IHtcImJveC1wbG90LWFkZG9uLS1kZWZhdWx0XCI6e1wic3RhcnRMb2NcIjp7XCJjb2xcIjoyMyxcImxpbmVcIjoyMn0sXCJlbmRMb2NcIjp7XCJjb2xcIjoxLFwibGluZVwiOjQ5fSxcInN0YXJ0Qm9keVwiOntcImNvbFwiOjIzLFwibGluZVwiOjIyfSxcImVuZEJvZHlcIjp7XCJjb2xcIjoxLFwibGluZVwiOjQ5fX19O1xuICAgIFxuLyoqXG4gKiBAdXBzZXRqcy9hZGRvbnNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91cHNldGpzL3Vwc2V0anNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FtdWVsIEdyYXR6bCA8c2FtQHNncmF0emwuY29tPlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBib3hwbG90QWRkb24gfSBmcm9tICcuL0JveHBsb3QnO1xuaW1wb3J0IFVwU2V0SlMsIHsgZXh0cmFjdFNldHMgfSBmcm9tICdAdXBzZXRqcy9yZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtwYXJhbWV0ZXJzOiB7XCJzdG9yeVNvdXJjZVwiOntcInNvdXJjZVwiOlwiLyoqXFxuICogQHVwc2V0anMvYWRkb25zXFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xcbiAqXFxuICogQ29weXJpZ2h0IChjKSAyMDIwIFNhbXVlbCBHcmF0emwgPHNhbUBzZ3JhdHpsLmNvbT5cXG4gKi9cXG5cXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xcbmltcG9ydCB7IGJveHBsb3RBZGRvbiB9IGZyb20gJy4vQm94cGxvdCc7XFxuaW1wb3J0IFVwU2V0SlMsIHsgZXh0cmFjdFNldHMgfSBmcm9tICdAdXBzZXRqcy9yZWFjdCc7XFxuXFxuZXhwb3J0IGRlZmF1bHQge1xcbiAgdGl0bGU6ICdCb3ggcGxvdCBBZGRvbicsXFxufTtcXG5cXG5pbnRlcmZhY2UgSUVsZW0ge1xcbiAgbmFtZTogc3RyaW5nO1xcbiAgc2V0czogc3RyaW5nW107XFxuICB2YWx1ZTogbnVtYmVyO1xcbn1cXG5cXG5leHBvcnQgY29uc3QgRGVmYXVsdCA9ICgpID0+IHtcXG4gIGNvbnN0IGVsZW1zOiBJRWxlbVtdID0gW1xcbiAgICB7IG5hbWU6ICcxJywgc2V0czogWydvbmUnLCAndHdvJywgJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzInLCBzZXRzOiBbJ29uZScsICd0d28nXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcXG4gICAgeyBuYW1lOiAnMycsIHNldHM6IFsnb25lJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzQnLCBzZXRzOiBbJ3R3byddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxcbiAgICB7IG5hbWU6ICc1Jywgc2V0czogWydvbmUnLCAndHdvJywgJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzYnLCBzZXRzOiBbJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzcnLCBzZXRzOiBbJ29uZScsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxcbiAgICB7IG5hbWU6ICc4Jywgc2V0czogWydvbmUnLCAndGhyZWUnXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcXG4gICAgeyBuYW1lOiAnOScsIHNldHM6IFsndGhyZWUnXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcXG4gICAgeyBuYW1lOiAnMTAnLCBzZXRzOiBbJ3R3bycsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxcbiAgICB7IG5hbWU6ICcxMScsIHNldHM6IFsnb25lJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXFxuICAgIHsgbmFtZTogJzEyJywgc2V0czogWydvbmUnLCAndGhyZWUnXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcXG4gICAgeyBuYW1lOiAnMTMnLCBzZXRzOiBbJ29uZScsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxcbiAgXTtcXG4gIGNvbnN0IHNldHMgPSBleHRyYWN0U2V0cyhlbGVtcyk7XFxuXFxuICByZXR1cm4gKFxcbiAgICA8VXBTZXRKU1xcbiAgICAgIHNldHM9e3NldHN9XFxuICAgICAgd2lkdGg9ezEyMDB9XFxuICAgICAgaGVpZ2h0PXs1MDB9XFxuICAgICAgc2V0QWRkb25zPXtbYm94cGxvdEFkZG9uKCd2YWx1ZScsIGVsZW1zKV19XFxuICAgICAgY29tYmluYXRpb25BZGRvbnM9e1tib3hwbG90QWRkb24oJ3ZhbHVlJywgZWxlbXMsIHsgb3JpZW50OiAndmVydGljYWwnIH0pXX1cXG4gICAgLz5cXG4gICk7XFxufTtcXG5cIixcImxvY2F0aW9uc01hcFwiOntcImJveC1wbG90LWFkZG9uLS1kZWZhdWx0XCI6e1wic3RhcnRMb2NcIjp7XCJjb2xcIjoyMyxcImxpbmVcIjoyMn0sXCJlbmRMb2NcIjp7XCJjb2xcIjoxLFwibGluZVwiOjQ5fSxcInN0YXJ0Qm9keVwiOntcImNvbFwiOjIzLFwibGluZVwiOjIyfSxcImVuZEJvZHlcIjp7XCJjb2xcIjoxLFwibGluZVwiOjQ5fX19fSx9LFxuICB0aXRsZTogJ0JveCBwbG90IEFkZG9uJyxcbn07XG5cbmludGVyZmFjZSBJRWxlbSB7XG4gIG5hbWU6IHN0cmluZztcbiAgc2V0czogc3RyaW5nW107XG4gIHZhbHVlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0ID0gKCkgPT4ge1xuICBjb25zdCBlbGVtczogSUVsZW1bXSA9IFtcbiAgICB7IG5hbWU6ICcxJywgc2V0czogWydvbmUnLCAndHdvJywgJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXG4gICAgeyBuYW1lOiAnMicsIHNldHM6IFsnb25lJywgJ3R3byddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxuICAgIHsgbmFtZTogJzMnLCBzZXRzOiBbJ29uZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxuICAgIHsgbmFtZTogJzQnLCBzZXRzOiBbJ3R3byddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxuICAgIHsgbmFtZTogJzUnLCBzZXRzOiBbJ29uZScsICd0d28nLCAndGhyZWUnXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcbiAgICB7IG5hbWU6ICc2Jywgc2V0czogWyd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxuICAgIHsgbmFtZTogJzcnLCBzZXRzOiBbJ29uZScsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxuICAgIHsgbmFtZTogJzgnLCBzZXRzOiBbJ29uZScsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxuICAgIHsgbmFtZTogJzknLCBzZXRzOiBbJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXG4gICAgeyBuYW1lOiAnMTAnLCBzZXRzOiBbJ3R3bycsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxuICAgIHsgbmFtZTogJzExJywgc2V0czogWydvbmUnXSwgdmFsdWU6IE1hdGgucmFuZG9tKCkgfSxcbiAgICB7IG5hbWU6ICcxMicsIHNldHM6IFsnb25lJywgJ3RocmVlJ10sIHZhbHVlOiBNYXRoLnJhbmRvbSgpIH0sXG4gICAgeyBuYW1lOiAnMTMnLCBzZXRzOiBbJ29uZScsICd0aHJlZSddLCB2YWx1ZTogTWF0aC5yYW5kb20oKSB9LFxuICBdO1xuICBjb25zdCBzZXRzID0gZXh0cmFjdFNldHMoZWxlbXMpO1xuXG4gIHJldHVybiAoXG4gICAgPFVwU2V0SlNcbiAgICAgIHNldHM9e3NldHN9XG4gICAgICB3aWR0aD17MTIwMH1cbiAgICAgIGhlaWdodD17NTAwfVxuICAgICAgc2V0QWRkb25zPXtbYm94cGxvdEFkZG9uKCd2YWx1ZScsIGVsZW1zKV19XG4gICAgICBjb21iaW5hdGlvbkFkZG9ucz17W2JveHBsb3RBZGRvbigndmFsdWUnLCBlbGVtcywgeyBvcmllbnQ6ICd2ZXJ0aWNhbCcgfSldfVxuICAgIC8+XG4gICk7XG59O1xuIiwiLyoqXG4gKiBAdXBzZXRqcy9tb2RlbFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Vwc2V0anMvdXBzZXRqc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYW11ZWwgR3JhdHpsIDxzYW1Ac2dyYXR6bC5jb20+XG4gKi9cblxuaW1wb3J0IHsgSVNldHMsIElTZXQgfSBmcm9tICcuLi9tb2RlbCc7XG5cbi8qKlxuICogZXh0cmFjdCBzZXRzIG91dCBvZiBhIGdpdmVuIGVsZW1lbnQgYXJyYXksIHdoZXJlIGFuIGFjY2Vzc29yIGlzIHVzZWQgdG8gc3BlY2lmeSB0aGUgc2V0IG5hbWVzXG4gKiBAcGFyYW0gZWxlbWVudHMgbGlzdCBvZiBlbGVtZW50c1xuICogQHBhcmFtIGFjYyBhY2Nlc3NvciB0byBnZXQgdGhlIGxpc3Qgb2Ygc2V0cyB0aGUgZWxlbWVudCBiZWxvbmcgdG9cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXh0cmFjdFNldHM8VD4oZWxlbWVudHM6IFJlYWRvbmx5QXJyYXk8VD4sIGFjYzogKGVsZW06IFQpID0+IHN0cmluZ1tdKTogSVNldHM8VD47XG4vKipcbiAqIGV4dHJhY3Qgc2V0cyBvdXQgb2YgYSBnaXZlbiBlbGVtZW50IGFycmF5IHdoaWNoIGhhdmUgYSBgLnNldHNgIHByb3BlcnR5XG4gKiBAcGFyYW0gZWxlbWVudHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXh0cmFjdFNldHM8VCBleHRlbmRzIHsgc2V0czogc3RyaW5nW10gfT4oZWxlbWVudHM6IFJlYWRvbmx5QXJyYXk8VD4pOiBJU2V0czxUPjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXh0cmFjdFNldHM8VD4oXG4gIGVsZW1lbnRzOiBSZWFkb25seUFycmF5PFQ+LFxuICBhY2MgPSAoZTogVCkgPT4gKChlIGFzIHVua25vd24pIGFzIHsgc2V0czogc3RyaW5nW10gfSkuc2V0c1xuKTogSVNldHM8VD4ge1xuICBjb25zdCBzZXRzID0gbmV3IE1hcDxzdHJpbmcsIFRbXT4oKTtcblxuICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgYWNjKGVsZW0pLmZvckVhY2goKHNldCkgPT4ge1xuICAgICAgaWYgKCFzZXRzLmhhcyhzZXQpKSB7XG4gICAgICAgIHNldHMuc2V0KHNldCwgW2VsZW1dKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldHMuZ2V0KHNldCkhLnB1c2goZWxlbSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gQXJyYXkuZnJvbShzZXRzKS5tYXAoKFtzZXQsIGVsZW1zXSkgPT4ge1xuICAgIGNvbnN0IHI6IElTZXQ8VD4gPSB7XG4gICAgICB0eXBlOiAnc2V0JyxcbiAgICAgIGVsZW1zLFxuICAgICAgbmFtZTogc2V0LnRvU3RyaW5nKCksXG4gICAgICBjYXJkaW5hbGl0eTogZWxlbXMubGVuZ3RoLFxuICAgIH07XG4gICAgcmV0dXJuIHI7XG4gIH0pO1xufVxuIiwiaW1wb3J0ICdAc3Rvcnlib29rL3JlYWN0JzsiXSwic291cmNlUm9vdCI6IiJ9